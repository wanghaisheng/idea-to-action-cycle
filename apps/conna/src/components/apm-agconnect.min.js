!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("fs")):"function"==typeof define&&define.amd?define(["exports","fs"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).apmSdk={},t.fs)}(this,function(t,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=(e.prototype.registryService=function(t){var e=t.name;this.registeredService.has(e)||this.registeredService.set(e,t)},e.prototype.unregistryService=function(t){},e.prototype.getService=function(t,e,n){void 0===n&&(n="[DEFAULT_CATEGORY]");var r=this.servicesIdentifierMap.get(n);if(null==r)r=new Map,this.servicesIdentifierMap.set(n,r);else if(null!=(o=r.get(t)))return o;n=this.registeredService.get(t);if(null==n)return null;var o=n.serviceFactory(e);return r.set(t,o),o},new e);function e(){this.servicesIdentifierMap=new Map,this.registeredService=new Map}var p=(a.prototype.registerApiProvider=function(t,n,e){this[t]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(t)},null!=e&&function t(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Array:e=[];break;case Object:void 0===e&&(e={});break;case Date:return new Date(n.getTime());default:return n}for(var r in n)n.hasOwnProperty(r)&&(e[r]=t(e[r],n[r]));return e}(this[t],e)},a.prototype.registerInternalService=function(t){s.registryService(t)},a.prototype.getService=function(t,e,n){return s.getService(t,e,n)},new a);function a(){console.log("beta1")}var c=(u.prototype.get=function(){return null==this.instance&&(this.instance=this.factory()),this.instance},u);function u(t){this.factory=t}var f=(h.prototype.name=function(){return this.name_},h.prototype.configInstance=function(t){return this._config=t,this},h.prototype.config=function(){if(null==this._config)throw new Error("AGCInstance not configurated. call agconnect.instance().configInstance() to configure the agconnect.");return this._config},h.prototype.setApiKey=function(t){this.checkBeforeSetKey(),null!=this._config&&(this._config.client.api_key=t)},h.prototype.setClientSecret=function(t){this.checkBeforeSetKey(),null!=this._config&&(this._config.client.client_secret=t)},h.prototype.setClientId=function(t){this.checkBeforeSetKey(),null!=this._config&&(this._config.client.client_id=t)},h.prototype.getService=function(t){return this.repo_.getService(t,this,this.name_)},h.prototype.setCustomCredentialsProvider=function(t){return t?t.getToken?1!=t.getToken.length?(console.log("the customCredentialsProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customCredentialsProvider=t,!0):(console.log("the customCredentialsProvider must contain getToken method."),!1):(this._customCredentialsProvider=t,!0)},h.prototype.setCustomAuthProvider=function(t){return t?t.getToken?1!=t.getToken.length?(console.log("the customAuthProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customAuthProvider=t,!0):(console.log("the customAuthProvider must contain getToken method."),!1):(this._customAuthProvider=t,!0)},h.prototype.getCustomCredentialsProvider=function(){return this._customCredentialsProvider},h.prototype.getCustomAuthProvider=function(){return this._customAuthProvider},h.prototype.checkBeforeSetKey=function(){if(null==this._config)throw new Error("AGCInstance not configurated. call agconnect.instance().configInstance() to configure the agconnect.");if(!this._config.hasOwnProperty("client"))throw new Error("AGCInstance config value should contain key: client.")},h),l=new c(function(){return new f(p)});function h(t,e){this._config=null,this._customCredentialsProvider=null,this._customAuthProvider=null,this.repo_=t,this.name_=e||"[DEFAULT_CATEGORY]"}p.registerApiProvider("instance",function(){return l.get()});var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(t,e){return t(e={exports:{}},e.exports),e.exports}function Ft(t){try{return!!t()}catch(t){return!0}}function g(t){return I?E.createElement(t):{}}function Vt(t,e){if(!Wt(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Wt(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Wt(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Wt(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function $t(t){return"Symbol(".concat(void 0===t?"":t,")_",(++P+A).toString(36))}function y(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}var Ht=d(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),m={}.hasOwnProperty,Bt=function(t,e){return m.call(t,e)},Gt=!Ft(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),S=d(function(t){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)}),Wt=(S.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),w=function(t){if(!Wt(t))throw TypeError(t+" is not an object!");return t},E=Ht.document,I=Wt(E)&&Wt(E.createElement),_=!Gt&&!Ft(function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a}),T=Object.defineProperty,Kt={f:Gt?Object.defineProperty:function(t,e,n){if(w(t),e=Vt(e,!0),w(n),_)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},qt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Jt=Gt?function(t,e,n){return Kt.f(t,e,qt(1,n))}:function(t,e,n){return t[e]=n,t},P=0,A=Math.random(),b=d(function(t){var e="__core-js_shared__",n=Ht[e]||(Ht[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:S.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),R=b("native-function-to-string",Function.toString),C=d(function(t){var i=$t("src"),e="toString",s=(""+R).split(e);S.inspectSource=function(t){return R.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(Bt(n,"name")||Jt(n,"name",e)),t[e]!==n&&(o&&(Bt(n,i)||Jt(n,i,t[e]?""+t[e]:s.join(String(e)))),t===Ht?t[e]=n:r?t[e]?t[e]=n:Jt(t,e,n):(delete t[e],Jt(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||R.call(this)})}),Yt=function(r,o,t){if(y(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},O="prototype",N=function(t,e,n){var r,o,i,s=t&N.F,a=t&N.G,c=t&N.S,u=t&N.P,f=t&N.B,l=a?Ht:c?Ht[e]||(Ht[e]={}):(Ht[e]||{})[O],h=a?S:S[e]||(S[e]={}),p=h[O]||(h[O]={});for(r in a&&(n=e),n)o=((i=!s&&l&&void 0!==l[r])?l:n)[r],i=f&&i?Yt(o,Ht):u&&"function"==typeof o?Yt(Function.call,o):o,l&&C(l,r,o,t&N.U),h[r]!=o&&Jt(h,r,i),u&&p[r]!=o&&(p[r]=o)};Ht.core=S,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128;function F(t,e,n){t&&!Bt(t=n?t:t.prototype,G)&&B(t,G,{configurable:!0,value:e})}function x(t){var e=S.Symbol||(S.Symbol=Ht.Symbol||{});"_"==t.charAt(0)||t in e||K(e,t,{value:W.f(t)})}function U(t){return q.call(t).slice(8,-1)}function M(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}function L(t){return J(M(t))}function zt(t){return isNaN(t=+t)?0:(0<t?z:Y)(t)}function Xt(t,e){return(t=zt(t))<0?Q(t+e,0):Z(t,e)}function Qt(a){return function(t,e,n){var r,o=L(t),i=ne(o.length),s=Xt(n,i);if(a&&e!=e){for(;s<i;)if((r=o[s++])!=r)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}}function D(t,e){var n,r=L(t),o=0,i=[];for(n in r)n!=rt&&Bt(r,n)&&i.push(n);for(;e.length>o;)Bt(r,n=e[o++])&&(~nt(i,n)||i.push(n));return i}function Zt(t){return Object(M(t))}function j(){}function V(t){var e=xt[t]=re(Pt[kt]);return e._k=t,e}function $(t,e){w(t);for(var n,r=function(t){var e=it(t),n=st.f;if(n)for(var r,o=n(t),i=at.f,s=0;o.length>s;)i.call(t,r=o[s++])&&e.push(r);return e}(e=L(e)),o=0,i=r.length;o<i;)ce(t,n=r[o++],e[n]);return t}var te=N,H=d(function(t){function n(t){e(t,r,{value:{i:"O"+ ++o,w:{}}})}var r=$t("meta"),e=Kt.f,o=0,i=Object.isExtensible||function(){return!0},s=!Ft(function(){return i(Object.preventExtensions({}))}),a=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!Wt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Bt(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].i},getWeak:function(t,e){if(!Bt(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].w},onFreeze:function(t){return s&&a.NEED&&i(t)&&!Bt(t,r)&&n(t),t}}}),ee=(H.KEY,H.NEED,H.fastKey,H.getWeak,H.onFreeze,d(function(t){var e=b("wks"),n=Ht.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:$t)("Symbol."+t))}).store=e})),B=Kt.f,G=ee("toStringTag"),W={f:ee},K=Kt.f,q={}.toString,J=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==U(t)?t.split(""):Object(t)},Y=Math.ceil,z=Math.floor,X=Math.min,ne=function(t){return 0<t?X(zt(t),9007199254740991):0},Q=Math.max,Z=Math.min,tt=b("keys"),et=function(t){return tt[t]||(tt[t]=$t(t))},nt=Qt(!1),rt=et("IE_PROTO"),ot="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),it=Object.keys||function(t){return D(t,ot)},st={f:Object.getOwnPropertySymbols},at={f:{}.propertyIsEnumerable},ct=Array.isArray||function(t){return"Array"==U(t)},ut=Gt?Object.defineProperties:function(t,e){w(t);for(var n,r=it(e),o=r.length,i=0;i<o;)Kt.f(t,n=r[i++],e[n]);return t},ft=Ht.document,lt=ft&&ft.documentElement,ht=et("IE_PROTO"),pt="prototype",dt=function(){var t=g("iframe"),e=ot.length;for(t.style.display="none",lt.appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dt=t.F;e--;)delete dt[pt][ot[e]];return dt()},re=Object.create||function(t,e){var n;return null!==t?(j[pt]=w(t),n=new j,j[pt]=null,n[ht]=t):n=dt(),void 0===e?n:ut(n,e)},gt=ot.concat("length","prototype"),oe={f:Object.getOwnPropertyNames||function(t){return D(t,gt)}},vt=oe.f,yt={}.toString,mt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],St={f:function(t){return mt&&"[object Window]"==yt.call(t)?function(t){try{return vt(t)}catch(t){return mt.slice()}}(t):vt(L(t))}},Et=Object.getOwnPropertyDescriptor,ie={f:Gt?Et:function(t,e){if(t=L(t),e=Vt(e,!0),_)try{return Et(t,e)}catch(t){}if(Bt(t,e))return qt(!at.f.call(t,e),t[e])}},It=H.KEY,wt=ie.f,_t=Kt.f,Tt=St.f,Pt=Ht.Symbol,At=Ht.JSON,bt=At&&At.stringify,kt="prototype",Rt=ee("_hidden"),Ct=ee("toPrimitive"),Ot={}.propertyIsEnumerable,Nt=b("symbol-registry"),xt=b("symbols"),Ut=b("op-symbols"),Mt=Object[kt],Lt="function"==typeof Pt&&!!st.f,Dt=Ht.QObject,jt=!Dt||!Dt[kt]||!Dt[kt].findChild,se=Gt&&Ft(function(){return 7!=re(_t({},"a",{get:function(){return _t(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=wt(Mt,e);r&&delete Mt[e],_t(t,e,n),r&&t!==Mt&&_t(Mt,e,r)}:_t,ae=Lt&&"symbol"==typeof Pt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Pt},ce=function(t,e,n){return t===Mt&&ce(Ut,e,n),w(t),e=Vt(e,!0),w(n),Bt(xt,e)?(n.enumerable?(Bt(t,Rt)&&t[Rt][e]&&(t[Rt][e]=!1),n=re(n,{enumerable:qt(0,!1)})):(Bt(t,Rt)||_t(t,Rt,qt(1,{})),t[Rt][e]=!0),se(t,e,n)):_t(t,e,n)},ue=function(t){var e=Ot.call(this,t=Vt(t,!0));return!(this===Mt&&Bt(xt,t)&&!Bt(Ut,t))&&(!(e||!Bt(this,t)||!Bt(xt,t)||Bt(this,Rt)&&this[Rt][t])||e)},fe=function(t,e){if(t=L(t),e=Vt(e,!0),t!==Mt||!Bt(xt,e)||Bt(Ut,e)){var n=wt(t,e);return!n||!Bt(xt,e)||Bt(t,Rt)&&t[Rt][e]||(n.enumerable=!0),n}},ft=function(t){for(var e,n=Tt(L(t)),r=[],o=0;n.length>o;)Bt(xt,e=n[o++])||e==Rt||e==It||r.push(e);return r},Dt=function(t){for(var e,n=t===Mt,r=Tt(n?Ut:L(t)),o=[],i=0;r.length>i;)!Bt(xt,e=r[i++])||n&&!Bt(Mt,e)||o.push(xt[e]);return o};Lt||(C((Pt=function(t){if(this instanceof Pt)throw TypeError("Symbol is not a constructor!");var e=$t(0<arguments.length?t:void 0),n=function(t){this===Mt&&n.call(Ut,t),Bt(this,Rt)&&Bt(this[Rt],e)&&(this[Rt][e]=!1),se(this,e,qt(1,t))};return Gt&&jt&&se(Mt,e,{configurable:!0,set:n}),V(e)})[kt],"toString",function(){return this._k}),ie.f=fe,Kt.f=ce,oe.f=St.f=ft,at.f=ue,st.f=Dt,Gt&&C(Mt,"propertyIsEnumerable",ue,!0),W.f=function(t){return V(ee(t))}),te(te.G+te.W+te.F*!Lt,{Symbol:Pt});for(var le="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),he=0;le.length>he;)ee(le[he++]);for(var pe=it(ee.store),de=0;pe.length>de;)x(pe[de++]);te(te.S+te.F*!Lt,"Symbol",{for:function(t){return Bt(Nt,t+="")?Nt[t]:Nt[t]=Pt(t)},keyFor:function(t){if(!ae(t))throw TypeError(t+" is not a symbol!");for(var e in Nt)if(Nt[e]===t)return e},useSetter:function(){jt=!0},useSimple:function(){jt=!1}}),te(te.S+te.F*!Lt,"Object",{create:function(t,e){return void 0===e?re(t):$(re(t),e)},defineProperty:ce,defineProperties:$,getOwnPropertyDescriptor:fe,getOwnPropertyNames:ft,getOwnPropertySymbols:Dt});ue=Ft(function(){st.f(1)});te(te.S+te.F*ue,"Object",{getOwnPropertySymbols:function(t){return st.f(Zt(t))}}),At&&te(te.S+te.F*(!Lt||Ft(function(){var t=Pt();return"[null]"!=bt([t])||"{}"!=bt({a:t})||"{}"!=bt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=e=r[1],(Wt(e)||void 0!==t)&&!ae(t))return ct(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ae(e))return e}),r[1]=e,bt.apply(At,r)}}),Pt[kt][Ct]||Jt(Pt[kt],Ct,Pt[kt].valueOf),F(Pt,"Symbol"),F(Math,"Math",!0),F(Ht.JSON,"JSON",!0),te(te.S,"Object",{create:re}),te(te.S+te.F*!Gt,"Object",{defineProperty:Kt.f}),te(te.S+te.F*!Gt,"Object",{defineProperties:ut});var fe=function(t,e){var n=(S.Object||{})[t]||Object[t],r={};r[t]=e(n),te(te.S+te.F*Ft(function(){n(1)}),"Object",r)},ge=ie.f;fe("getOwnPropertyDescriptor",function(){return function(t,e){return ge(L(t),e)}});var ve=et("IE_PROTO"),ye=Object.prototype,me=Object.getPrototypeOf||function(t){return t=Zt(t),Bt(t,ve)?t[ve]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ye:null};fe("getPrototypeOf",function(){return function(t){return me(Zt(t))}}),fe("keys",function(){return function(t){return it(Zt(t))}}),fe("getOwnPropertyNames",function(){return St.f});var Se=H.onFreeze;fe("freeze",function(e){return function(t){return e&&Wt(t)?e(Se(t)):t}});var Ee=H.onFreeze;fe("seal",function(e){return function(t){return e&&Wt(t)?e(Ee(t)):t}});var Ie=H.onFreeze;fe("preventExtensions",function(e){return function(t){return e&&Wt(t)?e(Ie(t)):t}}),fe("isFrozen",function(e){return function(t){return!Wt(t)||!!e&&e(t)}}),fe("isSealed",function(e){return function(t){return!Wt(t)||!!e&&e(t)}}),fe("isExtensible",function(e){return function(t){return!!Wt(t)&&(!e||e(t))}});var we=Object.assign,_e=!we||Ft(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=we({},t)[n]||Object.keys(we({},e)).join("")!=r})?function(t){for(var e=Zt(t),n=arguments.length,r=1,o=st.f,i=at.f;r<n;)for(var s,a=J(arguments[r++]),c=o?it(a).concat(o(a)):it(a),u=c.length,f=0;f<u;)s=c[f++],Gt&&!i.call(a,s)||(e[s]=a[s]);return e}:we;te(te.S+te.F,"Object",{assign:_e});var Te=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};te(te.S,"Object",{is:Te});function Pe(t,e){if(w(t),!Wt(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var Ae={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=Yt(Function.call,ie.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return Pe(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:Pe};te(te.S,"Object",{setPrototypeOf:Ae.set});function be(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ke))?t:Re?U(e):"Object"==(t=U(e))&&"function"==typeof e.callee?"Arguments":t}var ke=ee("toStringTag"),Re="Arguments"==U(function(){return arguments}()),ft={};ft[ee("toStringTag")]="z",ft+""!="[object z]"&&C(Object.prototype,"toString",function(){return"[object "+be(this)+"]"},!0);function Ce(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}var Oe=[].slice,Ne={},xe=Function.bind||function(e){var n=y(this),r=Oe.call(arguments,1),o=function(){var t=r.concat(Oe.call(arguments));return this instanceof o?function(t,e,n){if(!(e in Ne)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";Ne[e]=Function("F,a","return new F("+r.join(",")+")")}return Ne[e](t,n)}(n,t.length,t):Ce(n,t,e)};return Wt(n.prototype)&&(o.prototype=n.prototype),o};te(te.P,"Function",{bind:xe});var Dt=Kt.f,ue=Function.prototype,Ue=/^\s*function ([^ (]*)/;"name"in ue||Gt&&Dt(ue,"name",{configurable:!0,get:function(){try{return(""+this).match(Ue)[1]}catch(t){return""}}});Lt=ee("hasInstance"),Ct=Function.prototype;Lt in Ct||Kt.f(Ct,Lt,{value:function(t){if("function"!=typeof this||!Wt(t))return!1;if(!Wt(this.prototype))return t instanceof this;for(;t=me(t);)if(this.prototype===t)return!0;return!1}});var Me="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",et="["+Me+"]",Le=RegExp("^"+et+et+"*"),De=RegExp(et+et+"*$"),fe=function(t,e,n){var r={},o=Ft(function(){return Me[t]()||"​"!="​"[t]()}),e=r[t]=o?e(je):Me[t];n&&(r[n]=e),te(te.P+te.F*o,"String",r)},je=fe.trim=function(t,e){return t=String(M(t)),1&e&&(t=t.replace(Le,"")),2&e&&(t=t.replace(De,"")),t},ft=fe,Fe=Ht.parseInt,Ve=ft.trim,$e=/^[-+]?0[xX]/,Dt=8!==Fe(Me+"08")||22!==Fe(Me+"0x16")?function(t,e){t=Ve(String(t),3);return Fe(t,e>>>0||($e.test(t)?16:10))}:Fe;te(te.G+te.F*(parseInt!=Dt),{parseInt:Dt});var He=Ht.parseFloat,Be=ft.trim,ue=1/He(Me+"-0")!=-1/0?function(t){var e=Be(String(t),3),t=He(e);return 0===t&&"-"==e.charAt(0)?-0:t}:He;te(te.G+te.F*(parseFloat!=ue),{parseFloat:ue});function Ge(t,e,n){var r;return(e=e.constructor)!==n&&"function"==typeof e&&(r=e.prototype)!==n.prototype&&Wt(r)&&Ke&&Ke(t,r),t}function We(t){var e=Vt(t,!1);if("string"==typeof e&&2<e.length){var n,r,o=(e=en?e.trim():Ye(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(t=e.charCodeAt(2))||120===t)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var i,s=e.slice(2),a=0,c=s.length;a<c;a++)if((i=s.charCodeAt(a))<48||r<i)return NaN;return parseInt(s,n)}}return+e}var Ke=Ae.set,Ct=oe.f,qe=ie.f,Je=Kt.f,Ye=ft.trim,ze="Number",Xe=Ht[ze],Qe=Xe,Ze=Xe.prototype,tn=U(re(Ze))==ze,en="trim"in String.prototype;if(!Xe(" 0o1")||!Xe("0b1")||Xe("+0x1")){Xe=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof Xe&&(tn?Ft(function(){Ze.valueOf.call(e)}):U(e)!=ze)?Ge(new Qe(We(t)),e,Xe):We(t)};for(var nn,rn=Gt?Ct(Qe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),on=0;rn.length>on;on++)Bt(Qe,nn=rn[on])&&!Bt(Xe,nn)&&Je(Xe,nn,qe(Qe,nn));(Xe.prototype=Ze).constructor=Xe,C(Ht,ze,Xe)}function sn(t,e){if("number"!=typeof t&&"Number"!=U(t))throw TypeError(e);return+t}function an(t){var e=String(M(this)),n="",r=zt(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}function cn(t,e){for(var n=-1,r=e;++n<6;)r+=t*pn[n],pn[n]=r%1e7,r=hn(r/1e7)}function un(t){for(var e=6,n=0;0<=--e;)n+=pn[e],pn[e]=hn(n/t),n=n%t*1e7}function fn(){for(var t,e=6,n="";0<=--e;)""===n&&0!==e&&0===pn[e]||(t=String(pn[e]),n=""===n?t:n+an.call("0",7-t.length)+t);return n}var ln=1..toFixed,hn=Math.floor,pn=[0,0,0,0,0,0],dn="Number.toFixed: incorrect invocation!",gn=function(t,e,n){return 0===e?n:e%2==1?gn(t,e-1,n*t):gn(t*t,e/2,n)};te(te.P+te.F*(!!ln&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!Ft(function(){ln.call({})})),"Number",{toFixed:function(t){var e,n,r=sn(this,dn),o=zt(t),i="",t="0";if(o<0||20<o)throw RangeError(dn);if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return String(r);if(r<0&&(i="-",r=-r),1e-21<r)if(r=(n=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(r*gn(2,69,1))-69)<0?r*gn(2,-n,1):r/gn(2,n,1),r*=4503599627370496,0<(n=52-n)){for(cn(0,r),e=o;7<=e;)cn(1e7,0),e-=7;for(cn(gn(10,e,1),0),e=n-1;23<=e;)un(1<<23),e-=23;un(1<<e),cn(1,1),un(2),t=fn()}else cn(0,r),cn(1<<-n,0),t=fn()+an.call("0",o);return t=0<o?i+((n=t.length)<=o?"0."+an.call("0",o-n)+t:t.slice(0,n-o)+"."+t.slice(n-o)):i+t}});var vn=1..toPrecision;te(te.P+te.F*(Ft(function(){return"1"!==vn.call(1,void 0)})||!Ft(function(){vn.call({})})),"Number",{toPrecision:function(t){var e=sn(this,"Number#toPrecision: incorrect invocation!");return void 0===t?vn.call(e):vn.call(e,t)}}),te(te.S,"Number",{EPSILON:Math.pow(2,-52)});var yn=Ht.isFinite;te(te.S,"Number",{isFinite:function(t){return"number"==typeof t&&yn(t)}});function mn(t){return!Wt(t)&&isFinite(t)&&Sn(t)===t}var Sn=Math.floor;te(te.S,"Number",{isInteger:mn}),te(te.S,"Number",{isNaN:function(t){return t!=t}});var En=Math.abs;te(te.S,"Number",{isSafeInteger:function(t){return mn(t)&&En(t)<=9007199254740991}}),te(te.S,"Number",{MAX_SAFE_INTEGER:9007199254740991}),te(te.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),te(te.S+te.F*(Number.parseFloat!=ue),"Number",{parseFloat:ue}),te(te.S+te.F*(Number.parseInt!=Dt),"Number",{parseInt:Dt});var In=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)},wn=Math.sqrt,Lt=Math.acosh;te(te.S+te.F*!(Lt&&710==Math.floor(Lt(Number.MAX_VALUE))&&Lt(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:In(t-1+wn(t-1)*wn(t+1))}});et=Math.asinh;te(te.S+te.F*!(et&&0<1/et(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}});fe=Math.atanh;te(te.S+te.F*!(fe&&1/fe(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});var _n=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};te(te.S,"Math",{cbrt:function(t){return _n(t=+t)*Math.pow(Math.abs(t),1/3)}}),te(te.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var Tn=Math.exp;te(te.S,"Math",{cosh:function(t){return(Tn(t=+t)+Tn(-t))/2}});var Ct=Math.expm1,Pn=!Ct||22025.465794806718<Ct(10)||Ct(10)<22025.465794806718||-2e-17!=Ct(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:Ct;te(te.S+te.F*(Pn!=Math.expm1),"Math",{expm1:Pn});var ue=Math.pow,An=ue(2,-52),bn=ue(2,-23),kn=ue(2,127)*(2-bn),Rn=ue(2,-126),Cn=Math.fround||function(t){var e=Math.abs(t),n=_n(t);return e<Rn?n*(e/Rn/bn+1/An-1/An)*Rn*bn:kn<(e=(t=(1+bn/An)*e)-(t-e))||e!=e?n*(1/0):n*e};te(te.S,"Math",{fround:Cn});var On=Math.abs;te(te.S,"Math",{hypot:function(){for(var t,e,n=0,r=0,o=arguments.length,i=0;r<o;)i<(t=On(arguments[r++]))?(n=n*(e=i/t)*e+1,i=t):n+=0<t?(e=t/i)*e:t;return i===1/0?1/0:i*Math.sqrt(n)}});var Nn=Math.imul;te(te.S+te.F*Ft(function(){return-5!=Nn(4294967295,5)||2!=Nn.length}),"Math",{imul:function(t,e){var n=65535,r=+t,o=+e,t=n&r,e=n&o;return 0|t*e+((n&r>>>16)*e+t*(n&o>>>16)<<16>>>0)}}),te(te.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}}),te(te.S,"Math",{log1p:In}),te(te.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}}),te(te.S,"Math",{sign:_n});var xn=Math.exp;te(te.S+te.F*Ft(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(Pn(t)-Pn(-t))/2:(xn(t-1)-xn(-t-1))*(Math.E/2)}});var Un=Math.exp;te(te.S,"Math",{tanh:function(t){var e=Pn(t=+t),n=Pn(-t);return e==1/0?1:n==1/0?-1:(e-n)/(Un(t)+Un(-t))}}),te(te.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}});var Mn=String.fromCharCode,Dt=String.fromCodePoint;te(te.S+te.F*(!!Dt&&1!=Dt.length),"String",{fromCodePoint:function(){for(var t,e=[],n=arguments.length,r=0;r<n;){if(t=+arguments[r++],Xt(t,1114111)!==t)throw RangeError(t+" is not a valid code point");e.push(t<65536?Mn(t):Mn(55296+((t-=65536)>>10),t%1024+56320))}return e.join("")}}),te(te.S,"String",{raw:function(t){for(var e=L(t.raw),n=ne(e.length),r=arguments.length,o=[],i=0;i<n;)o.push(String(e[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}}),ft("trim",function(t){return function(){return t(this,3)}});var Lt=function(i){return function(t,e){var n,r=String(M(t)),o=zt(e),t=r.length;return o<0||t<=o?i?"":void 0:(e=r.charCodeAt(o))<55296||56319<e||o+1===t||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):e:i?r.slice(o,o+2):n-56320+(e-55296<<10)+65536}},Ln={},Dn={};Jt(Dn,ee("iterator"),function(){return this});function jn(t,e,n){t.prototype=re(Dn,{next:qt(1,n)}),F(t,e+" Iterator")}function Fn(){return this}function Vn(t,e,n,r,o,i,s){function a(t){if(!Hn&&t in d)return d[t];switch(t){case"keys":case Bn:return function(){return new n(this,t)}}return function(){return new n(this,t)}}jn(n,e,r);var c,u,f,l=e+" Iterator",h=o==Bn,p=!1,d=t.prototype,g=d[$n]||d["@@iterator"]||o&&d[o],v=g||a(o),y=o?h?a("entries"):v:void 0;if((r="Array"==e&&d.entries||g)&&(f=me(r.call(new t)))!==Object.prototype&&f.next&&(F(f,l,!0),"function"!=typeof f[$n]&&Jt(f,$n,Fn)),h&&g&&g.name!==Bn&&(p=!0,v=function(){return g.call(this)}),!Hn&&!p&&d[$n]||Jt(d,$n,v),Ln[e]=v,Ln[l]=Fn,o)if(c={values:h?v:a(Bn),keys:i?v:a("keys"),entries:y},s)for(u in c)u in d||C(d,u,c[u]);else te(te.P+te.F*(Hn||p),e,c);return c}var $n=ee("iterator"),Hn=!([].keys&&"next"in[].keys()),Bn="values",Gn=Lt(!0);Vn(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(e=Gn(t,e),this._i+=e.length,{value:e,done:!1})});var Wn=Lt(!1);te(te.P,"String",{codePointAt:function(t){return Wn(this,t)}});function Kn(t){var e;return Wt(t)&&(void 0!==(e=t[Jn])?!!e:"RegExp"==U(t))}function qn(t,e,n){if(Kn(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(M(t))}var Jn=ee("match"),Yn=ee("match"),et=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Yn]=!1,!"/./"[e](n)}catch(t){}}return!0},zn="endsWith",Xn=""[zn];te(te.P+te.F*et(zn),"String",{endsWith:function(t,e){var n=qn(this,t,zn),r=1<arguments.length?e:void 0,e=ne(n.length),e=void 0===r?e:Math.min(ne(r),e),t=String(t);return Xn?Xn.call(n,t,e):n.slice(e-t.length,e)===t}});var Qn="includes";te(te.P+te.F*et(Qn),"String",{includes:function(t,e){return!!~qn(this,t,Qn).indexOf(t,1<arguments.length?e:void 0)}}),te(te.P,"String",{repeat:an});var Zn="startsWith",tr=""[Zn];te(te.P+te.F*et(Zn),"String",{startsWith:function(t,e){var n=qn(this,t,Zn),e=ne(Math.min(1<arguments.length?e:void 0,n.length)),t=String(t);return tr?tr.call(n,t,e):n.slice(e,e+t.length)===t}});function er(t,e,n,r){var o=String(M(t)),t="<"+e;return""!==n&&(t+=" "+n+'="'+String(r).replace(nr,"&quot;")+'"'),t+">"+o+"</"+e+">"}var nr=/"/g,fe=function(e,t){var n={};n[e]=t(er),te(te.P+te.F*Ft(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)};fe("anchor",function(e){return function(t){return e(this,"a","name",t)}}),fe("big",function(t){return function(){return t(this,"big","","")}}),fe("blink",function(t){return function(){return t(this,"blink","","")}}),fe("bold",function(t){return function(){return t(this,"b","","")}}),fe("fixed",function(t){return function(){return t(this,"tt","","")}}),fe("fontcolor",function(e){return function(t){return e(this,"font","color",t)}}),fe("fontsize",function(e){return function(t){return e(this,"font","size",t)}}),fe("italics",function(t){return function(){return t(this,"i","","")}}),fe("link",function(e){return function(t){return e(this,"a","href",t)}}),fe("small",function(t){return function(){return t(this,"small","","")}}),fe("strike",function(t){return function(){return t(this,"strike","","")}}),fe("sub",function(t){return function(){return t(this,"sub","","")}}),fe("sup",function(t){return function(){return t(this,"sup","","")}}),te(te.S,"Date",{now:function(){return(new Date).getTime()}}),te(te.P+te.F*Ft(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=Zt(this),e=Vt(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}});function rr(t){return 9<t?t:"0"+t}var or=Date.prototype.getTime,ir=Date.prototype.toISOString,Ct=Ft(function(){return"0385-07-25T07:06:39.999Z"!=ir.call(new Date(-5e13-1))})||!Ft(function(){ir.call(new Date(NaN))})?function(){if(!isFinite(or.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":9999<e?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+rr(t.getUTCMonth()+1)+"-"+rr(t.getUTCDate())+"T"+rr(t.getUTCHours())+":"+rr(t.getUTCMinutes())+":"+rr(t.getUTCSeconds())+"."+(99<n?n:"0"+rr(n))+"Z"}:ir;te(te.P+te.F*(Date.prototype.toISOString!==Ct),"Date",{toISOString:Ct});var ue=Date.prototype,sr="Invalid Date",Dt="toString",ar=ue[Dt],cr=ue.getTime;new Date(NaN)+""!=sr&&C(ue,Dt,function(){var t=cr.call(this);return t==t?ar.call(this):sr});et=ee("toPrimitive"),fe=Date.prototype;et in fe||Jt(fe,et,function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return Vt(w(this),"number"!=t)}),te(te.S,"Array",{isArray:ct});function ur(e,t,n,r){try{return r?t(w(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&w(o.call(e)),t}}function fr(t){return void 0!==t&&(Ln.Array===t||pr[hr]===t)}function lr(t,e,n){e in t?Kt.f(t,e,qt(0,n)):t[e]=n}var hr=ee("iterator"),pr=Array.prototype,dr=ee("iterator"),gr=S.getIteratorMethod=function(t){if(null!=t)return t[dr]||t["@@iterator"]||Ln[be(t)]},vr=ee("iterator"),yr=!1;try{var mr=[7][vr]();mr.return=function(){yr=!0},Array.from(mr,function(){throw 2})}catch(s){}function Sr(t,e){if(!e&&!yr)return!1;var n=!1;try{var r=[7],o=r[vr]();o.next=function(){return{done:n=!0}},r[vr]=function(){return o},t(r)}catch(t){}return n}te(te.S+te.F*!Sr(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var r,o,i,s,a=Zt(t),c="function"==typeof this?this:Array,t=arguments.length,u=1<t?e:void 0,f=void 0!==u,l=0,e=gr(a);if(f&&(u=Yt(u,2<t?n:void 0,2)),null==e||c==Array&&fr(e))for(o=new c(r=ne(a.length));l<r;l++)lr(o,l,f?u(a[l],l):a[l]);else for(s=e.call(a),o=new c;!(i=s.next()).done;l++)lr(o,l,f?ur(s,u,[i.value,l],!0):i.value);return o.length=l,o}}),te(te.S+te.F*Ft(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)lr(n,t,arguments[t++]);return n.length=e,n}});var Ct=function(t,e){return!!t&&Ft(function(){e?t.call(null,function(){},1):t.call(null)})},Er=[].join;te(te.P+te.F*(J!=Object||!Ct(Er)),"Array",{join:function(t){return Er.call(L(this),void 0===t?",":t)}});var Ir=[].slice;te(te.P+te.F*Ft(function(){lt&&Ir.call(lt)}),"Array",{slice:function(t,e){var n=ne(this.length),r=U(this);if(e=void 0===e?n:e,"Array"==r)return Ir.call(this,t,e);for(var o=Xt(t,n),n=Xt(e,n),i=ne(n-o),s=new Array(i),a=0;a<i;a++)s[a]="String"==r?this.charAt(o+a):this[o+a];return s}});var wr=[].sort,_r=[1,2,3];te(te.P+te.F*(Ft(function(){_r.sort(void 0)})||!Ft(function(){_r.sort(null)})||!Ct(wr)),"Array",{sort:function(t){return void 0===t?wr.call(Zt(this)):wr.call(Zt(this),y(t))}});function Tr(t,e){return ct(t=t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ct(n.prototype)||(n=void 0),Wt(n)&&null===(n=n[Ar])&&(n=void 0)),new(void 0===n?Array:n)(e);var n}function Pr(l,t){var h=1==l,p=2==l,d=3==l,g=4==l,v=6==l,y=5==l||v,m=t||Tr;return function(t,e,n){for(var r,o,i=Zt(t),s=J(i),a=Yt(e,n,3),c=ne(s.length),u=0,f=h?m(t,c):p?m(t,0):void 0;u<c;u++)if((y||u in s)&&(o=a(r=s[u],u,i),l))if(h)f[u]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return u;case 2:f.push(r)}else if(g)return!1;return v?-1:d||g?g:f}}var Ar=ee("species"),br=Pr(0),ue=Ct([].forEach,!0);te(te.P+te.F*!ue,"Array",{forEach:function(t,e){return br(this,t,e)}});var kr=Pr(1);te(te.P+te.F*!Ct([].map,!0),"Array",{map:function(t,e){return kr(this,t,e)}});var Rr=Pr(2);te(te.P+te.F*!Ct([].filter,!0),"Array",{filter:function(t,e){return Rr(this,t,e)}});var Cr=Pr(3);te(te.P+te.F*!Ct([].some,!0),"Array",{some:function(t,e){return Cr(this,t,e)}});var Or=Pr(4);te(te.P+te.F*!Ct([].every,!0),"Array",{every:function(t,e){return Or(this,t,e)}});function Nr(t,e,n,r,o){y(e);var i=Zt(t),s=J(i),a=ne(i.length),c=o?a-1:0,u=o?-1:1;if(n<2)for(;;){if(c in s){r=s[c],c+=u;break}if(c+=u,o?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=c:c<a;c+=u)c in s&&(r=e(r,s[c],c,i));return r}te(te.P+te.F*!Ct([].reduce,!0),"Array",{reduce:function(t,e){return Nr(this,t,arguments.length,e,!1)}}),te(te.P+te.F*!Ct([].reduceRight,!0),"Array",{reduceRight:function(t,e){return Nr(this,t,arguments.length,e,!0)}});var xr=Qt(!1),Ur=[].indexOf,Mr=!!Ur&&1/[1].indexOf(1,-0)<0;te(te.P+te.F*(Mr||!Ct(Ur)),"Array",{indexOf:function(t,e){return Mr?Ur.apply(this,arguments)||0:xr(this,t,e)}});var Lr=[].lastIndexOf,Dr=!!Lr&&1/[1].lastIndexOf(1,-0)<0;te(te.P+te.F*(Dr||!Ct(Lr)),"Array",{lastIndexOf:function(t,e){if(Dr)return Lr.apply(this,arguments)||0;var n=L(this),r=ne(n.length),o=r-1;for(1<arguments.length&&(o=Math.min(o,zt(e))),o<0&&(o=r+o);0<=o;o--)if(o in n&&n[o]===t)return o||0;return-1}});var jr=[].copyWithin||function(t,e,n){var r=Zt(this),o=ne(r.length),i=Xt(t,o),s=Xt(e,o),n=2<arguments.length?n:void 0,a=Math.min((void 0===n?o:Xt(n,o))-s,o-i),c=1;for(s<i&&i<s+a&&(c=-1,s+=a-1,i+=a-1);0<a--;)s in r?r[i]=r[s]:delete r[i],i+=c,s+=c;return r},Fr=ee("unscopables"),Vr=Array.prototype;null==Vr[Fr]&&Jt(Vr,Fr,{});Dt=function(t){Vr[Fr][t]=!0};te(te.P,"Array",{copyWithin:jr}),Dt("copyWithin");function $r(t,e,n){for(var r=Zt(this),o=ne(r.length),i=arguments.length,s=Xt(1<i?e:void 0,o),a=void 0===(n=2<i?n:void 0)?o:Xt(n,o);s<a;)r[s++]=t;return r}te(te.P,"Array",{fill:$r}),Dt("fill");var Hr=Pr(5),fe="find",Br=!0;fe in[]&&Array(1)[fe](function(){Br=!1}),te(te.P+te.F*Br,"Array",{find:function(t,e){return Hr(this,t,1<arguments.length?e:void 0)}}),Dt(fe);var Gr=Pr(6),et="findIndex",Wr=!0;et in[]&&Array(1)[et](function(){Wr=!1}),te(te.P+te.F*Wr,"Array",{findIndex:function(t,e){return Gr(this,t,1<arguments.length?e:void 0)}}),Dt(et);function Kr(t){t=Ht[t],Gt&&t&&!t[qr]&&Kt.f(t,qr,{configurable:!0,get:function(){return this}})}var qr=ee("species");Kr("Array");function Jr(t,e){return{value:e,done:!!t}}var Yr=Vn(Array,"Array",function(t,e){this._t=L(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Jr(1)):Jr(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ln.Arguments=Ln.Array,Dt("keys"),Dt("values"),Dt("entries");function zr(){var t=w(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}var Xr=Kt.f,ue=oe.f,Qr=Ht.RegExp,Zr=Qr,to=Qr.prototype,eo=/a/g,no=/a/g,ro=new Qr(eo)!==eo;if(Gt&&(!ro||Ft(function(){return no[ee("match")]=!1,Qr(eo)!=eo||Qr(no)==no||"/a/i"!=Qr(eo,"i")}))){Qr=function(t,e){var n=this instanceof Qr,r=Kn(t),o=void 0===e;return!n&&r&&t.constructor===Qr&&o?t:Ge(ro?new Zr(r&&!o?t.source:t,e):Zr((r=t instanceof Qr)?t.source:t,r&&o?zr.call(t):e),n?this:to,Qr)};for(var oo=ue(Zr),io=0;oo.length>io;)!function(e){e in Qr||Xr(Qr,e,{configurable:!0,get:function(){return Zr[e]},set:function(t){Zr[e]=t}})}(oo[io++]);(to.constructor=Qr).prototype=to,C(Ht,"RegExp",Qr)}Kr("RegExp");var so=RegExp.prototype.exec,ao=String.prototype.replace,Ct=so,co="lastIndex",uo=(fe=/a/,et=/b*/g,so.call(fe,"a"),so.call(et,"a"),0!==fe[co]||0!==et[co]),fo=void 0!==/()??/.exec("")[1];(uo||fo)&&(Ct=function(t){var e,n,r,o,i=this;return fo&&(n=new RegExp("^"+i.source+"$(?!\\s)",zr.call(i))),uo&&(e=i[co]),r=so.call(i,t),uo&&r&&(i[co]=i.global?r.index+r[0].length:e),fo&&r&&1<r.length&&ao.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var lo=Ct;te({target:"RegExp",proto:!0,forced:lo!==/./.exec},{exec:lo}),Gt&&"g"!=/./g.flags&&Kt.f(RegExp.prototype,"flags",{configurable:!0,get:zr});var ho="toString",po=/./[ho],ue=function(t){C(RegExp.prototype,ho,t,!0)};Ft(function(){return"/a/b"!=po.call({source:"a",flags:"b"})})?ue(function(){var t=w(this);return"/".concat(t.source,"/","flags"in t?t.flags:!Gt&&t instanceof RegExp?zr.call(t):void 0)}):po.name!=ho&&ue(function(){return po.call(this)});function go(t,e,n){return e+(n?yo(t,e).length:1)}function vo(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==be(t))throw new TypeError("RegExp#exec called on incompatible receiver");return mo.call(t,e)}var yo=Lt(!0),mo=RegExp.prototype.exec,So=ee("species"),Eo=!Ft(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Io=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2===t.length&&"a"===t[0]&&"b"===t[1]}(),fe=function(n,t,e){var i,r,o=ee(n),s=!Ft(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),a=s?!Ft(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[So]=function(){return e}),e[o](""),!t}):void 0;s&&a&&("replace"!==n||Eo)&&("split"!==n||Io)||(i=/./[o],e=(a=e(M,o,""[n],function(t,e,n,r,o){return e.exec===lo?s&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}))[0],r=a[1],C(String.prototype,n,e),Jt(RegExp.prototype,o,2==t?function(t,e){return r.call(t,this,e)}:function(t){return r.call(t,this)}))};fe("match",1,function(r,o,c,u){return[function(t){var e=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},function(t){var e=u(c,t,this);if(e.done)return e.value;var n=w(t),r=String(this);if(!n.global)return vo(n,r);for(var o=n.unicode,i=[],s=n.lastIndex=0;null!==(a=vo(n,r));){var a=String(a[0]);""===(i[s]=a)&&(n.lastIndex=go(r,ne(n.lastIndex),o)),s++}return 0===s?null:i}]});var wo=Math.max,_o=Math.min,To=Math.floor,Po=/\$([$&`']|\d\d?|<[^>]*>)/g,Ao=/\$([$&`']|\d\d?)/g;fe("replace",2,function(o,i,E,I){return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=I(E,t,this,e);if(n.done)return n.value;var r=w(t),o=String(this),i="function"==typeof e;i||(e=String(e));var s,a=r.global;a&&(s=r.unicode,r.lastIndex=0);for(var c=[];;){var u=vo(r,o);if(null===u)break;if(c.push(u),!a)break;""===String(u[0])&&(r.lastIndex=go(o,ne(r.lastIndex),s))}for(var f,l="",h=0,p=0;p<c.length;p++){u=c[p];for(var d=String(u[0]),g=wo(_o(zt(u.index),o.length),0),v=[],y=1;y<u.length;y++)v.push(void 0===(f=u[y])?f:String(f));var m,S=u.groups,S=i?(m=[d].concat(v,g,o),void 0!==S&&m.push(S),String(e.apply(void 0,m))):function(i,s,a,c,u,t){var f=a+i.length,l=c.length,e=Ao;void 0!==u&&(u=Zt(u),e=Po);return E.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return s.slice(0,a);case"'":return s.slice(f);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(l<r){var o=To(r/10);return 0===o?t:o<=l?void 0===c[o-1]?e.charAt(1):c[o-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}(d,o,g,v,S,e);h<=g&&(l+=o.slice(h,g)+S,h=g+d.length)}return l+o.slice(h)}]}),fe("search",1,function(r,o,i,s){return[function(t){var e=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},function(t){var e=s(i,t,this);if(e.done)return e.value;var n=w(t),e=String(this),t=n.lastIndex;Te(t,0)||(n.lastIndex=0);e=vo(n,e);return Te(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index}]});function bo(t,e){var n;return void 0===(t=w(t).constructor)||null==(n=w(t)[ko])?e:y(n)}var ko=ee("species"),Ro=Math.min,Co=[].push,Oo="split",No="length",xo="lastIndex",Uo=4294967295,Mo=!Ft(function(){RegExp(Uo,"y")});fe("split",2,function(o,i,d,g){var v="c"=="abbc"[Oo](/(b)*/)[1]||4!="test"[Oo](/(?:)/,-1)[No]||2!="ab"[Oo](/(?:ab)*/)[No]||4!="."[Oo](/(.?)(.?)/)[No]||1<"."[Oo](/()()/)[No]||""[Oo](/.?/)[No]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!Kn(t))return d.call(n,t,e);for(var r,o,i,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=void 0===e?Uo:e>>>0,f=new RegExp(t.source,a+"g");(r=lo.call(f,n))&&!(c<(o=f[xo])&&(s.push(n.slice(c,r.index)),1<r[No]&&r.index<n[No]&&Co.apply(s,r.slice(1)),i=r[0][No],c=o,s[No]>=u));)f[xo]===r.index&&f[xo]++;return c===n[No]?!i&&f.test("")||s.push(""):s.push(n.slice(c)),s[No]>u?s.slice(0,u):s}:"0"[Oo](void 0,0)[No]?function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)}:d;return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):v.call(String(n),t,e)},function(t,e){var n=g(v,t,this,e,v!==d);if(n.done)return n.value;var r=w(t),o=String(this),n=bo(r,RegExp),i=r.unicode,t=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(Mo?"y":"g"),s=new n(Mo?r:"^(?:"+r.source+")",t),a=void 0===e?Uo:e>>>0;if(0==a)return[];if(0===o.length)return null===vo(s,o)?[o]:[];for(var c=0,u=0,f=[];u<o.length;){s.lastIndex=Mo?u:0;var l,h=vo(s,Mo?o:o.slice(u));if(null===h||(l=Ro(ne(s.lastIndex+(Mo?0:u)),o.length))===c)u=go(o,u,i);else{if(f.push(o.slice(c,u)),f.length===a)return f;for(var p=1;p<=h.length-1;p++)if(f.push(h[p]),f.length===a)return f;u=c=l}}return f.push(o.slice(c)),f}]});function Lo(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}function Do(){var t,e=+this;Bo.hasOwnProperty(e)&&(t=Bo[e],delete Bo[e],t())}var jo,Fo=d(function(t){var l={},h={},t=t.exports=function(t,e,n,r,o){var i,s,a,c,o=o?function(){return t}:gr(t),u=Yt(n,r,e?2:1),f=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(fr(o)){for(i=ne(t.length);f<i;f++)if((c=e?u(w(s=t[f])[0],s[1]):u(t[f]))===l||c===h)return c}else for(a=o.call(t);!(s=a.next()).done;)if((c=ur(a,u,s.value,e))===l||c===h)return c};t.BREAK=l,t.RETURN=h}),Vo=Ht.process,et=Ht.setImmediate,Ct=Ht.clearImmediate,ue=Ht.MessageChannel,$o=Ht.Dispatch,Ho=0,Bo={},Go="onreadystatechange",fe=function(t){Do.call(t.data)};et&&Ct||(et=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Bo[++Ho]=function(){Ce("function"==typeof t?t:Function(t),e)},jo(Ho),Ho},Ct=function(t){delete Bo[t]},"process"==U(Vo)?jo=function(t){Vo.nextTick(Yt(Do,t,1))}:$o&&$o.now?jo=function(t){$o.now(Yt(Do,t,1))}:ue?(fi=(zo=new ue).port2,zo.port1.onmessage=fe,jo=Yt(fi.postMessage,fi,1)):Ht.addEventListener&&"function"==typeof postMessage&&!Ht.importScripts?(jo=function(t){Ht.postMessage(t+"","*")},Ht.addEventListener("message",fe,!1)):jo=Go in g("script")?function(t){lt.appendChild(g("script"))[Go]=function(){lt.removeChild(this),Do.call(t)}}:function(t){setTimeout(Yt(Do,t,1),0)});var ue={set:et,clear:Ct},Wo=ue.set,Ko=Ht.MutationObserver||Ht.WebKitMutationObserver,qo=Ht.process,Jo=Ht.Promise,Yo="process"==U(qo),zo=function(){function t(){var t,e;for(Yo&&(t=qo.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():r=void 0,t}}r=void 0,t&&t.enter()}var n,r,e,o,i,s;return o=Yo?function(){qo.nextTick(t)}:!Ko||Ht.navigator&&Ht.navigator.standalone?Jo&&Jo.resolve?(e=Jo.resolve(void 0),function(){e.then(t)}):function(){Wo.call(Ht,t)}:(i=!0,s=document.createTextNode(""),new Ko(t).observe(s,{characterData:!0}),function(){s.data=i=!i}),function(t){t={fn:t,next:void 0};r&&(r.next=t),n||(n=t,o()),r=t}};function Xo(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=y(n),this.reject=y(r)}function Qo(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}function Zo(t,e){return w(t),Wt(e)&&e.constructor===t?e:((0,(t=ui.f(t)).resolve)(e),t.promise)}function ti(t,e,n){for(var r in e)C(t,r,e[r],n);return t}function ei(){}function ni(t){var e;return!(!Wt(t)||"function"!=typeof(e=t.then))&&e}function ri(f,e){var n;f._n||(f._n=!0,n=f._c,pi(function(){for(var c=f._v,u=1==f._s,t=0;n.length>t;)!function(t){var e,n,r,o=u?t.ok:t.fail,i=t.resolve,s=t.reject,a=t.domain;try{o?(u||(2==f._h&&_i(f),f._h=1),!0===o?e=c:(a&&a.enter(),e=o(c),a&&(a.exit(),r=!0)),e===t.promise?s(gi("Promise-chain cycle")):(n=ni(e))?n.call(e,i,s):i(e)):s(c)}catch(t){a&&!r&&a.exit(),s(t)}}(n[t++]);f._c=[],f._n=!1,e&&!f._h&&Ii(f)}))}function oi(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),ri(e,!0))}var ii,si,ai,ci,ui={f:function(t){return new Xo(t)}},fi=Ht.navigator,li=fi&&fi.userAgent||"",hi=ue.set,pi=zo(),di="Promise",gi=Ht.TypeError,vi=Ht.process,fe=vi&&vi.versions,yi=fe&&fe.v8||"",mi=Ht[di],Si="process"==be(vi),Ei=si=ui.f,et=!!function(){try{var t=mi.resolve(1),e=(t.constructor={})[ee("species")]=function(t){t(ei,ei)};return(Si||"function"==typeof PromiseRejectionEvent)&&t.then(ei)instanceof e&&0!==yi.indexOf("6.6")&&-1===li.indexOf("Chrome/66")}catch(t){}}(),Ii=function(o){hi.call(Ht,function(){var t,e,n=o._v,r=wi(o);if(r&&(t=Qo(function(){Si?vi.emit("unhandledRejection",n,o):(e=Ht.onunhandledrejection)?e({promise:o,reason:n}):(e=Ht.console)&&e.error&&e.error("Unhandled promise rejection",n)}),o._h=Si||wi(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},wi=function(t){return 1!==t._h&&0===(t._a||t._c).length},_i=function(e){hi.call(Ht,function(){var t;Si?vi.emit("rejectionHandled",e):(t=Ht.onrejectionhandled)&&t({promise:e,reason:e._v})})},Ti=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw gi("Promise can't be resolved itself");(n=ni(t))?pi(function(){var e={_w:r,_d:!1};try{n.call(t,Yt(Ti,e,1),Yt(oi,e,1))}catch(t){oi.call(e,t)}}):(r._v=t,r._s=1,ri(r,!1))}catch(t){oi.call({_w:r,_d:!1},t)}}};et||(mi=function(t){Lo(this,mi,di,"_h"),y(t),ii.call(this);try{t(Yt(Ti,this,1),Yt(oi,this,1))}catch(t){oi.call(this,t)}},(ii=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=ti(mi.prototype,{then:function(t,e){var n=Ei(bo(this,mi));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Si?vi.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&ri(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),ai=function(){var t=new ii;this.promise=t,this.resolve=Yt(Ti,t,1),this.reject=Yt(oi,t,1)},ui.f=Ei=function(t){return t===mi||t===ci?new ai:si(t)}),te(te.G+te.W+te.F*!et,{Promise:mi}),F(mi,di),Kr(di),ci=S[di],te(te.S+te.F*!et,di,{reject:function(t){var e=Ei(this);return(0,e.reject)(t),e.promise}}),te(te.S+te.F*!et,di,{resolve:function(t){return Zo(this,t)}}),te(te.S+te.F*!(et&&Sr(function(t){mi.all(t).catch(ei)})),di,{all:function(t){var s=this,e=Ei(s),a=e.resolve,c=e.reject,n=Qo(function(){var r=[],o=0,i=1;Fo(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||a(r))},c)}),--i||a(r)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=Ei(e),r=n.reject,o=Qo(function(){Fo(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}});function Pi(t,e){if(!Wt(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}function Ai(t,e){var n,r=Oi(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n}function bi(n,t,e,r,o,i){function s(t){var n=g[t];C(g,t,"delete"==t?function(t){return!(i&&!Wt(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!Wt(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!Wt(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var a,c,u,f,l,h=Ht[n],p=h,d=o?"set":"add",g=p&&p.prototype,v={};return"function"==typeof p&&(i||g.forEach&&!Ft(function(){(new p).entries().next()}))?(c=(a=new p)[d](i?{}:-0,1)!=a,u=Ft(function(){a.has(1)}),f=Sr(function(t){new p(t)}),l=!i&&Ft(function(){for(var t=new p,e=5;e--;)t[d](e,e);return!t.has(-0)}),f||(((p=t(function(t,e){Lo(t,p,n);t=Ge(new h,t,p);return null!=e&&Fo(e,o,t[d],t),t})).prototype=g).constructor=p),(u||l)&&(s("delete"),s("has"),o&&s("get")),(l||c)&&s(d),i&&g.clear&&delete g.clear):(p=r.getConstructor(t,n,o,d),ti(p.prototype,e),H.NEED=!0),F(p,n),v[n]=p,te(te.G+te.W+te.F*(p!=h),v),i||r.setStrong(p,n,o),p}function ki(t){return t._l||(t._l=new Vi)}function Ri(t,e){return Di(t.a,function(t){return t[0]===e})}var Ci=Kt.f,Oi=H.fastKey,Ni=Gt?"_s":"size",xi={getConstructor:function(t,o,n,r){var i=t(function(t,e){Lo(t,i,o,"_i"),t._t=o,t._i=re(null),t._f=void 0,t._l=void 0,t[Ni]=0,null!=e&&Fo(e,n,t[r],t)});return ti(i.prototype,{clear:function(){for(var t=Pi(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[Ni]=0},delete:function(t){var e,n=Pi(this,o),r=Ai(n,t);return r&&(e=r.n,t=r.p,delete n._i[r.i],r.r=!0,t&&(t.n=e),e&&(e.p=t),n._f==r&&(n._f=e),n._l==r&&(n._l=t),n[Ni]--),!!r},forEach:function(t,e){Pi(this,o);for(var n,r=Yt(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!Ai(Pi(this,o),t)}}),Gt&&Ci(i.prototype,"size",{get:function(){return Pi(this,o)[Ni]}}),i},def:function(t,e,n){var r,o=Ai(t,e);return o?o.v=n:(t._l=o={i:r=Oi(e,!0),k:e,v:n,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[Ni]++,"F"!==r&&(t._i[r]=o)),t},getEntry:Ai,setStrong:function(t,n,e){Vn(t,n,function(t,e){this._t=Pi(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?Jr(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,Jr(1))},e?"entries":"values",!e,!0),Kr(n)}},Ui=bi("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){t=xi.getEntry(Pi(this,"Map"),t);return t&&t.v},set:function(t,e){return xi.def(Pi(this,"Map"),0===t?0:t,e)}},xi,!0),Mi=bi("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return xi.def(Pi(this,"Set"),t=0===t?0:t,t)}},xi),Li=H.getWeak,Di=Pr(5),ji=Pr(6),Fi=0,Vi=function(){this.a=[]};Vi.prototype={get:function(t){t=Ri(this,t);if(t)return t[1]},has:function(t){return!!Ri(this,t)},set:function(t,e){var n=Ri(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=ji(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}};var $i={getConstructor:function(t,n,r,o){var i=t(function(t,e){Lo(t,i,n,"_i"),t._t=n,t._i=Fi++,t._l=void 0,null!=e&&Fo(e,r,t[o],t)});return ti(i.prototype,{delete:function(t){if(!Wt(t))return!1;var e=Li(t);return!0===e?ki(Pi(this,n)).delete(t):e&&Bt(e,this._i)&&delete e[this._i]},has:function(t){if(!Wt(t))return!1;var e=Li(t);return!0===e?ki(Pi(this,n)).has(t):e&&Bt(e,this._i)}}),i},def:function(t,e,n){var r=Li(w(e),!0);return!0===r?ki(t).set(e,n):r[t._i]=n,t},ufstore:ki},Ct=d(function(t){function e(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var o,n=Pr(0),r=!Ht.ActiveXObject&&"ActiveXObject"in Ht,i="WeakMap",s=H.getWeak,a=Object.isExtensible,c=$i.ufstore,u={get:function(t){if(Wt(t)){var e=s(t);return!0===e?c(Pi(this,i)).get(t):e?e[this._i]:void 0}},set:function(t,e){return $i.def(Pi(this,i),t,e)}},f=t.exports=bi(i,e,u,$i,!0,!0);r&&(o=$i.getConstructor(e,i),_e(o.prototype,u),H.NEED=!0,n(["delete","has","get","set"],function(n){var t=f.prototype,r=t[n];C(t,n,function(t,e){if(!Wt(t)||a(t))return r.call(this,t,e);this._f||(this._f=new o);e=this._f[n](t,e);return"set"==n?this:e})}))}),Hi="WeakSet";bi(Hi,function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return $i.def(Pi(this,Hi),t,!0)}},$i,!1,!0);for(var Bi,Gi=$t("typed_array"),Wi=$t("view"),fi=!(!Ht.ArrayBuffer||!Ht.DataView),Ki=fi,qi=0,Ji="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");qi<9;)(Bi=Ht[Ji[qi++]])?(Jt(Bi.prototype,Gi,!0),Jt(Bi.prototype,Wi,!0)):Ki=!1;function Yi(t){if(void 0===t)return 0;var e=zt(t),t=ne(e);if(e!==t)throw RangeError("Wrong length!");return t}var zi={ABV:fi,CONSTR:Ki,TYPED:Gi,VIEW:Wi},Xi=d(function(t,e){var n=oe.f,r=Kt.f,o="ArrayBuffer",i="DataView",s="prototype",f="Wrong index!",a=Ht[o],c=Ht[i],u=Ht.Math,l=Ht.RangeError,h=Ht.Infinity,p=a,d=u.abs,g=u.pow,v=u.floor,y=u.log,m=u.LN2,S="byteLength",u="byteOffset",E=Gt?"_b":"buffer",I=Gt?"_l":S,w=Gt?"_o":u;function _(t,e,n){var r,o,i=new Array(n),s=8*n-e-1,a=(1<<s)-1,c=a>>1,u=23===e?g(2,-24)-g(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for((t=d(t))!=t||t===h?(o=t!=t?1:0,r=a):(r=v(y(t)/m),t*(n=g(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+c?u/n:u*g(2,1-c))*n&&(r++,n/=2),a<=r+c?(o=0,r=a):1<=r+c?(o=(t*n-1)*g(2,e),r+=c):(o=t*g(2,c-1)*g(2,e),r=0));8<=e;i[f++]=255&o,o/=256,e-=8);for(r=r<<e|o,s+=e;0<s;i[f++]=255&r,r/=256,s-=8);return i[--f]|=128*l,i}function T(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,s=i>>1,a=o-7,c=n-1,n=t[c--],u=127&n;for(n>>=7;0<a;u=256*u+t[c],c--,a-=8);for(r=u&(1<<-a)-1,u>>=-a,a+=e;0<a;r=256*r+t[c],c--,a-=8);if(0===u)u=1-s;else{if(u===i)return r?NaN:n?-h:h;r+=g(2,e),u-=s}return(n?-1:1)*r*g(2,u-e)}function P(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function A(t){return[255&t]}function b(t){return[255&t,t>>8&255]}function k(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function R(t){return _(t,52,8)}function C(t){return _(t,23,4)}function O(t,e,n){r(t[s],e,{get:function(){return this[n]}})}function N(t,e,n,r){var o=Yi(+n);if(o+e>t[I])throw l(f);n=t[E]._b,t=o+t[w],e=n.slice(t,t+e);return r?e:e.reverse()}function x(t,e,n,r,o,i){n=Yi(+n);if(n+e>t[I])throw l(f);for(var s=t[E]._b,a=n+t[w],c=r(+o),u=0;u<e;u++)s[a+u]=c[i?u:e-u-1]}if(zi.ABV){if(!Ft(function(){a(1)})||!Ft(function(){new a(-1)})||Ft(function(){return new a,new a(1.5),new a(NaN),a.name!=o})){for(var U,M=(a=function(t){return Lo(this,a),new p(Yi(t))})[s]=p[s],L=n(p),D=0;L.length>D;)(U=L[D++])in a||Jt(a,U,p[U]);M.constructor=a}var M=new c(new a(2)),j=c[s].setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||ti(c[s],{setInt8:function(t,e){j.call(this,t,e<<24>>24)},setUint8:function(t,e){j.call(this,t,e<<24>>24)}},!0)}else a=function(t){Lo(this,a,o);t=Yi(t);this._b=$r.call(new Array(t),0),this[I]=t},c=function(t,e,n){Lo(this,c,i),Lo(t,a,i);var r=t[I],e=zt(e);if(e<0||r<e)throw l("Wrong offset!");if(r<e+(n=void 0===n?r-e:ne(n)))throw l("Wrong length!");this[E]=t,this[w]=e,this[I]=n},Gt&&(O(a,S,"_l"),O(c,"buffer","_b"),O(c,S,"_l"),O(c,u,"_o")),ti(c[s],{getInt8:function(t){return N(this,1,t)[0]<<24>>24},getUint8:function(t){return N(this,1,t)[0]},getInt16:function(t,e){e=N(this,2,t,e);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t,e){e=N(this,2,t,e);return e[1]<<8|e[0]},getInt32:function(t,e){return P(N(this,4,t,e))},getUint32:function(t,e){return P(N(this,4,t,e))>>>0},getFloat32:function(t,e){return T(N(this,4,t,e),23,4)},getFloat64:function(t,e){return T(N(this,8,t,e),52,8)},setInt8:function(t,e){x(this,1,t,A,e)},setUint8:function(t,e){x(this,1,t,A,e)},setInt16:function(t,e,n){x(this,2,t,b,e,n)},setUint16:function(t,e,n){x(this,2,t,b,e,n)},setInt32:function(t,e,n){x(this,4,t,k,e,n)},setUint32:function(t,e,n){x(this,4,t,k,e,n)},setFloat32:function(t,e,n){x(this,4,t,C,e,n)},setFloat64:function(t,e,n){x(this,8,t,R,e,n)}});F(a,o),F(c,i),Jt(c[s],zi.VIEW,!0),e[o]=a,e[i]=c}),fe=Ht.ArrayBuffer,Qi=Xi.ArrayBuffer,Zi=Xi.DataView,ts=zi.ABV&&fe.isView,es=Qi.prototype.slice,ns=zi.VIEW,et="ArrayBuffer";te(te.G+te.W+te.F*(fe!==Qi),{ArrayBuffer:Qi}),te(te.S+te.F*!zi.CONSTR,et,{isView:function(t){return ts&&ts(t)||Wt(t)&&ns in t}}),te(te.P+te.U+te.F*Ft(function(){return!new Qi(2).slice(1,void 0).byteLength}),et,{slice:function(t,e){if(void 0!==es&&void 0===e)return es.call(w(this),t);for(var n=w(this).byteLength,r=Xt(t,n),o=Xt(void 0===e?n:e,n),n=new(bo(this,Qi))(ne(o-r)),i=new Zi(this),s=new Zi(n),a=0;r<o;)s.setUint8(a++,i.getUint8(r++));return n}}),Kr(et),te(te.G+te.W+te.F*!zi.ABV,{DataView:Xi.DataView});fi=d(function(t){var p,d,g,v,h,y,n,m,e,r,S,E,o,i,s,I,w,_,T,P,A,b,k,a,c,u,R,C,O,f,l,N,x,U,M,L,D,j,F,V,$,H,B,G,W,K,q,J,Y,z,X,Q,Z,tt,et,nt,rt,ot,it,st,at,ct,ut,ft,lt,ht,pt,dt,gt,vt,yt,mt,St,Et,It,wt,_t,Tt,Pt,At,bt,kt,Rt,Ct,Ot,Nt,xt,Ut,Mt,Lt,Dt,jt;Gt?(p=Ht,d=Ft,g=te,v=zi,h=Yt,y=Lo,n=qt,m=Jt,e=ti,r=zt,S=ne,E=Yi,o=Xt,i=Vt,s=Bt,I=be,w=Wt,_=Zt,T=fr,P=re,A=me,b=oe.f,k=gr,Lt=$t,At=ee,Dt=Pr,a=Qt,c=bo,u=Yr,R=Ln,C=Sr,O=Kr,f=$r,l=jr,x=ie,U=(N=Kt).f,M=x.f,L=p.RangeError,D=p.TypeError,j=p.Uint8Array,V="Shared"+(F="ArrayBuffer"),$="BYTES_PER_ELEMENT",H="prototype",dt=Array[H],B=Xi.ArrayBuffer,G=Xi.DataView,W=Dt(0),K=Dt(2),q=Dt(3),J=Dt(4),Y=Dt(5),z=Dt(6),X=a(!0),Q=a(!1),Z=u.values,tt=u.keys,et=u.entries,nt=dt.lastIndexOf,rt=dt.reduce,ot=dt.reduceRight,it=dt.join,st=dt.sort,at=dt.slice,ct=dt.toString,ut=dt.toLocaleString,ft=At("iterator"),lt=At("toStringTag"),ht=Lt("typed_constructor"),pt=Lt("def_constructor"),dt=v.CONSTR,gt=v.TYPED,vt=v.VIEW,yt="Wrong length!",mt=Dt(1,function(t,e){return _t(c(t,t[pt]),e)}),St=d(function(){return 1===new j(new Uint16Array([1]).buffer)[0]}),Et=!!j&&!!j[H].set&&d(function(){new j(1).set({})}),It=function(t,e){t=r(t);if(t<0||t%e)throw L("Wrong offset!");return t},wt=function(t){if(w(t)&&gt in t)return t;throw D(t+" is not a typed array!")},_t=function(t,e){if(!(w(t)&&ht in t))throw D("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Pt(c(t,t[pt]),e)},Pt=function(t,e){for(var n=0,r=e.length,o=_t(t,r);n<r;)o[n]=e[n++];return o},At=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},bt=function(t,e,n){var r,o,i,s,a,c,u=_(t),t=arguments.length,f=1<t?e:void 0,l=void 0!==f,e=k(u);if(null!=e&&!T(e)){for(c=e.call(u),i=[],r=0;!(a=c.next()).done;r++)i.push(a.value);u=i}for(l&&2<t&&(f=h(f,n,2)),r=0,o=S(u.length),s=_t(this,o);r<o;r++)s[r]=l?f(u[r],r):u[r];return s},kt=function(){for(var t=0,e=arguments.length,n=_t(this,e);t<e;)n[t]=arguments[t++];return n},Rt=!!j&&d(function(){ut.call(new j(1))}),Ct=function(){return ut.apply(Rt?at.call(wt(this)):wt(this),arguments)},Ot={copyWithin:function(t,e,n){return l.call(wt(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return J(wt(this),t,1<arguments.length?e:void 0)},fill:function(){return f.apply(wt(this),arguments)},filter:function(t,e){return Tt(this,K(wt(this),t,1<arguments.length?e:void 0))},find:function(t,e){return Y(wt(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return z(wt(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){W(wt(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return Q(wt(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return X(wt(this),t,1<arguments.length?e:void 0)},join:function(){return it.apply(wt(this),arguments)},lastIndexOf:function(){return nt.apply(wt(this),arguments)},map:function(t,e){return mt(wt(this),t,1<arguments.length?e:void 0)},reduce:function(){return rt.apply(wt(this),arguments)},reduceRight:function(){return ot.apply(wt(this),arguments)},reverse:function(){for(var t,e=this,n=wt(e).length,r=Math.floor(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t,e){return q(wt(this),t,1<arguments.length?e:void 0)},sort:function(t){return st.call(wt(this),t)},subarray:function(t,e){var n=wt(this),r=n.length,t=o(t,r);return new(c(n,n[pt]))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,S((void 0===e?r:o(e,r))-t))}},Nt=function(t,e){return Tt(this,at.call(wt(this),t,e))},xt=function(t,e){wt(this);var n=It(e,1),e=this.length,r=_(t),o=S(r.length),i=0;if(e<o+n)throw L(yt);for(;i<o;)this[n+i]=r[i++]},Ut={entries:function(){return et.call(wt(this))},keys:function(){return tt.call(wt(this))},values:function(){return Z.call(wt(this))}},Mt=function(t,e){return w(t)&&t[gt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Lt=function(t,e){return Mt(t,e=i(e,!0))?n(2,t[e]):M(t,e)},Dt=function(t,e,n){return!(Mt(t,e=i(e,!0))&&w(n)&&s(n,"value"))||s(n,"get")||s(n,"set")||n.configurable||s(n,"writable")&&!n.writable||s(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)},dt||(x.f=Lt,N.f=Dt),g(g.S+g.F*!dt,"Object",{getOwnPropertyDescriptor:Lt,defineProperty:Dt}),d(function(){ct.call({})})&&(ct=ut=function(){return it.call(this)}),jt=e({},Ot),e(jt,Ut),m(jt,ft,Ut.values),e(jt,{slice:Nt,set:xt,constructor:function(){},toString:ct,toLocaleString:Ct}),At(jt,"buffer","b"),At(jt,"byteOffset","o"),At(jt,"byteLength","l"),At(jt,"length","e"),U(jt,lt,{get:function(){return this[gt]}}),t.exports=function(t,u,e,r){function f(t,e){U(t,e,{get:function(){return function(t,e){t=t._d;return t.v[n](e*u+t.o,St)}(this,e)},set:function(t){return function(t,e,n){t=t._d;r&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),t.v[o](e*u+t.o,n,St)}(this,e,t)},enumerable:!0})}var l=t+((r=!!r)?"Clamped":"")+"Array",n="get"+t,o="set"+t,h=p[l],i=h||{},s=h&&A(h),a=!h||!v.ABV,t={},c=h&&h[H];a?(h=e(function(t,e,n,r){y(t,h,l,"_d");var o,i,s,a=0,c=0;if(w(e)){if(!(e instanceof B||(s=I(e))==F||s==V))return gt in e?Pt(h,e):bt.call(h,e);s=e,c=It(n,u);n=e.byteLength;if(void 0===r){if(n%u)throw L(yt);if((o=n-c)<0)throw L(yt)}else if(n<(o=S(r)*u)+c)throw L(yt);i=o/u}else i=E(e),s=new B(o=i*u);for(m(t,"_d",{b:s,o:c,l:o,e:i,v:new G(s)});a<i;)f(t,a++)}),c=h[H]=P(jt),m(c,"constructor",h)):d(function(){h(1)})&&d(function(){new h(-1)})&&C(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=e(function(t,e,n,r){var o;return y(t,h,l),w(e)?e instanceof B||(o=I(e))==F||o==V?void 0!==r?new i(e,It(n,u),r):void 0!==n?new i(e,It(n,u)):new i(e):gt in e?Pt(h,e):bt.call(h,e):new i(E(e))}),W(s!==Function.prototype?b(i).concat(b(s)):b(i),function(t){t in h||m(h,t,i[t])}),(h[H]=c).constructor=h);a=c[ft],e=!!a&&("values"==a.name||null==a.name),s=Ut.values;m(h,ht,!0),m(c,gt,l),m(c,vt,!0),m(c,pt,h),(r?new h(1)[lt]==l:lt in c)||U(c,lt,{get:function(){return l}}),t[l]=h,g(g.G+g.W+g.F*(h!=i),t),g(g.S,l,{BYTES_PER_ELEMENT:u}),g(g.S+g.F*d(function(){i.of.call(h,1)}),l,{from:bt,of:kt}),$ in c||m(c,$,u),g(g.P,l,Ot),O(l),g(g.P+g.F*Et,l,{set:xt}),g(g.P+g.F*!e,l,Ut),c.toString!=ct&&(c.toString=ct),g(g.P+g.F*d(function(){new h(1).slice()}),l,{slice:Nt}),g(g.P+g.F*(d(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!d(function(){c.toLocaleString.call([1,2])})),l,{toLocaleString:Ct}),R[l]=e?a:s,e||m(c,ft,s)}):t.exports=function(){}});fi("Int8",1,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}},!0),fi("Int16",2,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Uint16",2,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Int32",4,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Uint32",4,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Float32",4,function(r){return function(t,e,n){return r(this,t,e,n)}}),fi("Float64",8,function(r){return function(t,e,n){return r(this,t,e,n)}});var rs=(Ht.Reflect||{}).apply,os=Function.apply;te(te.S+te.F*!Ft(function(){rs(function(){})}),"Reflect",{apply:function(t,e,n){t=y(t),n=w(n);return rs?rs(t,e,n):os.call(t,e,n)}});var is=(Ht.Reflect||{}).construct,ss=Ft(function(){function t(){}return!(is(function(){},[],t)instanceof t)}),as=!Ft(function(){is(function(){})});te(te.S+te.F*(ss||as),"Reflect",{construct:function(t,e,n){y(t),w(e);n=arguments.length<3?t:y(n);if(as&&!ss)return is(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(xe.apply(t,r))}r=n.prototype,n=re(Wt(r)?r:Object.prototype),r=Function.apply.call(t,n,e);return Wt(r)?r:n}}),te(te.S+te.F*Ft(function(){Reflect.defineProperty(Kt.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){w(t),e=Vt(e,!0),w(n);try{return Kt.f(t,e,n),!0}catch(t){return!1}}});var cs=ie.f;te(te.S,"Reflect",{deleteProperty:function(t,e){var n=cs(w(t),e);return!(n&&!n.configurable)&&delete t[e]}});function us(t){this._t=w(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}jn(us,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),te(te.S,"Reflect",{enumerate:function(t){return new us(t)}}),te(te.S,"Reflect",{get:function t(e,n){var r,o=arguments.length<3?e:arguments[2];return w(e)===o?e[n]:(r=ie.f(e,n))?Bt(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:Wt(e=me(e))?t(e,n,o):void 0}}),te(te.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return ie.f(w(t),e)}}),te(te.S,"Reflect",{getPrototypeOf:function(t){return me(w(t))}}),te(te.S,"Reflect",{has:function(t,e){return e in t}});var fs=Object.isExtensible;te(te.S,"Reflect",{isExtensible:function(t){return w(t),!fs||fs(t)}});var fe=Ht.Reflect,ls=fe&&fe.ownKeys||function(t){var e=oe.f(w(t)),n=st.f;return n?e.concat(n(t)):e};te(te.S,"Reflect",{ownKeys:ls});var hs=Object.preventExtensions;te(te.S,"Reflect",{preventExtensions:function(t){w(t);try{return hs&&hs(t),!0}catch(t){return!1}}}),te(te.S,"Reflect",{set:function t(e,n,r){var o,i=arguments.length<4?e:arguments[3],s=ie.f(w(e),n);if(!s){if(Wt(o=me(e)))return t(o,n,r,i);s=qt(0)}if(Bt(s,"value")){if(!1===s.writable||!Wt(i))return!1;if(o=ie.f(i,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,Kt.f(i,n,o)}else Kt.f(i,n,qt(0,r));return!0}return void 0!==s.set&&(s.set.call(i,r),!0)}}),Ae&&te(te.S,"Reflect",{setPrototypeOf:function(t,e){Ae.check(t,e);try{return Ae.set(t,e),!0}catch(t){return!1}}});var ps=Qt(!0);te(te.P,"Array",{includes:function(t,e){return ps(this,t,1<arguments.length?e:void 0)}}),Dt("includes");var ds=ee("isConcatSpreadable");var gs=function t(e,n,r,o,i,s,a,c){for(var u,f,l=i,h=0,p=!!a&&Yt(a,c,3);h<o;){if(h in r){if(u=p?p(r[h],h,n):r[h],f=!1,Wt(u)&&(f=void 0!==(f=u[ds])?!!f:ct(u)),f&&0<s)l=t(e,n,u,ne(u.length),l,s-1)-1;else{if(9007199254740991<=l)throw TypeError();e[l]=u}l++}h++}return l};te(te.P,"Array",{flatMap:function(t,e){var n,r,o=Zt(this);return y(t),n=ne(o.length),r=Tr(o,0),gs(r,o,o,n,0,1,t,e),r}}),Dt("flatMap"),te(te.P,"Array",{flatten:function(t){var e=t,n=Zt(this),r=ne(n.length),t=Tr(n,0);return gs(t,n,n,r,0,void 0===e?1:zt(e)),t}}),Dt("flatten");var vs=Lt(!0),et=Ft(function(){return"𠮷"!=="𠮷".at(0)});te(te.P+te.F*et,"String",{at:function(t){return vs(this,t)}});function ys(t,e,n,r){var o=String(M(t)),t=o.length,n=void 0===n?" ":String(n);return(e=ne(e))<=t||""==n?o:(t=e-t,(n=an.call(n,Math.ceil(t/n.length))).length>t&&(n=n.slice(0,t)),r?n+o:o+n)}fi=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(li);te(te.P+te.F*fi,"String",{padStart:function(t,e){return ys(this,t,1<arguments.length?e:void 0,!0)}});fe=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(li);te(te.P+te.F*fe,"String",{padEnd:function(t,e){return ys(this,t,1<arguments.length?e:void 0,!1)}}),ft("trimLeft",function(t){return function(){return t(this,1)}},"trimStart"),ft("trimRight",function(t){return function(){return t(this,2)}},"trimEnd");function ms(t,e){this._r=t,this._s=e}var Ss=RegExp.prototype;jn(ms,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),te(te.P,"String",{matchAll:function(t){if(M(this),!Kn(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in Ss?String(t.flags):zr.call(t),n=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return n.lastIndex=ne(t.lastIndex),new ms(n,e)}}),x("asyncIterator"),x("observable"),te(te.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=L(t),o=ie.f,i=ls(r),s={},a=0;i.length>a;)void 0!==(n=o(r,e=i[a++]))&&lr(s,e,n);return s}});var Es=at.f,Dt=function(a){return function(t){for(var e,n=L(t),r=it(n),o=r.length,i=0,s=[];i<o;)e=r[i++],Gt&&!Es.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}},Is=Dt(!1);te(te.S,"Object",{values:function(t){return Is(t)}});var ws=Dt(!0);te(te.S,"Object",{entries:function(t){return ws(t)}});Lt=!Ft(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete Ht[t]});Gt&&te(te.P+Lt,"Object",{__defineGetter__:function(t,e){Kt.f(Zt(this),t,{get:y(e),enumerable:!0,configurable:!0})}}),Gt&&te(te.P+Lt,"Object",{__defineSetter__:function(t,e){Kt.f(Zt(this),t,{set:y(e),enumerable:!0,configurable:!0})}});var _s=ie.f;Gt&&te(te.P+Lt,"Object",{__lookupGetter__:function(t){var e,n=Zt(this),r=Vt(t,!0);do{if(e=_s(n,r))return e.get}while(n=me(n))}});var Ts=ie.f;Gt&&te(te.P+Lt,"Object",{__lookupSetter__:function(t){var e,n=Zt(this),r=Vt(t,!0);do{if(e=Ts(n,r))return e.set}while(n=me(n))}});function Ps(t,e){var n=[];return Fo(t,!1,n.push,n,e),n}et=function(t){return function(){if(be(this)!=t)throw TypeError(t+"#toJSON isn't generic");return Ps(this)}};te(te.P+te.R,"Map",{toJSON:et("Map")}),te(te.P+te.R,"Set",{toJSON:et("Set")});fi=function(t){te(te.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})};fi("Map"),fi("Set"),fi("WeakMap"),fi("WeakSet");fe=function(t){te(te.S,t,{from:function(t,e,n){var r,o,i,s=e;return y(this),(e=void 0!==s)&&y(s),null==t?new this:(r=[],e?(o=0,i=Yt(s,n,2),Fo(t,!1,function(t){r.push(i(t,o++))})):Fo(t,!1,r.push,r),new this(r))}})};fe("Map"),fe("Set"),fe("WeakMap"),fe("WeakSet"),te(te.G,{global:Ht}),te(te.S,"System",{global:Ht}),te(te.S,"Error",{isError:function(t){return"Error"===U(t)}}),te(te.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}}),te(te.S,"Math",{DEG_PER_RAD:Math.PI/180});var As=180/Math.PI;te(te.S,"Math",{degrees:function(t){return t*As}});var bs=Math.scale||function(t,e,n,r,o){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-r)/(n-e)+r};te(te.S,"Math",{fscale:function(t,e,n,r,o){return Cn(bs(t,e,n,r,o))}}),te(te.S,"Math",{iaddh:function(t,e,n,r){t>>>=0,n>>>=0;return(e>>>0)+(r>>>0)+((t&n|(t|n)&~(t+n>>>0))>>>31)|0}}),te(te.S,"Math",{isubh:function(t,e,n,r){t>>>=0,n>>>=0;return(e>>>0)-(r>>>0)-((~t&n|~(t^n)&t-n>>>0)>>>31)|0}}),te(te.S,"Math",{imulh:function(t,e){var n=+t,r=+e,t=65535&n,e=65535&r,n=n>>16,r=r>>16,e=(n*e>>>0)+(t*e>>>16);return n*r+(e>>16)+((t*r>>>0)+(65535&e)>>16)}}),te(te.S,"Math",{RAD_PER_DEG:180/Math.PI});var ks=Math.PI/180;te(te.S,"Math",{radians:function(t){return t*ks}}),te(te.S,"Math",{scale:bs}),te(te.S,"Math",{umulh:function(t,e){var n=+t,r=+e,t=65535&n,e=65535&r,n=n>>>16,r=r>>>16,e=(n*e>>>0)+(t*e>>>16);return n*r+(e>>>16)+((t*r>>>0)+(65535&e)>>>16)}}),te(te.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}}),te(te.P+te.R,"Promise",{finally:function(e){var n=bo(this,S.Promise||Ht.Promise),t="function"==typeof e;return this.then(t?function(t){return Zo(n,e()).then(function(){return t})}:e,t?function(t){return Zo(n,e()).then(function(){throw t})}:e)}}),te(te.S,"Promise",{try:function(t){var e=ui.f(this),t=Qo(t);return(t.e?e.reject:e.resolve)(t.v),e.promise}});function Rs(t,e,n){var r=Cs.get(t);if(!r){if(!n)return;Cs.set(t,r=new Ui)}if(!(t=r.get(e))){if(!n)return;r.set(e,t=new Ui)}return t}var ft=b("metadata"),Cs=ft.store||(ft.store=new Ct),Dt={store:Cs,map:Rs,has:function(t,e,n){n=Rs(e,n,!1);return void 0!==n&&n.has(t)},get:function(t,e,n){n=Rs(e,n,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,n,r){Rs(n,r,!0).set(t,e)},keys:function(t,e){var e=Rs(t,e,!1),n=[];return e&&e.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){te(te.S,"Reflect",t)}},Os=Dt.key,Ns=Dt.set;Dt.exp({defineMetadata:function(t,e,n,r){Ns(t,e,w(n),Os(r))}});var xs=Dt.key,Us=Dt.map,Ms=Dt.store;Dt.exp({deleteMetadata:function(t,e,n){var r=arguments.length<3?void 0:xs(n),n=Us(w(e),r,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;n=Ms.get(e);return n.delete(r),!!n.size||Ms.delete(e)}});var Ls=Dt.has,Ds=Dt.get,js=Dt.key,Fs=function(t,e,n){if(Ls(t,e,n))return Ds(t,e,n);e=me(e);return null!==e?Fs(t,e,n):void 0};Dt.exp({getMetadata:function(t,e,n){return Fs(t,w(e),arguments.length<3?void 0:js(n))}});var Vs=Dt.keys,$s=Dt.key,Hs=function(t,e){var n=Vs(t,e),t=me(t);if(null===t)return n;e=Hs(t,e);return e.length?n.length?Ps(new Mi(n.concat(e))):e:n};Dt.exp({getMetadataKeys:function(t,e){return Hs(w(t),arguments.length<2?void 0:$s(e))}});var Bs=Dt.get,Gs=Dt.key;Dt.exp({getOwnMetadata:function(t,e,n){return Bs(t,w(e),arguments.length<3?void 0:Gs(n))}});var Ws=Dt.keys,Ks=Dt.key;Dt.exp({getOwnMetadataKeys:function(t,e){return Ws(w(t),arguments.length<2?void 0:Ks(e))}});var qs=Dt.has,Js=Dt.key,Ys=function(t,e,n){if(qs(t,e,n))return!0;e=me(e);return null!==e&&Ys(t,e,n)};Dt.exp({hasMetadata:function(t,e,n){return Ys(t,w(e),arguments.length<3?void 0:Js(n))}});var zs=Dt.has,Xs=Dt.key;Dt.exp({hasOwnMetadata:function(t,e,n){return zs(t,w(e),arguments.length<3?void 0:Xs(n))}});var Qs=Dt.key,Zs=Dt.set;Dt.exp({metadata:function(n,r){return function(t,e){Zs(n,r,(void 0!==e?w:y)(t),Qs(e))}}});var ta=zo(),ea=Ht.process,na="process"==U(ea);te(te.G,{asap:function(t){var e=na&&ea.domain;ta(e?e.bind(t):t)}});function ra(t){return null==t?void 0:y(t)}function oa(t){var e=t._c;e&&(t._c=void 0,e())}function ia(t){return void 0===t._o}function sa(t){ia(t)||(t._o=void 0,oa(t))}function aa(e,t){w(e),this._c=void 0,this._o=e,e=new la(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:y(n),this._c=n)}catch(t){return void e.error(t)}ia(this)&&oa(this)}var ca=zo(),ua=ee("observable"),fa=Fo.RETURN;aa.prototype=ti({},{unsubscribe:function(){sa(this)}});var la=function(t){this._s=t};la.prototype=ti({},{next:function(t){var e=this._s;if(!ia(e)){var n=e._o;try{var r=ra(n.next);if(r)return r.call(n,t)}catch(t){try{sa(e)}finally{throw t}}}},error:function(t){var e=this._s;if(ia(e))throw t;var n=e._o;e._o=void 0;try{var r=ra(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{oa(e)}finally{throw t}}return oa(e),t},complete:function(t){var e=this._s;if(!ia(e)){var n=e._o;e._o=void 0;try{var r=ra(n.complete);t=r?r.call(n,t):void 0}catch(t){try{oa(e)}finally{throw t}}return oa(e),t}}});var ha=function(t){Lo(this,ha,"Observable","_f")._f=y(t)};ti(ha.prototype,{subscribe:function(t){return new aa(t,this._f)},forEach:function(r){var o=this;return new(S.Promise||Ht.Promise)(function(t,e){y(r);var n=o.subscribe({next:function(t){try{return r(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),ti(ha,{from:function(t){var e="function"==typeof this?this:ha,n=ra(w(t)[ua]);if(n){var r=w(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return ca(function(){if(!n){try{if(Fo(t,!1,function(t){if(e.next(t),n)return fa})===fa)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:ha)(function(e){var n=!1;return ca(function(){if(!n){for(var t=0;t<r.length;++t)if(e.next(r[t]),n)return;e.complete()}}),function(){n=!0}})}}),Jt(ha.prototype,ua,function(){return this}),te(te.G,{Observable:ha}),Kr("Observable");var pa=[].slice,Lt=/MSIE .\./.test(li),et=function(o){return function(t,e){var n=2<arguments.length,r=n&&pa.call(arguments,2);return o(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};te(te.G+te.B+te.F*Lt,{setTimeout:et(Ht.setTimeout),setInterval:et(Ht.setInterval)}),te(te.G+te.B,{setImmediate:ue.set,clearImmediate:ue.clear});for(var da=ee("iterator"),ga=ee("toStringTag"),va=Ln.Array,ya={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ma=it(ya),Sa=0;Sa<ma.length;Sa++){var Ea,Ia=ma[Sa],wa=ya[Ia],_a=Ht[Ia],Ta=_a&&_a.prototype;if(Ta&&(Ta[da]||Jt(Ta,da,va),Ta[ga]||Jt(Ta,ga,Ia),Ln[Ia]=va,wa))for(Ea in Yr)Ta[Ea]||C(Ta,Ea,Yr[Ea],!0)}d(function(t){function i(t,e,n,r){var o,i,s,a,e=e&&e.prototype instanceof u?e:u,e=Object.create(e.prototype),r=new f(r||[]);return e._invoke=(o=t,i=n,s=r,a=g,function(t,e){if(a===y)throw new Error("Generator is already running");if(a===m){if("throw"===t)throw e;return h()}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===d){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=d,t(e,n),"throw"===n.method))return S;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}r=c(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,S;var r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,S;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d)}n.delegate=null;return S}(n,s);if(r){if(r===S)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===g)throw a=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=y;r=c(o,i,s);if("normal"===r.type){if(a=s.done?m:v,r.arg!==S)return{value:r.arg,done:s.done}}else"throw"===r.type&&(a=m,s.method="throw",s.arg=r.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function u(){}function e(){}function n(){}function r(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(i){function s(t,e,n,r){t=c(i[t],i,e);if("throw"!==t.type){var o=t.arg,e=o.value;return e&&"object"==typeof e&&w.call(e,"__await")?Promise.resolve(e.__await).then(function(t){s("next",t,n,r)},function(t){s("throw",t,n,r)}):Promise.resolve(e).then(function(t){o.value=t,n(o)},r)}r(t.arg)}var e;"object"==typeof p.process&&p.process.domain&&(s=p.process.domain.bind(s)),this._invoke=function(n,r){function t(){return new Promise(function(t,e){s(n,r,t,e)})}return e=e?e.then(t,t):t()}}function o(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function a(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(o,this),this.reset(!0)}function l(e){if(e){var t=e[T];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(w.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=d,t.done=!0,t};return t.next=t}}return{next:h}}function h(){return{value:d,done:!0}}var p,d,g,v,y,m,S,E,I,w,_,T,P,A,b;p="object"==typeof k?k:"object"==typeof window?window:"object"==typeof self?self:k,I=Object.prototype,w=I.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},T=_.iterator||"@@iterator",P=_.asyncIterator||"@@asyncIterator",A=_.toStringTag||"@@toStringTag",(b=p.regeneratorRuntime)?t.exports=b:((b=p.regeneratorRuntime=t.exports).wrap=i,g="suspendedStart",v="suspendedYield",y="executing",m="completed",S={},(t={})[T]=function(){return this},(_=(_=Object.getPrototypeOf)&&_(_(l([]))))&&_!==I&&w.call(_,T)&&(t=_),E=n.prototype=u.prototype=Object.create(t),(e.prototype=E.constructor=n).constructor=e,n[A]=e.displayName="GeneratorFunction",b.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===e||"GeneratorFunction"===(t.displayName||t.name))},b.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,n):(t.__proto__=n,A in t||(t[A]="GeneratorFunction")),t.prototype=Object.create(E),t},b.awrap=function(t){return{__await:t}},r(s.prototype),s.prototype[P]=function(){return this},b.AsyncIterator=s,b.async=function(t,e,n,r){var o=new s(i(t,e,n,r));return b.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},r(E),E[A]="Generator",E[T]=function(){return this},E.toString=function(){return"[object Generator]"},b.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},b.values=l,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(a),!t)for(var e in this)"t"===e.charAt(0)&&w.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=d),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=w.call(o,"catchLoc"),a=w.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&w.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),a(n),S}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,a(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:l(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=d),S}})});var Pa,Aa,ba,ka=(Pa=/[\\^$*+?.()|[\]{}]/g,ba=(Aa="\\$&")===Object(Aa)?function(t){return Aa[t]}:Aa,function(t){return String(t).replace(Pa,ba)});te(te.S,"RegExp",{escape:function(t){return ka(t)}});S.RegExp.escape;if(k._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");k._babelPolyfill=!0;var Ra;function Ca(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}Ca(String.prototype,"padLeft","".padStart),Ca(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&Ca(Array,t,Function.call.bind([][t]))}),(fi=Ra=Ra||{}).BROWSER="Browser",fi.NODE_JS="Node",fi.WX_MICROPROGRAM="Wx",fi.REACT_NATIVE="ReactNative",fi.QUICK_APP="QuickApp",fi.UNKNOWN="Unknown";var Oa=(qa.setEncryptImp=function(t){this.encryptImpl=t},qa.decrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.decrypt(t):t},qa.encrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.encrypt(t):t},qa),Na=(Ka.getInstance=function(){return null==this.instance&&(this.instance=new Ka),this.instance},Ka.prototype.get=function(t){return Promise.resolve(this.storage[t])},Ka.prototype.remove=function(t){return delete this.storage[t],Promise.resolve()},Ka.prototype.set=function(t,e){return this.storage[t]=e,Promise.resolve()},Ka.prototype.setCryptImp=function(t){Oa.setEncryptImp(t)},Ka.instance=new Ka,Ka),xa=(Wa.getInstance=function(){return null==this.instance&&(this.instance=new Wa),this.instance},Wa.prototype.initIndexedDb=function(o){var i=this;return window.indexedDB?new Promise(function(e,n){var t=window.indexedDB.open(i.DB_NAME,i.VERSION),r=i;t.onupgradeneeded=function(t){var e=t.target.result;try{e.objectStoreNames.contains(r.OBJECT_STORE_NAME)||e.createObjectStore(r.OBJECT_STORE_NAME,{keyPath:r.KEY_PATH})}catch(t){n(t)}},t.onsuccess=function(t){try{e(t.target.result.transaction([r.OBJECT_STORE_NAME],o).objectStore(r.OBJECT_STORE_NAME))}catch(t){n(t)}},t.onerror=function(t){n(new Error(t.target.error))}}):Promise.reject("Your browser doesn't support a stable version of IndexedDB.")},Wa.prototype.get=function(o){return o?this.initIndexedDb("readonly").then(function(t){return new Promise(function(e,n){try{var r=t.get(o);r.onsuccess=function(){var t=r.result;e(null!=t&&"value"in t?Oa.decrypt(t.value):t)},r.onerror=function(t){n(t.target.error)}}catch(t){n(t)}})}).catch(function(t){return Promise.reject(t)}):Promise.reject(new Error("key is null"))},Wa.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));var n={},r={};n[this.KEY_PATH]=t,r.value=Oa.encrypt(e);var o=Object.assign(r,n);return this.initIndexedDb("readwrite").then(function(e){try{var n=e.get(t);return n.onsuccess=function(){var t=n.result,t=null!=t&&"value"in t?e.put(o):e.add(o);t.onsuccess=function(){return Promise.resolve()},t.onerror=function(t){return Promise.reject(t.target.error)}},n.onerror=function(t){return console.log("---get value from db error."),Promise.reject("get value from db error.")},Promise.resolve()}catch(t){return console.log("---set value to db error."+t),Promise.reject("set value to db error."+t)}}).catch(function(t){return Promise.reject("init db error."+t)})},Wa.prototype.remove=function(n){return n?this.initIndexedDb("readwrite").then(function(t){try{var e=t.delete(n);return e.onsuccess=function(){return Promise.resolve()},e.onerror=function(t){return Promise.reject(t.target.error)},Promise.resolve()}catch(t){return Promise.reject(t)}}).catch(function(t){return Promise.reject(t)}):Promise.reject(new Error("key is null"))},Wa.prototype.setCryptImp=function(t){Oa.setEncryptImp(t)},Wa.instance=new Wa,Wa),Ua=(Ga.getInstance=function(){return null==this.instance&&(this.instance=new Ga),this.instance},Ga.prototype.get=function(t){if(!t)return Promise.reject(new Error("key is null"));try{var e=sessionStorage.getItem(t);return Promise.resolve(""===e?null:Oa.decrypt(e))}catch(t){return Promise.reject(t)}},Ga.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));try{return sessionStorage.setItem(t,Oa.encrypt(e)),Promise.resolve()}catch(t){return Promise.reject(t)}},Ga.prototype.remove=function(t){if(!t)return Promise.reject(new Error("key is null"));try{return sessionStorage.removeItem(t),Promise.resolve()}catch(t){return Promise.reject(t)}},Ga.prototype.setCryptImp=function(t){Oa.setEncryptImp(t)},Ga.instance=new Ga,Ga),Ma=(Ba.getInstance=function(){return null==this.instance&&(this.instance=new Ba),this.instance},Ba.prototype.get=function(t){if(!t)return Promise.reject(new Error("key is null"));try{var e=n.readFileSync(t,"utf-8");return Promise.resolve(""===e?null:Oa.decrypt(e))}catch(t){return Promise.reject(t)}},Ba.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));try{return n.writeFileSync(t,Oa.encrypt(e),"utf-8"),Promise.resolve()}catch(t){return Promise.reject(t)}},Ba.prototype.remove=function(t){if(!t)return Promise.reject(new Error("key is null"));try{return n.unlinkSync(t),Promise.resolve()}catch(t){return Promise.reject(t)}},Ba.prototype.setCryptImp=function(t){Oa.setEncryptImp(t)},Ba.instance=new Ba,Ba),La=(Ha.prototype.getStorage=function(t){if(null==t||null==t)return this.createMemoryStorage();switch(t){case 0:return this.createPersistentStorage();case 1:return this.createTemporaryStorage();case 2:default:return this.createMemoryStorage()}},Ha.prototype.createPersistentStorage=function(){return this.env.persist()},Ha.prototype.createTemporaryStorage=function(){return this.env.temp()},Ha.prototype.createMemoryStorage=function(){return this.env.memory()},Ha.getEnvConfig=function(){var t={};return t[Ra.BROWSER]=Da,t[Ra.NODE_JS]=ja,t[Ra.WX_MICROPROGRAM]=Fa,t[Ra.REACT_NATIVE]=Va,t[Ra.QUICK_APP]=$a,t[Ra.UNKNOWN]=Da,t["object"==typeof self&&self.self===self?Ra.BROWSER:"object"==typeof navigator&&"ReactNative"===navigator.product?Ra.REACT_NATIVE:"[object process]"===Object.prototype.toString.call(global.process)?Ra.NODE_JS:global&&"fastapp"in global?Ra.QUICK_APP:self.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?Ra.WX_MICROPROGRAM:Ra.UNKNOWN]},Ha),Da={persist:function(){return xa.getInstance()},temp:function(){return Ua.getInstance()},memory:function(){return Na.getInstance()}},ja={persist:function(){return Ma.getInstance()},temp:function(){return Ua.getInstance()},memory:function(){return Na.getInstance()}},Fa={persist:function(){return Ua.getInstance()},temp:function(){return Ua.getInstance()},memory:function(){return Na.getInstance()}},Va={persist:function(){return Ua.getInstance()},temp:function(){return Ua.getInstance()},memory:function(){return Na.getInstance()}},$a={persist:function(){return Ua.getInstance()},temp:function(){return Ua.getInstance()},memory:function(){return Na.getInstance()}};function Ha(t){this.env=t}function Ba(){}function Ga(){}function Wa(){this.DB_NAME="agcLocalStorageDb",this.OBJECT_STORE_NAME="agc",this.KEY_PATH="agcStorage",this.VERSION=1}function Ka(){this.storage={}}function qa(){}p.registerInternalService({name:"AGCStorageService",serviceFactory:function(t){return new La(La.getEnvConfig())}});function Ja(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}var Ya=Object.prototype.toString;function za(t){return"[object Array]"===Ya.call(t)}function Xa(t){return void 0===t}function Qa(t){return null!==t&&"object"==typeof t}function Za(t){return"[object Function]"===Ya.call(t)}function tc(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),za(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var ec={isArray:za,isArrayBuffer:function(t){return"[object ArrayBuffer]"===Ya.call(t)},isBuffer:function(t){return null!==t&&!Xa(t)&&null!==t.constructor&&!Xa(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Qa,isUndefined:Xa,isDate:function(t){return"[object Date]"===Ya.call(t)},isFile:function(t){return"[object File]"===Ya.call(t)},isBlob:function(t){return"[object Blob]"===Ya.call(t)},isFunction:Za,isStream:function(t){return Qa(t)&&Za(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:tc,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,o=arguments.length;e<o;e++)tc(arguments[e],t);return r},deepMerge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]="object"==typeof t?n({},t):t}for(var e=0,o=arguments.length;e<o;e++)tc(arguments[e],t);return r},extend:function(n,t,r){return tc(t,function(t,e){n[e]=r&&"function"==typeof t?Ja(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function nc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rc(t,e,n){return e&&(n=n?n(e):ec.isURLSearchParams(e)?e.toString():(r=[],ec.forEach(e,function(t,e){null!=t&&(ec.isArray(t)?e+="[]":t=[t],ec.forEach(t,function(t){ec.isDate(t)?t=t.toISOString():ec.isObject(t)&&(t=JSON.stringify(t)),r.push(nc(e)+"="+nc(t))}))}),r.join("&")))&&(-1!==(e=t.indexOf("#"))&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+n),t;var r}function oc(){this.handlers=[]}oc.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},oc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},oc.prototype.forEach=function(e){ec.forEach(this.handlers,function(t){null!==t&&e(t)})};function ic(e,n,t){return ec.forEach(t,function(t){e=t(e,n)}),e}function sc(t){return!(!t||!t.__CANCEL__)}function ac(n,r){ec.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}function cc(t,e,n,r,o){return t=new Error(t),e=e,n=n,r=r,o=o,(t=t).config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}var uc,fc,lc,hc=oc,pc=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],dc=ec.isStandardBrowserEnv()?(fc=/(msie|trident)/i.test(navigator.userAgent),lc=document.createElement("a"),uc=gc(window.location.href),function(t){t=ec.isString(t)?gc(t):t;return t.protocol===uc.protocol&&t.host===uc.host}):function(){return!0};function gc(t){return fc&&(lc.setAttribute("href",t),t=lc.href),lc.setAttribute("href",t),{href:lc.href,protocol:lc.protocol?lc.protocol.replace(/:$/,""):"",host:lc.host,search:lc.search?lc.search.replace(/^\?/,""):"",hash:lc.hash?lc.hash.replace(/^#/,""):"",hostname:lc.hostname,port:lc.port,pathname:"/"===lc.pathname.charAt(0)?lc.pathname:"/"+lc.pathname}}function vc(f){return new Promise(function(a,c){var n=f.data,r=f.headers;ec.isFormData(n)&&delete r["Content-Type"];var u=new XMLHttpRequest;f.auth&&(t=f.auth.username||"",o=f.auth.password||"",r.Authorization="Basic "+btoa(t+":"+o));var t,e,o,e=(t=f.baseURL,o=f.url,t&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(o)?(e=t,(t=o)?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e):o);if(u.open(f.method.toUpperCase(),rc(e,f.params,f.paramsSerializer),!0),u.timeout=f.timeout,u.onreadystatechange=function(){var e,n,r,t,o,i,s;u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&(i="getAllResponseHeaders"in u?(o=u.getAllResponseHeaders(),r={},o&&ec.forEach(o.split("\n"),function(t){n=t.indexOf(":"),e=ec.trim(t.substr(0,n)).toLowerCase(),n=ec.trim(t.substr(n+1)),e&&(r[e]&&0<=pc.indexOf(e)||(r[e]="set-cookie"===e?(r[e]||[]).concat([n]):r[e]?r[e]+", "+n:n))}),r):null,s={data:f.responseType&&"text"!==f.responseType?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:f,request:u},t=a,o=c,!(s=(i=s).config.validateStatus)||s(i.status)?t(i):o(cc("Request failed with status code "+i.status,i.config,null,i.request,i)),u=null)},u.onabort=function(){u&&(c(cc("Request aborted",f,"ECONNABORTED",u)),u=null)},u.onerror=function(){c(cc("Network Error",f,null,u)),u=null},u.ontimeout=function(){var t="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(t=f.timeoutErrorMessage),c(cc(t,f,"ECONNABORTED",u)),u=null},ec.isStandardBrowserEnv()&&(o=yc,(o=(f.withCredentials||dc(e))&&f.xsrfCookieName?o.read(f.xsrfCookieName):void 0)&&(r[f.xsrfHeaderName]=o)),"setRequestHeader"in u&&ec.forEach(r,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:u.setRequestHeader(e,t)}),ec.isUndefined(f.withCredentials)||(u.withCredentials=!!f.withCredentials),f.responseType)try{u.responseType=f.responseType}catch(t){if("json"!==f.responseType)throw t}"function"==typeof f.onDownloadProgress&&u.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(t){u&&(u.abort(),c(t),u=null)}),void 0===n&&(n=null),u.send(n)})}var yc=ec.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var s=[];s.push(t+"="+encodeURIComponent(e)),ec.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ec.isString(r)&&s.push("path="+r),ec.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},mc={"Content-Type":"application/x-www-form-urlencoded"};function Sc(t,e){!ec.isUndefined(t)&&ec.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Ec,Ic={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Ec=vc),Ec),transformRequest:[function(t,e){return ac(e,"Accept"),ac(e,"Content-Type"),ec.isFormData(t)||ec.isArrayBuffer(t)||ec.isBuffer(t)||ec.isStream(t)||ec.isFile(t)||ec.isBlob(t)?t:ec.isArrayBufferView(t)?t.buffer:ec.isURLSearchParams(t)?(Sc(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ec.isObject(t)?(Sc(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ec.forEach(["delete","get","head"],function(t){Ic.headers[t]={}}),ec.forEach(["post","put","patch"],function(t){Ic.headers[t]=ec.merge(mc)});var wc=Ic;function _c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}function Tc(e){return _c(e),e.headers=e.headers||{},e.data=ic(e.data,e.headers,e.transformRequest),e.headers=ec.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ec.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||wc.adapter)(e).then(function(t){return _c(e),t.data=ic(t.data,t.headers,e.transformResponse),t},function(t){return sc(t)||(_c(e),t&&t.response&&(t.response.data=ic(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function Pc(e,n){n=n||{};var r={},t=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];ec.forEach(t,function(t){void 0!==n[t]&&(r[t]=n[t])}),ec.forEach(o,function(t){ec.isObject(n[t])?r[t]=ec.deepMerge(e[t],n[t]):void 0!==n[t]?r[t]=n[t]:ec.isObject(e[t])?r[t]=ec.deepMerge(e[t]):void 0!==e[t]&&(r[t]=e[t])}),ec.forEach(i,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])});var s=t.concat(o).concat(i),i=Object.keys(n).filter(function(t){return-1===s.indexOf(t)});return ec.forEach(i,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])}),r}function Ac(t){this.defaults=t,this.interceptors={request:new hc,response:new hc}}Ac.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=Pc(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[Tc,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},Ac.prototype.getUri=function(t){return t=Pc(this.defaults,t),rc(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},ec.forEach(["delete","get","head","options"],function(n){Ac.prototype[n]=function(t,e){return this.request(ec.merge(e||{},{method:n,url:t}))}}),ec.forEach(["post","put","patch"],function(r){Ac.prototype[r]=function(t,e,n){return this.request(ec.merge(n||{},{method:r,url:t,data:e}))}});var bc=Ac;function kc(t){this.message=t}kc.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},kc.prototype.__CANCEL__=!0;var Rc=kc;function Cc(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new Rc(t),e(n.reason))})}Cc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Cc.source=function(){var e;return{token:new Cc(function(t){e=t}),cancel:e}};fe=Cc;function Oc(t){var e=new bc(t),t=Ja(bc.prototype.request,e);return ec.extend(t,bc.prototype,e),ec.extend(t,e),t}var Nc=Oc(wc);Nc.Axios=bc,Nc.create=function(t){return Oc(Pc(Nc.defaults,t))},Nc.Cancel=Rc,Nc.CancelToken=fe,Nc.isCancel=sc,Nc.all=function(t){return Promise.all(t)},Nc.spread=function(e){return function(t){return e.apply(null,t)}};ft=Nc;ft.default=Nc;var xc,Uc,Mc=ft;(Ct=xc=xc||{})[Ct.BROWSER=0]="BROWSER",Ct[Ct.NODE_JS=1]="NODE_JS",Ct[Ct.WX_MICROPROGRAM=2]="WX_MICROPROGRAM",Ct[Ct.QUICK_APP=3]="QUICK_APP",Ct[Ct.REACT_NATIVE=4]="REACT_NATIVE",Ct[Ct.UNKNOWN=5]="UNKNOWN",(Dt=Uc=Uc||{})[Dt.POST=0]="POST",Dt[Dt.GET=1]="GET",Dt[Dt.PUT=2]="PUT",Dt[Dt.DELETE=3]="DELETE";var Lc=(Dc.prototype.post=function(t,e,n){return this.sendRequest(Uc.POST,t,e,n)},Dc.prototype.get=function(t,e,n){return this.sendRequest(Uc.GET,t,e,n)},Dc.prototype.delete=function(t,e,n){return this.sendRequest(Uc.DELETE,t,e,n)},Dc.prototype.put=function(t,e,n){return this.sendRequest(Uc.PUT,t,e,n)},Dc.prototype.checkParam=function(t){return!(!t||t.match(/\s/g)||!t.match(/^(ht)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?/))},Dc.prototype.sendRequest=function(c,u,f,l){return i=this,a=function(){return n=this,r=function(t){if(!this.checkParam(u))return[2,Promise.reject("URL IS ERROR!")];switch(c){case Uc.PUT:return[2,Mc.put(u,f,{headers:l})];case Uc.POST:return[2,Mc.post(u,f,{headers:l})];case Uc.GET:return[2,Mc.get(u,{params:f,headers:l})];case Uc.DELETE:return[2,Mc.delete(u,{params:f,headers:l})];default:return[2,Promise.reject("invalid method type")]}},a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}var n,r,o,i,s,a,e},s=void 0,new(s=Promise)(function(t,e){function n(t){try{o(a.next(t))}catch(t){e(t)}}function r(t){try{o(a.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,r)}o((a=a.apply(i,[])).next())});var i,s,a},Dc);function Dc(){Mc.defaults.timeout=3e3}p.registerInternalService({name:"AGCNetworkService",serviceFactory:function(t){switch("object"==typeof self&&self.self===self?xc.BROWSER:"object"==typeof navigator&&"ReactNative"===navigator.product?xc.REACT_NATIVE:"[object process]"===Object.prototype.toString.call(global.process)?xc.NODE_JS:global&&"fastapp"in global?xc.QUICK_APP:self.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?xc.WX_MICROPROGRAM:xc.UNKNOWN){case xc.BROWSER:case xc.REACT_NATIVE:case xc.QUICK_APP:case xc.WX_MICROPROGRAM:default:return new Lc}}});var jc=function(t,e){return(jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Fc(i,s,a,c){return new(a=a||Promise)(function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function r(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}o((c=c.apply(i,s||[])).next())})}function Vc(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var $c,Hc,Bc=(tu.prototype.constructFromJson=function(t){this.expiration=t.expiration,this.issuedAt=t.issuedAt,this.tokenString=t.tokenString,this.notBefore=t.notBefore,this.lastRefreshTime=t.lastRefreshTime},tu.prototype.isValid=function(){var t=(new Date).getTime(),e=this.lastRefreshTime+1e3*parseInt(this.expiration)-this.TWO_MINUTES_EARLY;return null!=this.tokenString&&t<=e},tu.prototype.allowRefresh=function(){return(new Date).getTime()-this.lastRefreshTime>this.ONE_HOUR},tu),Gc=(Zc.prototype.getSdkServiceName=function(){return this.sdkServiceName},Zc.prototype.setSdkServiceName=function(t){this.sdkServiceName=t},Zc.prototype.getSdkVersion=function(){return this.sdkVersion},Zc.prototype.setSdkVersion=function(t){this.sdkVersion=t},Zc.prototype.getSdkPlatform=function(){return this.sdkPlatform},Zc.prototype.setSdkPlatform=function(t){this.sdkPlatform=t},Zc.prototype.getSdkPlatformVersion=function(){return this.sdkPlatformVersion},Zc.prototype.setSdkPlatformVersion=function(t){this.sdkPlatformVersion=t},Zc.prototype.getPackageName=function(){return this.packageName},Zc.prototype.setPackageName=function(t){this.packageName=t},Zc.prototype.getAppVersion=function(){return this.appVersion},Zc.prototype.setAppVersion=function(t){this.appVersion=t},Zc.prototype.getHeaderProductId=function(){return this.headerProductId},Zc.prototype.setHeaderProductId=function(t){this.headerProductId=t},Zc.prototype.getHeaderAppId=function(){return this.headerAppId},Zc.prototype.setHeaderAppId=function(t){this.headerAppId=t},Zc.prototype.getHeaderAaId=function(){return this.headerAaId},Zc.prototype.setHeaderAaId=function(t){this.headerAaId=t},Zc.prototype.getHeaderClientId=function(){return this.headerClientId},Zc.prototype.setHeaderClientId=function(t){this.headerClientId=t},Zc.prototype.getAuthorization=function(){return this.authorization},Zc.prototype.setAuthorization=function(t){this.authorization=t},Zc.prototype.getAccessToken=function(){return this.accessToken},Zc.prototype.setAccessToken=function(t){this.accessToken=t},Zc.prototype.getAgcgwUrl=function(){return this.agcgwUrl},Zc.prototype.setAgcgwUrl=function(t){this.agcgwUrl=t},Zc.prototype.getAgcgwBackUrl=function(){return this.agcgwBackUrl},Zc.prototype.setAgcgwBackUrl=function(t){this.agcgwBackUrl=t},Zc.prototype.addHttpToUrl=function(t){return t&&!t.startsWith("https://")?"https://"+t:t},jc(Hc=Xc,zo=$c=Zc),Hc.prototype=null===zo?Object.create(zo):(Qc.prototype=zo.prototype,new Qc),Xc.prototype.getBody=function(){return{grant_type:"client_credentials",client_id:this.getHeaderClientId(),client_secret:this.getClientSecret(),useJwt:this.getUseJwt()}},Xc.prototype.getHeader=function(){return{app_id:this.getHeaderAppId()}},Xc.prototype.getUrl=function(){return this.REQUEST_URL},Xc.prototype.getClientSecret=function(){return this.clientSecret},Xc.prototype.setUseJwt=function(t){this.useJwt=t},Xc.prototype.getUseJwt=function(){return this.useJwt},Xc),Wc=(zc.getInstance=function(){return zc.instance||(zc.instance=new zc),zc.instance},zc.prototype.getStorage=function(){var t=p.instance().getService("AGCStorageService");if(null!=t)return t.getStorage(qc.getUserInfoPersistence());console.log("Get AGC stroage Service failed.")},zc),Kc=(Yc.prototype.getCode=function(){return this.code},Yc.prototype.setCode=function(t){this.code=t},Yc.prototype.getMsg=function(){return this.msg},Yc.prototype.setMsg=function(t){this.msg=t},Yc),qc=(Jc.prototype.removeToken=function(){if(p.instance().getCustomCredentialsProvider())return Promise.resolve();var t=this.getCredentialStoreKey();if(""==t)return Promise.reject("get config info error.");var e=Wc.getInstance().getStorage();return null==e?Promise.reject("get agcStorage failed."):e.remove(t)},Jc.prototype.getToken=function(s){return Fc(this,void 0,void 0,function(){var e,n,r,o,i;return Vc(this,function(t){switch(t.label){case 0:return p.instance().getCustomCredentialsProvider()?(e=new Bc,[4,p.instance().getCustomCredentialsProvider().getToken(!!s)]):[3,2];case 1:return(n=t.sent())&&n.tokenString&&n.expiration?isNaN(Number(n.expiration))||Number(n.expiration)<=0?(console.log("the customCredentialsProvider getToken must return valid expiration."),[2,Promise.reject("the customCredentialsProvider getToken must return valid expiration.")]):(e.tokenString=n.tokenString,e.expiration=n.expiration.toString(),e.lastRefreshTime=(new Date).getTime(),[2,Promise.resolve(e)]):(console.log("the customCredentialsProvider getToken method must contain return value: tokenString, expiration."),[2,Promise.reject("the customCredentialsProvider getToken method must contain return value: tokenString, expiration.")]);case 2:return""==(r=this.getCredentialStoreKey())?[2,Promise.reject("get config info error.")]:null==(o=Wc.getInstance().getStorage())?[2,Promise.reject("get agcStorage failed.")]:(i=null,[4,o.get(r).then(function(t){t&&(i=new Bc).constructFromJson(JSON.parse(t))})]);case 3:return t.sent(),!i||!i.isValid()||s&&i.allowRefresh()?[2,this.requestToken(r,o)]:[2,Promise.resolve(i)]}})})},Jc.prototype.getCredentialStoreKey=function(){try{return"agcClientToken:"+p.instance().config().client.client_id}catch(t){return console.log(t),""}},Jc.prototype.requestToken=function(r,o){return Fc(this,void 0,void 0,function(){var e,n;return Vc(this,function(t){switch(t.label){case 0:return null==(e=p.instance().getService("AGCNetworkService"))?[2,Promise.reject("get agcNetwork service failed.")]:((n=new Gc).setUseJwt(1),[4,e.post(n.getAgcgwUrl()+n.getUrl(),n.getBody(),n.getHeader()).then(function(t){if(t.data.ret&&0!=t.data.ret.code)return Promise.reject(new Kc(t.data.ret.code,t.data.ret.msg));var e=new Bc;return e.tokenString=t.data.access_token,e.expiration=t.data.expires_in,e.lastRefreshTime=(new Date).getTime(),o.set(r,JSON.stringify(e)),Promise.resolve(e)}).catch(function(t){return o.remove(r),Promise.reject(t)})]);case 1:return[2,t.sent()]}})})},Jc.prototype.setUserInfoPersistence=function(t){p.instance().getCustomCredentialsProvider()||(Jc.persistence=t)},Jc.getUserInfoPersistence=function(){return Jc.persistence},Jc.persistence=2,Jc);function Jc(){}function Yc(t,e){void 0===t&&(t=0),void 0===e&&(e=""),this.code=t,this.msg=e}function zc(){}function Xc(){var t=$c.call(this)||this;t.REQUEST_URL="/agc/apigw/oauth2/v1/token",t.clientSecret="",t.useJwt=0,$c.prototype.setSdkServiceName.call(t,"agconnect-credential");try{t.clientSecret=p.instance().config().client.client_secret}catch(t){throw console.log(t),t}return t}function Qc(){this.constructor=Hc}function Zc(){var t;this.packageName="",this.headerProductId="",this.headerAppId="",this.headerClientId="",this.agcgwUrl="",this.agcgwBackUrl="",this.sdkServiceName="agconnect-credential",this.sdkVersion="1.0",this.sdkPlatform="JS-SDK",this.sdkPlatformVersion="1.0",this.accessToken="",this.authorization="",this.appVersion="",this.headerAaId="";try{t=p.instance().config()}catch(t){throw console.log(t),t}this.packageName=t.client.package_name,this.headerProductId=t.client.product_id,this.headerClientId=t.client.client_id,this.headerAppId=t.client.app_id,this.agcgwUrl=this.addHttpToUrl(t.agcgw.url),this.agcgwBackUrl=this.addHttpToUrl(t.agcgw.backurl)}function tu(){this.TWO_MINUTES_EARLY=12e4,this.ONE_HOUR=36e5,this.expiration="0",this.tokenString="",this.issuedAt="0",this.notBefore="0",this.lastRefreshTime=0}p.registerInternalService({name:"CredentialsService",serviceFactory:function(t){return new qc}});var eu=(ou.prototype.getAaid=function(){var e=this;try{var n="agcAaid:"+p.instance().config().client.client_id,t=p.instance().getService("AGCStorageService");if(null==t)return console.log("Get AGC stroage Service failed."),Promise.reject("Get AGC stroage Service failed.");var r=t.getStorage(ou.persistence);return r.get(n).then(function(t){return null!=t&&null!=t||(t=e.getRandomString(),r.set(n,t)),t})}catch(t){return Promise.reject(t)}},ou.prototype.getRandomString=function(){var t="0123456789abcdef",e=t.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(){return t.charAt(Math.floor(Math.random()*e))})},ou.persistence=0,ou.INSTANCE=new ou,ou),nu=(ru.prototype.getAaid=function(){return eu.INSTANCE.getAaid()},ru.prototype.setPersistence=function(t){eu.persistence=t},ru);function ru(){}function ou(){}function iu(t){return null!=t}(zl||(zl={})).ObserverImpl=function(t,e,n){"function"==typeof t||iu(e)||iu(n)?(this.next=t,this.error=e||null,this.complete=n||null):(t=t,this.next=t.next||null,this.error=t.error||null,this.complete=t.complete||null)},p.registerInternalService({name:"ClientInfoService",serviceFactory:function(t){return new nu}});var su=function(t,e){return(su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function au(t,e){function n(){this.constructor=t}su(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function cu(i,s,a,c){return new(a=a||Promise)(function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function r(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}o((c=c.apply(i,s||[])).next())})}function uu(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var fu,lu,hu,pu,du=(Ou.prototype.getProviderInfo=function(){return this.providerInfo},Ou.prototype.setProviderInfo=function(t){this.providerInfo=t},Ou.prototype.updateProvider=function(t){var e=t.get("ProviderInfo");null!=e&&this.deleteProvider(e),null==this.providerInfo&&(this.providerInfo=new Array),this.providerInfo.push(t)},Ou.prototype.deleteProvider=function(t){var e,n=this.findProvider(t);if(null!=this.providerInfo&&null!=n)for(e=0;e<this.providerInfo.length;e++)n===this.providerInfo[e]&&this.providerInfo.splice(e,1)},Ou.prototype.findProvider=function(t){var e=null;if(null!=t&&null!=this.providerInfo)for(var n=0,n=0;n<this.providerInfo.length;n++){var r=this.providerInfo[n];if(t==r.get("provider")){e=r;break}}return e},Ou),gu=(Cu.prototype.getState=function(){return this.state},Cu.prototype.getToken=function(){return this.tokenString},Cu),vu=(Ru.getMsgByCode=function(t){switch(t){case Ru.INVALID_EMAIL:return"email can not be null or empty";case Ru.PASSWORD_IS_EMPTY:return"password can not be null or empty";case Ru.EMAIL_VERIFICATION_IS_EMPTY:return"verify code can not be null or empty";case Ru.INVALID_PHONE:return"countrycode and phone can not be null or empty";case Ru.PHONE_VERIFICATION_IS_EMPTY:return"verify code can not be null or empty"}return""},Ru.NULL_TOKEN=1,Ru.NOT_SIGN_IN=2,Ru.USER_LINKED=3,Ru.USER_UNLINKED=4,Ru.ALREADY_SIGN_IN_USER=5,Ru.EMAIL_VERIFICATION_IS_EMPTY=6,Ru.PHONE_VERIFICATION_IS_EMPTY=7,Ru.INVALID_EMAIL=203817223,Ru.INVALID_PHONE=203817224,Ru.GET_UID_ERROR=203817728,Ru.UID_PRODUCTID_NOT_MATCH=203817729,Ru.GET_USER_INFO_ERROR=203817730,Ru.AUTH_METHOD_NOT_SUPPORT=203817732,Ru.PRODUCT_STATUS_ERROR=203817744,Ru.PASSWORD_VERIFICATION_CODE_OVER_LIMIT=203817811,Ru.INVALID_TOKEN=203817984,Ru.INVALID_ACCESS_TOKEN=203817985,Ru.INVALID_REFRESH_TOKEN=203817986,Ru.CLIENT_TOKEN_EXPIRED=205524993,Ru.ACCESS_TOKEN_EXPIRED=205524994,Ru.TOKEN_AND_PRODUCTID_NOT_MATCH=203817987,Ru.AUTH_METHOD_IS_DISABLED=203817988,Ru.FAIL_TO_GET_THIRD_USER_INFO=203817989,Ru.FAIL_TO_GET_THIRD_USER_UNION_ID=203817990,Ru.ACCESS_TOKEN_OVER_LIMIT=203817991,Ru.FAIL_TO_USER_LINK=203817992,Ru.FAIL_TO_USER_UNLINK=203817993,Ru.ANONYMOUS_SIGNIN_OVER_LIMIT=203818019,Ru.INVALID_APPID=203818020,Ru.INVALID_APPSECRET=203818021,Ru.GET_QQ_USERINFO_ERROR=203818023,Ru.QQINFO_RESPONSE_IS_NULL=203818024,Ru.GET_QQ_UID_ERROR=203818025,Ru.PASSWORD_VERIFY_CODE_ERROR=203818032,Ru.GOOGLE_RESPONSE_NOT_EQUAL_APPID=203818033,Ru.SIGNIN_USER_STATUS_ERROR=203818036,Ru.SIGNIN_USER_PASSWORD_ERROR=203818037,Ru.PROVIDER_USER_HAVE_BEEN_LINKED=203818038,Ru.PROVIDER_HAVE_LINKED_ONE_USER=203818039,Ru.FAIL_GET_PROVIDER_USER=203818040,Ru.CANNOT_UNLINK_ONE_PROVIDER_USER=203818041,Ru.VERIFY_CODE_INTERVAL_LIMIT=203818048,Ru.VERIFY_CODE_EMPTY=203818049,Ru.VERIFY_CODE_LANGUAGE_EMPTY=203818050,Ru.VERIFY_CODE_RECEIVER_EMPTY=203818051,Ru.VERIFY_CODE_ACTION_ERROR=203818052,Ru.VERIFY_CODE_TIME_LIMIT=203818053,Ru.ACCOUNT_PASSWORD_SAME=203818064,Ru.PASSWORD_STRENGTH_LOW=203818065,Ru.UPDATE_PASSWORD_ERROR=203818066,Ru.PASSWORD_SAME_AS_BEFORE=203818067,Ru.PASSWORD_IS_EMPTY=203818068,Ru.PASSWORD_TOO_LONG=203818071,Ru.SENSITIVE_OPERATION_TIMEOUT=203818081,Ru.ACCOUNT_HAVE_BEEN_REGISTERED=203818082,Ru.UPDATE_ACCOUNT_ERROR=203818084,Ru.USER_NOT_REGISTERED=203818087,Ru.VERIFY_CODE_ERROR=203818129,Ru.USER_HAVE_BEEN_REGISTERED=203818130,Ru.REGISTER_ACCOUNT_IS_EMPTY=203818132,Ru.VERIFY_CODE_FORMAT_ERROR=203818134,Ru.VERIFY_CODE_AND_PASSWORD_BOTH_NULL=203818135,Ru.SEND_EMAIL_FAIL=203818240,Ru.SEND_MESSAGE_FAIL=203818241,Ru.CONFIG_LOCK_TIME_ERROR=203818261,Ru),Lt=(ku.prototype.getSdkServiceName=function(){return this.sdkServiceName},ku.prototype.setSdkServiceName=function(t){this.sdkServiceName=t},ku.prototype.getSdkVersion=function(){return this.sdkVersion},ku.prototype.setSdkVersion=function(t){this.sdkVersion=t},ku.prototype.getSdkPlatform=function(){return this.sdkPlatform},ku.prototype.setSdkPlatform=function(t){this.sdkPlatform=t},ku.prototype.getSdkPlatformVersion=function(){return this.sdkPlatformVersion},ku.prototype.setSdkPlatformVersion=function(t){this.sdkPlatformVersion=t},ku.prototype.getPackageName=function(){return this.packageName},ku.prototype.setPackageName=function(t){this.packageName=t},ku.prototype.getAppVersion=function(){return this.appVersion},ku.prototype.setAppVersion=function(t){this.appVersion=t},ku.prototype.getHeaderProductId=function(){return this.headerProductId},ku.prototype.setHeaderProductId=function(t){this.headerProductId=t},ku.prototype.getHeaderAppId=function(){return this.headerAppId},ku.prototype.setHeaderAppId=function(t){this.headerAppId=t},ku.prototype.getHeaderAaId=function(){return this.headerAaId},ku.prototype.setHeaderAaId=function(t){this.headerAaId=t},ku.prototype.getHeaderClientId=function(){return this.headerClientId},ku.prototype.setHeaderClientId=function(t){this.headerClientId=t},ku.prototype.getAuthorization=function(){return this.authorization},ku.prototype.setAuthorization=function(t){this.authorization=t},ku.prototype.getAccessToken=function(){return this.accessToken},ku.prototype.setAccessToken=function(t){this.accessToken=t},ku.prototype.getAgcgwUrl=function(){return this.agcgwUrl},ku.prototype.setAgcgwUrl=function(t){this.agcgwUrl=t},ku.prototype.getAgcgwBackUrl=function(){return this.agcgwBackUrl},ku.prototype.setAgcgwBackUrl=function(t){this.agcgwBackUrl=t},ku.prototype.addHttpToUrl=function(t){return t&&!t.startsWith("https://")?"https://"+t:t},ku),yu=(au(bu,pu=Lt),bu.SERVER_URL="/agc/apigw/oauth2/third/v1",bu),mu=(au(Au,hu=yu),Au.prototype.getBody=function(){return{refreshToken:this.refreshToken,useJwt:this.useJwt}},Au.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId(),app_id:this.getHeaderAppId()}},Au.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},Au),Su=(Pu.prototype.getCode=function(){return this.code},Pu.prototype.setCode=function(t){this.code=t},Pu.prototype.getMsg=function(){return this.msg},Pu.prototype.setMsg=function(t){this.msg=t},Pu),et=(Tu.prototype.isSuccess=function(){return null!=this.ret&&0==this.ret.getCode()},Tu.prototype.getRet=function(){return this.ret},Tu.prototype.setRet=function(t){this.ret=t},Tu.prototype.constructResponse=function(t){},Tu),Eu=(_u.prototype.getToken=function(){return this.token},_u.prototype.setToken=function(t){this.token=t},_u.prototype.getValidPeriod=function(){return this.validPeriod},_u.prototype.setValidPeriod=function(t){this.validPeriod=t},_u),Iu=(au(wu,lu=et),wu.prototype.constructResponse=function(t){this.accessToken.setToken(t.data.accessToken.token),this.accessToken.setValidPeriod(t.data.accessToken.validPeriod),this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code)},wu);function wu(){var t=null!==lu&&lu.apply(this,arguments)||this;return t.accessToken=new Eu,t.productId="",t.uid="",t}function _u(){this.token="",this.validPeriod=0}function Tu(){this.ret=new Su}function Pu(t,e){void 0===t&&(t=0),void 0===e&&(e=""),this.code=t,this.msg=e}function Au(t,e){var n=hu.call(this)||this;return n.URL=yu.SERVER_URL+"/user-auth/refresh-token",n.useJwt=0,n.refreshToken=t,n.useJwt=e,n}function bu(){return null!==pu&&pu.apply(this,arguments)||this}function ku(){var t;this.packageName="",this.headerProductId="",this.headerAppId="",this.headerClientId="",this.agcgwUrl="",this.agcgwBackUrl="",this.sdkServiceName="agconnect-credential",this.sdkVersion="1.0",this.sdkPlatform="JS-SDK",this.sdkPlatformVersion="1.0",this.accessToken="",this.authorization="",this.appVersion="",this.headerAaId="";try{t=p.instance().config()}catch(t){return void console.log(t)}this.packageName=t.client.package_name,this.headerProductId=t.client.product_id,this.headerClientId=t.client.client_id,this.headerAppId=t.client.app_id,this.agcgwUrl=this.addHttpToUrl(t.agcgw.url),this.agcgwBackUrl=this.addHttpToUrl(t.agcgw.backurl)}function Ru(t,e){this.code=e,this.errMsg=t}function Cu(t,e,n,r){this.state=void 0,this.expiration=t,this.issuedAt=e,this.notBefore=n,this.tokenString=r}function Ou(){this.providerInfo=[]}(ue=fu=fu||{})[ue.POST=0]="POST",ue[ue.GET=1]="GET";var Nu,xu,Uu,Mu,Lu,Du,ju,Fu,Vu,$u,Hu,Bu,Gu,Wu,Ku,qu,Ju,Yu=(vl.getClientToken=function(r){return cu(this,void 0,void 0,function(){var e,n;return uu(this,function(t){switch(t.label){case 0:return(e=p.instance().getService("CredentialsService"))?(e.setUserInfoPersistence(Number(mf.getUserInfoPersistence())),n="",[4,e.getToken(r).then(function(t){n=t.tokenString})]):[2,Promise.reject("Get credentialProvider failed.")];case 1:return t.sent(),null==n||""==n?[2,Promise.reject("Get clientToken failed.")]:[2,Promise.resolve(n)]}})})},vl.post=function(o,i){return cu(this,void 0,void 0,function(){var e,n,r;return uu(this,function(t){switch(t.label){case 0:return e=o.getHeader(),n=e,r="Bearer ",[4,vl.getClientToken()];case 1:return n.Authorization=r+t.sent(),[2,this.sendRequest(o,fu.POST,i,e,!0,!0)]}})})},vl.get=function(o,i){return cu(this,void 0,void 0,function(){var e,n,r;return uu(this,function(t){switch(t.label){case 0:return e=o.getHeader(),n=e,r="Bearer ",[4,vl.getClientToken()];case 1:return n.Authorization=r+t.sent(),[2,this.sendRequest(o,fu.GET,i,e,!0,!0)]}})})},vl.sendRequest=function(a,c,u,f,l,h){return cu(this,void 0,void 0,function(){var e=this;return uu(this,function(t){switch(t.label){case 0:return[4,this.doNetworkOption(c,a,f,u).then(function(t){return Promise.resolve()}).catch(function(s){return cu(e,void 0,void 0,function(){var e,n,r,o,i;return uu(this,function(t){switch(t.label){case 0:return 401!=s.response.status?[2,Promise.reject(s)]:(e="0x0"+(e=s.response.data.ret.code).toString(16))==vu.CLIENT_TOKEN_EXPIRED&&l?(n=p.instance().getService("CredentialsService"))?[4,n.removeToken()]:[2,Promise.reject("Get credentialProvider failed.")]:[3,3];case 1:return t.sent(),r=f,o="Bearer ",[4,vl.getClientToken(!0)];case 2:return r.Authorization=o+t.sent(),u.setRet(new Su),[2,vl.sendRequest(a,c,u,f,!1,h)];case 3:return e==vu.ACCESS_TOKEN_EXPIRED&&h?(i=null,[4,p.auth().getCurrentUser().then(function(t){return null==t?Promise.reject("no user sigIn."):(i=t,Promise.resolve())})]):[3,6];case 4:return t.sent(),[4,i.getToken(!0).then(function(t){f.access_token=t.getToken()})];case 5:return t.sent(),u.setRet(new Su),[2,vl.sendRequest(a,c,u,f,l,!1)];case 6:return[2,Promise.reject(s)]}})})})];case 1:return[2,t.sent()]}})})},vl.doNetworkOption=function(n,r,o,i){return cu(this,void 0,void 0,function(){var e;return uu(this,function(t){switch(t.label){case 0:return null==(e=p.instance().getService("AGCNetworkService"))?[2,Promise.reject("Get agcNetwork service failed.")]:n!=fu.POST?[3,2]:[4,e.post(r.getUrl(),r.getBody(),o).then(function(t){0==t.data.ret.code&&i.constructResponse(t),i.setRet(new Su(t.data.ret.code,t.data.ret.msg))}).catch(function(t){return Promise.reject(t)})];case 1:return t.sent(),[3,4];case 2:return[4,e.get(r.getUrl(),r.getBody(),o).then(function(t){i.constructResponse(t)}).catch(function(t){return Promise.reject(t)})];case 3:t.sent(),t.label=4;case 4:return[2,new Promise(function(t,e){t()})]}})})},vl),zu=(gl.prototype.constructeSecureTokenService=function(t,e){this.accessToken=t.getToken(),this.accessTokenValidPeriod=t.getValidPeriod(),this.refreshToken=e.getToken(),this.validTime=(new Date).getTime()+1e3*t.getValidPeriod()},gl.prototype.getAccessToken=function(){return this.accessToken},gl.prototype.getRefreshToken=function(){return this.refreshToken},gl.prototype.isValidAccessToken=function(){return null!=this.accessToken&&0<this.remainToRefreshTime()},gl.prototype.remainToRefreshTime=function(){return this.validTime-(new Date).getTime()-this.TIME_EARLY},gl.prototype.fetchAccessToken=function(o){return cu(this,void 0,void 0,function(){var e,n,r=this;return uu(this,function(t){switch(t.label){case 0:return!o&&this.isValidAccessToken()?[2,Promise.resolve(new gu(this.accessTokenValidPeriod.toLocaleString(),"0","0",this.accessToken))]:this.accessToken&&this.refreshToken?(e=new mu(this.refreshToken,1),n=new Iu,[4,Yu.post(e,n)]):[2,Promise.reject(new vu("Token is null.",vu.NULL_TOKEN))];case 1:return t.sent(),0!=n.getRet().getCode()?[2,Promise.reject(n.getRet())]:null==(n=n.accessToken)||n.getToken()==this.accessToken&&n.getValidPeriod()==this.accessTokenValidPeriod?[3,3]:(this.accessToken=n.getToken(),this.accessTokenValidPeriod=n.getValidPeriod(),this.validTime=(new Date).getTime()+1e3*this.accessTokenValidPeriod,[4,rf.getStoredUser().then(function(t){return t&&(t.tokenService.accessToken=r.accessToken,t.tokenService.accessTokenValidPeriod=r.accessTokenValidPeriod,t.tokenService.refreshToken=r.refreshToken,t.tokenService.validTime=r.validTime),rf.updateStoredUser(t)})]);case 2:t.sent(),t.label=3;case 3:return[2,Promise.resolve(new gu(this.accessTokenValidPeriod.toLocaleString(),"0","0",this.accessToken))]}})})},gl),Xu=(au(dl,Ju=Lt),dl.prototype.getBody=function(){},dl.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId(),access_token:this.getAccessToken()}},dl.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},dl),Qu=(au(pl,qu=et),pl.prototype.constructResponse=function(t){this.displayName=t.data.displayName,this.photoUrl=t.data.photoUrl,this.emailVerified=t.data.emailVerified,this.passwordSetted=t.data.passwordSetted,this.email=t.data.email,this.phone=t.data.phone,this.userExtra=new Zu,this.userExtra.createTime=t.data.userMetaData.createTime,this.userExtra.lastSignInTime=t.data.userMetaData.lastSignInTime,this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code)},pl),Zu=(hl.prototype.getCreateTime=function(){return this.createTime},hl.prototype.getLastSignInTime=function(){return this.lastSignInTime},hl),tf=(ll.prototype.getToken=function(){return this.token},ll.prototype.getExpirePeriod=function(){return this.expirePeriod},ll),ef=(fl.prototype.constructFromJson=function(t){this.anonymous=t.anonymous,this.uid=t.uid,this.displayName=t.displayName,this.photoUrl=t.photoUrl,this.email=t.email,this.phone=t.phone,this.providerId=t.providerId,this.emailVerified=t.emailVerified,this.passwordSetted=t.passwordSetted,this.providerService.providerInfo=t.providerService.providerInfo,this.tokenService.accessToken=t.tokenService.accessToken,this.tokenService.accessTokenValidPeriod=t.tokenService.accessTokenValidPeriod,this.tokenService.refreshToken=t.tokenService.refreshToken,this.tokenService.validTime=t.tokenService.validTime},fl.prototype.isAnonymous=function(){return this.anonymous},fl.prototype.getUid=function(){return this.uid},fl.prototype.getEmail=function(){return this.email},fl.prototype.getPhone=function(){return this.phone},fl.prototype.getDisplayName=function(){return this.displayName},fl.prototype.getPhotoUrl=function(){return this.photoUrl},fl.prototype.getProviderId=function(){return this.providerId},fl.prototype.getProviderInfo=function(){return this.providerService.getProviderInfo()},fl.prototype.getUserExtra=function(){return cu(this,void 0,void 0,function(){var e,n,r,o;return uu(this,function(t){switch(t.label){case 0:return r=new mf,e=null,n="",[4,r.getCurrentUser().then(function(t){n=t.getAccessToken()})];case 1:return t.sent(),""==n?[3,3]:(r=new Xu,o=new Qu,r.setAccessToken(n),[4,Yu.get(r,o).then(function(t){console.log("getUserExtra success.")}).catch(function(t){console.log("getUserExtra fail."+t)})]);case 2:if(t.sent(),0!=o.getRet().getCode())return[2,Promise.reject(o.getRet())];this.displayName=o.displayName,this.photoUrl=o.photoUrl,this.emailVerified=o.emailVerified,this.passwordSetted=o.passwordSetted,this.email=o.email,this.phone=o.phone,this.displayName=o.displayName,e=o.userExtra,rf.updateStoredUser(this),t.label=3;case 3:return[2,Promise.resolve(e)]}})})},fl.prototype.getAccessToken=function(){return this.tokenService.getAccessToken()},fl.prototype.getRefreshToken=function(){return this.tokenService.getRefreshToken()},fl.prototype.buildUser=function(t){this.anonymous=!1,this.displayName=t.getUserInfo().getDisplayName(),this.email=t.getUserInfo().getEmail(),this.emailVerified=t.getUserInfo().getEmailVerified(),this.passwordSetted=t.getUserInfo().getPasswordSetted(),this.phone=t.getUserInfo().getPhone(),this.photoUrl=t.getUserInfo().getPhotoUrl(),this.providerId=t.getUserInfo().getProvider().toString(),this.uid=t.getUserInfo().getUid(),this.tokenService.constructeSecureTokenService(t.getAccessToken(),t.getRefreshToken())},fl.prototype.getToken=function(t){return this.tokenService.fetchAccessToken(t).then(function(t){return Promise.resolve(new tf(t.tokenString,parseInt(t.expiration)))}).catch(function(t){return Promise.reject(t)})},fl),nf=(ul.getInstance=function(){return ul.instance||(ul.instance=new ul),ul.instance},ul.prototype.getStorage=function(){var t=p.instance().getService("AGCStorageService");if(null!=t)return t.getStorage(mf.getUserInfoPersistence());console.log("Get AGC stroage Service failed.")},ul),rf=(cl.constructUserKey=function(){if(null==cl.USER_KEY){var t=void 0;try{t=p.instance().config()}catch(t){return void console.log(t)}cl.USER_KEY="agcCurrentUser:"+t.client.client_id}},cl.loadStoredUser=function(){return cu(this,void 0,void 0,function(){var e;return uu(this,function(t){switch(t.label){case 0:return cl.constructUserKey(),null==(e=nf.getInstance().getStorage())?[2,Promise.reject("get agcStorage failed.")]:[4,e.get(cl.USER_KEY).then(function(t){null!=t&&null!=t&&(cl.INSTANCE.user=new ef,cl.INSTANCE.user.constructFromJson(JSON.parse(t)))}).catch(function(t){console.log("----loadStoredUser error ",t)})];case 1:return t.sent(),[2,Promise.resolve()]}})})},cl.getStoredUser=function(){return cu(this,void 0,void 0,function(){return uu(this,function(t){switch(t.label){case 0:return null!=cl.INSTANCE.user?[3,2]:[4,this.loadStoredUser().then(function(t){})];case 1:t.sent(),t.label=2;case 2:return[2,Promise.resolve(cl.INSTANCE.user)]}})})},cl.updateStoredUser=function(e){return cu(this,void 0,void 0,function(){return uu(this,function(t){switch(t.label){case 0:return cl.INSTANCE.user=e,[4,cl.saveCurrentUser()];case 1:return t.sent(),[2]}})})},cl.saveCurrentUser=function(){return cu(this,void 0,void 0,function(){var e;return uu(this,function(t){switch(t.label){case 0:return cl.constructUserKey(),null==(e=nf.getInstance().getStorage())?[2]:null!=cl.INSTANCE.user?[3,2]:[4,e.remove(cl.USER_KEY)];case 1:return t.sent(),[3,4];case 2:return[4,e.set(cl.USER_KEY,JSON.stringify(cl.INSTANCE.user))];case 3:t.sent(),t.label=4;case 4:return[2]}})})},cl.INSTANCE=new cl,cl),of=(au(al,Ku=yu),al.prototype.getBody=function(){return{provider:0,token:this.token,extraData:"",useJwt:this.useJwt}},al.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId()}},al.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},al),sf=(au(sl,Wu=et),sl.prototype.constructResponse=function(t){this.uid=t.data.uid,this.accessToken.setToken(t.data.accessToken.token),this.accessToken.setValidPeriod(t.data.accessToken.validPeriod),this.refreshToken.setToken(t.data.refreshToken.token),this.refreshToken.setValidPeriod(t.data.refreshToken.validPeriod),this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code)},sl.prototype.getUid=function(){return this.uid},sl.prototype.getAccessToken=function(){return this.accessToken},sl.prototype.getRefreshToken=function(){return this.refreshToken},sl),af=(il.prototype.getUser=function(){return this.user},il),cf=(au(ol,Gu=Lt),ol.prototype.getBody=function(){return{refreshToken:this.refreshToken,accessToken:this.bodyAccessToken}},ol.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId(),app_id:this.getHeaderAppId()}},ol.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},ol),uf=(au(rl,Bu=et),rl),ff=(au(nl,Hu=Lt),nl.prototype.getBody=function(){return""},nl.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),app_id:this.getHeaderAppId(),access_token:this.getAccessToken(),client_id:this.getHeaderClientId()}},nl.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},nl),lf=(au(el,$u=yu),el.prototype.getUseJwt=function(){return this.useJwt},el.prototype.setUseJwt=function(t){this.useJwt=t},el.prototype.getProvider=function(){return this.provider},el.prototype.setProvider=function(t){this.provider=t},el.prototype.getPhone=function(){return this.phone},el.prototype.setPhone=function(t){this.phone=t},el.prototype.getEmail=function(){return this.email},el.prototype.setEmail=function(t){this.email=t},el.prototype.getVerifyCode=function(){return this.verifyCode},el.prototype.setVerifyCode=function(t){this.verifyCode=t},el.prototype.getPassword=function(){return this.password},el.prototype.setPassword=function(t){this.password=t},el.prototype.getBody=function(){return{phone:this.phone,provider:this.provider,email:this.email,password:this.password,verifyCode:this.verifyCode,useJwt:this.useJwt}},el.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId()}},el.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},el),hf=(tl.prototype.getUid=function(){return this.uid},tl.prototype.setUid=function(t){this.uid=t},tl.prototype.getDisplayName=function(){return this.displayName},tl.prototype.setDisplayName=function(t){this.displayName=t},tl.prototype.getPhotoUrl=function(){return this.photoUrl},tl.prototype.setPhotoUrl=function(t){this.photoUrl=t},tl.prototype.getPhone=function(){return this.phone},tl.prototype.setPhone=function(t){this.phone=t},tl.prototype.getEmail=function(){return this.email},tl.prototype.setEmail=function(t){this.email=t},tl.prototype.getProvider=function(){return this.provider},tl.prototype.setProvider=function(t){this.provider=t},tl.prototype.getOpenId=function(){return this.openId},tl.prototype.setOpenId=function(t){this.openId=t},tl.prototype.getEmailVerified=function(){return this.emailVerified},tl.prototype.setEmailVerified=function(t){this.emailVerified=t},tl.prototype.getPasswordSetted=function(){return this.passwordSetted},tl.prototype.setPasswordSetted=function(t){this.passwordSetted=t},tl),pf=(au(Zf,Vu=et),Zf.prototype.constructResponse=function(t){this.accessToken.setToken(t.data.accessToken.token),this.accessToken.setValidPeriod(t.data.accessToken.validPeriod),this.refreshToken.setToken(t.data.refreshToken.token),this.refreshToken.setValidPeriod(t.data.refreshToken.validPeriod),this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code),this.userInfo.setUid(t.data.userInfo.uid),this.userInfo.setEmail(t.data.userInfo.email),this.userInfo.setPhone(t.data.userInfo.phone),this.userInfo.setProvider(t.data.userInfo.provider),this.userInfo.setEmailVerified(t.data.userInfo.emailVerified),this.userInfo.setPasswordSetted(t.data.userInfo.passwordSetted),this.userInfo.setDisplayName(t.data.userInfo.displayName),this.userInfo.setOpenId(t.data.userInfo.openId),this.userInfo.setPhotoUrl(t.data.userInfo.phoneUrl)},Zf.prototype.getAccessToken=function(){return this.accessToken},Zf.prototype.setAccessToken=function(t){this.accessToken=t},Zf.prototype.getRefreshToken=function(){return this.refreshToken},Zf.prototype.setRefreshToken=function(t){this.refreshToken=t},Zf.prototype.getUserInfo=function(){return this.userInfo},Zf.prototype.getProviders=function(){return this.providers},Zf),df=(au(Qf,Fu=yu),Qf.prototype.getUseJwt=function(){return this.useJwt},Qf.prototype.setUseJwt=function(t){this.useJwt=t},Qf.prototype.getProvider=function(){return this.provider},Qf.prototype.getToken=function(){return this.token},Qf.prototype.getExtraData=function(){return this.extraData},Qf.prototype.setExtraData=function(t){this.extraData=t},Qf.prototype.isAutoCreateUser=function(){return this.autoCreateUser},Qf.prototype.setAutoCreateUser=function(t){this.autoCreateUser=t},Qf.prototype.setProvider=function(t){this.provider=t},Qf.prototype.setToken=function(t){this.token=t},Qf.prototype.getBody=function(){return{provider:this.provider,token:this.token,extraData:this.extraData,autoCreateUser:this.autoCreateUser,useJwt:this.useJwt}},Qf.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId()}},Qf.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},Qf),gf=(Xf.prototype.getProvider=function(){return-1},Xf),vf=(zf.prototype.getProvider=function(){return-1},zf),yf=(au(Yf,ju=et),Yf.prototype.constructResponse=function(t){this.accessToken.setToken(t.data.accessToken.token),this.accessToken.setValidPeriod(t.data.accessToken.validPeriod),this.refreshToken.setToken(t.data.refreshToken.token),this.refreshToken.setValidPeriod(t.data.refreshToken.validPeriod),this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code),this.userInfo.setUid(t.data.userInfo.uid),this.userInfo.setEmail(t.data.userInfo.email),this.userInfo.setPhone(t.data.userInfo.phone),this.userInfo.setProvider(t.data.userInfo.provider),this.userInfo.setEmailVerified(t.data.userInfo.emailVerified),this.userInfo.setPasswordSetted(t.data.userInfo.passwordSetted),this.userInfo.setDisplayName(t.data.userInfo.displayName),this.userInfo.setOpenId(t.data.userInfo.openId),this.userInfo.setPhotoUrl(t.data.userInfo.phoneUrl)},Yf.prototype.getAccessToken=function(){return this.accessToken},Yf.prototype.getRefreshToken=function(){return this.refreshToken},Yf.prototype.getUserInfo=function(){return this.userInfo},Yf.prototype.getProviders=function(){return this.providers},Yf),mf=(Jf.prototype.createEmailUser=function(o){return cu(this,void 0,void 0,function(){var e,n,r;return uu(this,function(t){switch(t.label){case 0:return[4,this.getCurrentUser()];case 1:return null==(e=t.sent())||e.isAnonymous()?null==o||null==o?[2,Promise.reject(new Su(vu.INVALID_EMAIL,"emailUser undefined"))]:0!=(e=o.verifyEmailUser(!1))?[2,Promise.reject(new Su(e,vu.getMsgByCode(e)))]:((r=new lf(o.email,"",o.password,o.verifyCode,1)).setProvider(12),n=new pf,[4,Yu.post(r,n)]):[2,Promise.reject(new Su(vu.ALREADY_SIGN_IN_USER,"already sign in a user"))];case 2:return t.sent(),0!=n.getRet().getCode()?[2,Promise.reject(n.getRet())]:((r=new ef).buildUser(n),rf.updateStoredUser(r),[2,Promise.resolve(new af(r))])}})})},Jf.prototype.createPhoneUser=function(o){return cu(this,void 0,void 0,function(){var e,n,r;return uu(this,function(t){switch(t.label){case 0:return[4,this.getCurrentUser()];case 1:return null==(e=t.sent())||e.isAnonymous()?null==o?[2,Promise.reject(new Su(vu.INVALID_PHONE,"phoneUser undefined"))]:0!=(e=o.verifyPhoneUser(!1))?[2,Promise.reject(new Su(e,vu.getMsgByCode(e)))]:((r=new lf("",o.getPhone(),o.password,o.verifyCode,1)).setProvider(11),n=new pf,[4,Yu.post(r,n)]):[2,Promise.reject(new Su(vu.ALREADY_SIGN_IN_USER,"already sign in a user"))];case 2:return t.sent(),0!=n.getRet().getCode()?[2,Promise.reject(n.getRet())]:((r=new ef).buildUser(n),rf.updateStoredUser(r),[2,Promise.resolve(new af(r))])}})})},Jf.prototype.signIn=function(o){return cu(this,void 0,void 0,function(){var e,r=this;return uu(this,function(t){switch(t.label){case 0:if(null==o)throw new Error("credential null");return[4,this.getCurrentUser()];case 1:return null==(e=t.sent())||e.isAnonymous()?[2,new Promise(function(e,n){r.getUserWithCredential(o).then(function(t){e(t)}).catch(function(t){n(t)})})]:[2,Promise.reject(new Su(vu.ALREADY_SIGN_IN_USER,"already sign in a user"))]}})})},Jf.prototype.getUserWithCredential=function(r){return cu(this,void 0,void 0,function(){var e,n;return uu(this,function(t){switch(t.label){case 0:if(n=new df,r instanceof gf)r.prepareUserAuthRequest(n),n.setAutoCreateUser(r.autoCreateUser?1:0);else{if(!(r instanceof vf))throw new Error("credential type error");r.prepareUserAuthRequest(n)}return n.setUseJwt(1),e=new yf,[4,Yu.post(n,e)];case 1:return t.sent(),0!=e.getRet().getCode()?[2,Promise.reject(e.getRet())]:((n=new ef).buildUser(e),rf.updateStoredUser(n),[2,Promise.resolve(new af(n))])}})})},Jf.prototype.deleteUser=function(){return cu(this,void 0,void 0,function(){return uu(this,function(t){switch(t.label){case 0:return[4,this.getCurrentUser().then(function(i){return cu(this,void 0,void 0,function(){var e,n,r,o=this;return uu(this,function(t){switch(t.label){case 0:return null==i?[3,2]:(e=i,n=new ff,r=new uf,n.setAccessToken(e.getAccessToken()),[4,Yu.post(n,r).then(function(t){return cu(o,void 0,void 0,function(){return uu(this,function(t){switch(t.label){case 0:return console.log("deleteUser success."),[4,rf.updateStoredUser(null)];case 1:return t.sent(),[2]}})})}).catch(function(t){console.log("deleteUser fail.",t.response)})]);case 1:t.sent(),t.label=2;case 2:return[2]}})})})];case 1:return t.sent(),[2,Promise.resolve()]}})})},Jf.prototype.signOut=function(){return cu(this,void 0,void 0,function(){return uu(this,function(t){switch(t.label){case 0:return[4,this.getCurrentUser().then(function(r){return cu(this,void 0,void 0,function(){var e,n;return uu(this,function(t){switch(t.label){case 0:return null==r?[3,3]:(e=new cf((n=r).getAccessToken(),n.getRefreshToken()),n=new uf,[4,Yu.post(e,n).then(function(t){console.log("signOut success.")}).catch(function(t){console.log("signOut fail."+t)})]);case 1:return t.sent(),[4,rf.updateStoredUser(null)];case 2:t.sent(),t.label=3;case 3:return[2]}})})})];case 1:return t.sent(),[2,Promise.resolve()]}})})},Jf.prototype.getCurrentUser=function(){return rf.getStoredUser()},Jf.prototype.signInAnonymously=function(){var e=this;return this.getCurrentUser().then(function(t){if(null==t)return e.getUserWithAnonymously();if(t.isAnonymous()){t=new af(t);return Promise.resolve(t)}return Promise.reject(new Su(vu.ALREADY_SIGN_IN_USER,"already sign in a user"))}).catch(function(t){return Promise.reject(t)})},Jf.prototype.getUserWithAnonymously=function(){return cu(this,void 0,void 0,function(){var e,n,r,o;return uu(this,function(t){switch(t.label){case 0:return null==(n=p.instance().getService("ClientInfoService"))?[2,Promise.reject("Get clientInfoUtil service failed.")]:(e="",[4,n.getAaid().then(function(t){e=t})]);case 1:return t.sent(),e?(n=new of(0,e,"",1),r=new sf,[4,Yu.post(n,r)]):[2,Promise.reject("The aaid is null.")];case 2:return t.sent(),0!=r.getRet().getCode()?[2,Promise.reject(r.getRet())]:((o=new ef).uid=r.getUid(),o.providerId=0..toString(),o.tokenService.constructeSecureTokenService(r.getAccessToken(),r.getRefreshToken()),o.anonymous=!0,[4,rf.updateStoredUser(o)]);case 3:return t.sent(),[2,Promise.resolve(new af(o))]}})})},Jf.prototype.setUserInfoPersistence=function(t){Jf.persistence=t},Jf.getUserInfoPersistence=function(){return Jf.persistence},Jf.prototype.setCryptImp=function(t){if(!t.decrypt||!t.encrypt)return console.log("the crypt is not exist necessary methods."),!1;var e=nf.getInstance().getStorage();return null==e||null==e?(console.log("Get AGC storage Service failed."),!1):(e.setCryptImp(t),!0)},Jf.persistence=2,Jf),Sf=(qf.combinatePhone=function(t,e){return null==t||t.startsWith("+")||(t="+"+t),t+"-"+e},qf),fi=(Kf.prototype.getPhone=function(){return Sf.combinatePhone(this.countryCode,this.phoneNumber)},Kf.prototype.verifyPhoneUser=function(t){return""==this.phoneNumber?vu.INVALID_EMAIL:""==this.password&&t?vu.PASSWORD_IS_EMPTY:""==this.verifyCode?vu.EMAIL_VERIFICATION_IS_EMPTY:0},Kf),fe=(Wf.prototype.verifyEmailUser=function(t){return""==this.email?vu.INVALID_EMAIL:""==this.password&&t?vu.PASSWORD_IS_EMPTY:""==this.verifyCode?vu.EMAIL_VERIFICATION_IS_EMPTY:0},Wf),Ef=(au(Gf,Du=vf),Gf.prototype.getProvider=function(){return 12},Gf.prototype.prepareUserAuthRequest=function(t){t.setProvider(12),t.setToken(this.email),t.setExtraData(this.generateExtraData())},Gf.prototype.prepareUserLinkRequest=function(t){t.setProvider(12),t.setToken(this.email),t.setExtraData(this.generateExtraData()),t.setUseJwt(1)},Gf.prototype.generateExtraData=function(){return JSON.stringify({password:this.password,verifyCode:this.verifyCode})},Gf),If=(Bf.prototype.getAction=function(){return this.action},Bf.prototype.getLang=function(){return this.lang},Bf.prototype.getSendInterval=function(){return this.sendInterval},Bf.prototype.setAction=function(t){this.action=t},Bf.prototype.setLang=function(t){this.lang=t},Bf.prototype.setSendInterval=function(t){this.sendInterval=t},Bf),wf=(Hf.prototype.getShortestInterval=function(){return this.shortestInterval},Hf.prototype.getValidityPeriod=function(){return this.validityPeriod},Hf),_f=(au($f,Lu=yu),$f.prototype.getPhone=function(){return this.phone},$f.prototype.setPhone=function(t){this.phone=t},$f.prototype.getEmail=function(){return this.email},$f.prototype.setEmail=function(t){this.email=t},$f.prototype.getAction=function(){return this.action},$f.prototype.setAction=function(t){this.action=t},$f.prototype.getLang=function(){return this.lang},$f.prototype.setLang=function(t){this.lang=t},$f.prototype.getSendInterval=function(){return this.sendInterval},$f.prototype.setSendInterval=function(t){this.sendInterval=t},$f.prototype.getBody=function(){return{phone:this.phone,email:this.email,lang:this.lang,action:this.action,sendInterval:this.sendInterval}},$f.prototype.getHeader=function(){return{sdkVersion:this.getSdkVersion(),sdkPlatform:this.getSdkPlatform(),client_id:this.getHeaderClientId()}},$f.prototype.getUrl=function(){return this.getAgcgwUrl()+this.URL+"?productId="+this.getHeaderProductId()},$f),Tf=(au(Vf,Mu=et),Vf.prototype.constructResponse=function(t){this.shortestInterval=t.data.shortestInterval,this.validityPeriod=t.data.validityPeriod,this.ret.setMsg(t.data.ret.msg),this.ret.setCode(t.data.ret.code)},Vf.prototype.getShortestInterval=function(){return this.shortestInterval},Vf.prototype.setShortestInterval=function(t){this.shortestInterval=t},Vf.prototype.getValidityPeriod=function(){return this.validityPeriod},Vf.prototype.setValidityPeriod=function(t){this.validityPeriod=t},Vf),Pf=(Ff.requestEmailVerifyCode=function(t,e){e=this.buildRequest(t,"",e);return this.requestVerifyCode(e)},Ff.requestPhoneVerifyCode=function(t,e,n){e=Sf.combinatePhone(t,e),n=this.buildRequest("",e,n);return this.requestVerifyCode(n)},Ff.requestVerifyCode=function(n){return cu(this,void 0,void 0,function(){var e;return uu(this,function(t){switch(t.label){case 0:return e=new Tf,[4,Yu.post(n,e)];case 1:return t.sent(),0!=e.getRet().getCode()?[2,Promise.reject(e.getRet())]:[2,Promise.resolve(new wf(e.getShortestInterval(),e.getValidityPeriod()))]}})})},Ff.buildRequest=function(t,e,n){if(null==n)throw new Error("invalid verifyCodeSettings.");var r=new _f;return r.setEmail(t),r.setPhone(e),r.setAction(n.getAction()),r.setLang(n.getLang()),r.setSendInterval(n.getSendInterval()),r},Ff),ft=(jf.credentialWithPassword=function(t,e){return new Ef(t,e,"")},jf.credentialWithVerifyCode=function(t,e,n){return new Ef(t,e,n)},jf.requestVerifyCode=function(t,e,n,r){return Pf.requestEmailVerifyCode(t,new If(e,n,r))},jf),Af=(au(Df,Uu=vf),Df.prototype.getProvider=function(){return 11},Df.prototype.prepareUserAuthRequest=function(t){t.setProvider(11),t.setToken(this.getPhone()),t.setExtraData(this.generateExtraData())},Df.prototype.prepareUserLinkRequest=function(t){t.setProvider(11),t.setToken(this.getPhone()),t.setExtraData(this.generateExtraData()),t.setUseJwt(1)},Df.prototype.generateExtraData=function(){return JSON.stringify({password:this.password,verifyCode:this.verifyCode})},Df.prototype.getPhone=function(){return Sf.combinatePhone(this.countryCode,this.phoneNumber)},Df),Ct=(Lf.credentialWithPassword=function(t,e,n){return new Af(t,e,n,"")},Lf.credentialWithVerifyCode=function(t,e,n,r){return new Af(t,e,n,r)},Lf.requestVerifyCode=function(t,e,n,r,o){return Pf.requestPhoneVerifyCode(t,e,new If(n,r,o))},Lf),bf=(au(Mf,xu=gf),Mf.prototype.getProvider=function(){return 4},Mf.prototype.prepareUserAuthRequest=function(t){t.setProvider(4),t.setToken(this.token),t.setExtraData(this.openId)},Mf.prototype.prepareUserLinkRequest=function(t){t.setProvider(4),t.setToken(this.token),t.setExtraData(this.openId),t.setUseJwt(1)},Mf),Dt=(Uf.credentialWithToken=function(t,e,n){return void 0===n&&(n=!0),new bf(t,e,n)},Uf),kf=(au(xf,Nu=gf),xf.prototype.getProvider=function(){return 6},xf.prototype.prepareUserAuthRequest=function(t){t.setProvider(6),t.setToken(this.token),t.setExtraData(this.openId)},xf.prototype.prepareUserLinkRequest=function(t){t.setProvider(6),t.setToken(this.token),t.setExtraData(this.openId),t.setUseJwt(1)},xf),zo=(Nf.credentialWithToken=function(t,e,n){return void 0===n&&(n=!0),new kf(t,e,n)},Nf),Rf=(Of.prototype.getToken=function(o){return cu(this,void 0,void 0,function(){var n,r;return uu(this,function(t){switch(t.label){case 0:return p.instance().getCustomAuthProvider()?[4,p.instance().getCustomAuthProvider().getToken(o)]:[3,2];case 1:return(n=t.sent())&&n.tokenString&&n.expiration?isNaN(Number(n.expiration))||Number(n.expiration)<=0?(console.log("the customAuthProvider getToken must return valid expiration."),[2,Promise.reject("the customAuthProvider getToken must return valid expiration.")]):(e.prototype.getExpirePeriod=function(){return Number(n.expiration)},e.prototype.getToken=function(){return n.tokenString},r=new e,[2,Promise.resolve(r)]):(console.log("the customAuthProvider getToken method must contain return value: tokenString, expiration."),[2,Promise.reject("the customAuthProvider getToken method must contain return value: tokenString, expiration.")]);case 2:return[4,rf.getStoredUser()];case 3:return(r=t.sent())?[2,r.getToken(o)]:[2,Promise.resolve(null)]}function e(){}})})},Of),Cf=new c(function(){return new mf});function Of(){}function Nf(){}function xf(t,e,n){void 0===n&&(n=!0);var r=Nu.call(this)||this;return r.token=t,r.openId=e,r.autoCreateUser=n,r}function Uf(){}function Mf(t,e,n){var r=xu.call(this)||this;return r.token=t,r.openId=e,r.autoCreateUser=n,r}function Lf(){}function Df(t,e,n,r){var o=Uu.call(this)||this;return o.countryCode=t,o.phoneNumber=e,o.password=n,o.verifyCode=r,o}function jf(){}function Ff(){}function Vf(){var t=null!==Mu&&Mu.apply(this,arguments)||this;return t.shortestInterval="",t.validityPeriod="",t}function $f(){var t=null!==Lu&&Lu.apply(this,arguments)||this;return t.URL=yu.SERVER_URL+"/verify-code",t.phone="",t.email="",t.action=-1,t.lang="",t.sendInterval=-1,t}function Hf(t,e){this.shortestInterval=t,this.validityPeriod=e}function Bf(t,e,n){this.action=t,this.lang=e,this.sendInterval=n}function Gf(t,e,n){var r=Du.call(this)||this;return r.email=t,r.password=e,r.verifyCode=n,r}function Wf(t,e,n){this.email="",this.password="",this.verifyCode="",this.email=t,this.password=e,this.verifyCode=n}function Kf(t,e,n,r){this.countryCode="",this.phoneNumber="",this.password="",this.verifyCode="",this.countryCode=t,this.phoneNumber=e,this.password=n,this.verifyCode=r}function qf(){}function Jf(){}function Yf(){var t=null!==ju&&ju.apply(this,arguments)||this;return t.accessToken=new Eu,t.refreshToken=new Eu,t.userInfo=new hf,t.providers=[],t}function zf(){this.password="",this.verifyCode=""}function Xf(){this.autoCreateUser=!0}function Qf(){var t=null!==Fu&&Fu.apply(this,arguments)||this;return t.URL=yu.SERVER_URL+"/user-signin",t.provider=-1,t.token="",t.extraData="",t.autoCreateUser=-1,t.useJwt=0,t.verifyCode="",t}function Zf(){var t=null!==Vu&&Vu.apply(this,arguments)||this;return t.accessToken=new Eu,t.refreshToken=new Eu,t.userInfo=new hf,t.providers=[],t}function tl(){this.uid="",this.displayName="",this.photoUrl="",this.phone="",this.email="",this.provider=-1,this.openId="",this.emailVerified=-1,this.passwordSetted=-1}function el(t,e,n,r,o){var i=$u.call(this)||this;return i.URL=yu.SERVER_URL+"/user-register",i.provider=-1,i.useJwt=0,i.email=t,i.phone=e,i.password=n,i.verifyCode=r,i.useJwt=o,i}function nl(){var t=null!==Hu&&Hu.apply(this,arguments)||this;return t.URL=yu.SERVER_URL+"/user-delete",t}function rl(){return null!==Bu&&Bu.apply(this,arguments)||this}function ol(t,e){var n=Gu.call(this)||this;return n.URL=yu.SERVER_URL+"/user-signout",n.bodyAccessToken=t,n.refreshToken=e,n}function il(t){this.user=t}function sl(){var t=Wu.call(this)||this;return t.accessToken=new Eu,t.refreshToken=new Eu,t.uid="",t}function al(t,e,n,r){var o=Ku.call(this)||this;return o.URL=yu.SERVER_URL+"/user-signin-anonymous",o.useJwt=0,o.provider=t,o.token=e,o.extraData=n,o.useJwt=r,o}function cl(){this.user=null}function ul(){}function fl(){this.anonymous=!1,this.uid="",this.displayName="",this.photoUrl="",this.email="",this.phone="",this.providerId="",this.emailVerified=-1,this.passwordSetted=-1,this.providerService=new du,this.tokenService=new zu}function ll(t,e){this.token=t,this.expirePeriod=e}function hl(){this.createTime="",this.lastSignInTime=""}function pl(){var t=qu.call(this)||this;return t.displayName="",t.photoUrl="",t.emailVerified=0,t.passwordSetted=0,t.email="",t.phone="",t.userExtra=null,t}function dl(){var t=null!==Ju&&Ju.apply(this,arguments)||this;return t.URL=yu.SERVER_URL+"/user-profile",t}function gl(){this.accessToken="",this.accessTokenValidPeriod=-1,this.refreshToken="",this.validTime=-1,this.TIME_EARLY=3e5}function vl(){}(zl=Rp=Rp||{})[zl.persistenceStorage=0]="persistenceStorage",zl[zl.temporaryStorage=1]="temporaryStorage",zl[zl.memoryStorage=2]="memoryStorage",(ue=Op=Op||{})[ue.ACTION_REGISTER_LOGIN=1001]="ACTION_REGISTER_LOGIN",ue[ue.ACTION_RESET_PASSWORD=1002]="ACTION_RESET_PASSWORD",Lt={PhoneUser:fi,EmailUser:fe,EmailAuthProvider:ft,PhoneAuthProvider:Ct,WeixinAuthProvider:Dt,QQAuthProvider:zo,Persistence:Rp,Action:Op},(et=p).registerApiProvider("auth",function(){return Cf.get()},Lt),et.registerInternalService({name:"AuthProviderService",serviceFactory:function(t){return new Rf}});var yl={CREATEPAYMENTINFO:"$CreatePaymentInfo",ADDPRODUCT2CART:"$AddProduct2Cart",ADDPRODUCT2WISHLIST:"$AddProduct2WishList",STARTAPP:"$StartApp",STARTCHECKOUT:"$StartCheckout",VIEWCAMPAIGN:"$ViewCampaign",VIEWCHECKOUTSTEP:"$ViewCheckoutStep",WINVIRTUALCOIN:"$WinVirtualCoin",COMPLETEPURCHASE:"$CompletePurchase",OBTAINLEADS:"$ObtainLeads",JOINUSERGROUP:"$JoinUserGroup",COMPLETELEVEL:"$CompleteLevel",STARTLEVEL:"$StartLevel",UPGRADELEVEL:"$UpgradeLevel",SIGNIN:"$SignIn",SUBMITSCORE:"$SubmitScore",CREATEORDER:"$CreateOrder",REFUNDORDER:"$RefundOrder",DELPRODUCTFROMCART:"$DelProductFromCart",SEARCH:"$Search",VIEWCONTENT:"$ViewContent",UPDATECHECKOUTOPTION:"$UpdateCheckoutOption",SHARECONTENT:"$ShareContent",REGISTERACCOUNT:"$RegisterAccount",CONSUMEVIRTUALCOIN:"$ConsumeVirtualCoin",STARTTUTORIAL:"$StartTutorial",COMPLETETUTORIAL:"$CompleteTutorial",OBTAINACHIEVEMENT:"$ObtainAchievement",VIEWPRODUCT:"$ViewProduct",VIEWPRODUCTLIST:"$ViewProductList",VIEWSEARCHRESULT:"$ViewSearchResult",UPDATEMEMBERSHIPLEVEL:"$UpdateMembershipLevel",FILTRATEPRODUCT:"$FiltrateProduct",VIEWCATEGORY:"$ViewCategory",UPDATEORDER:"$UpdateOrder",CANCELORDER:"$CancelOrder",COMPLETEORDER:"$CompleteOrder",CANCELCHECKOUT:"$CancelCheckout",OBTAINVOUCHER:"$ObtainVoucher",CONTACTCUSTOMSERVICE:"$ContactCustomService",DISPLAYINAPPMESSAGE:"$DisplayInAppMessage",DISMISSINAPPMESSAGE:"$DismissInAppMessage",CLICKINAPPMESSAGE:"$ClickInAppMessage"},ml={FIRST_OPEN:"$AppFirstOpen",ENTER_SCREEN:"$EnterScreen",EXIT_SCREEN:"$ExitScreen",HA_NOTIFICATION_DISPLAY:"$HA_NOTIFICATION_DISPLAY",DisplayNotificaiton:"$DisplayNotificaiton",HA_NOTIFICATION_CLICK:"$HA_NOTIFICATION_CLICK",ClickNotification:"$ClickNotification",HA_NOTIFICATION_CLEAR:"$HA_NOTIFICATION_CLEAR",ClearNotification:"$ClearNotification",HA_APP_INSTALL:"$HA_APP_INSTALL",InstallApp:"$InstallApp",HA_APP_START:"$HA_APP_START",LaunchApp:"$LaunchApp",HA_APP_UPDATE:"$HA_APP_UPDATE",UpdateApp:"$UpdateApp",HA_FIRST_OPEN:"$HA_FIRST_OPEN",AppFirstOpen:"$AppFirstOpen",HA_SCREEN_ENTER:"$HA_SCREEN_ENTER",EnterScreen:"$EnterScreen",HA_SCREEN_EXIT:"$HA_SCREEN_EXIT",ExitScreen:"$ExitScreen",HA_CLEAR_DATA:"$HA_CLEAR_DATA",ClearData:"$ClearData",HA_CLEAR_CACHE:"$HA_CLEAR_CACHE",ClearCache:"$ClearCache",HA_APP_UNINSTALL:"$HA_APP_UNINSTALL",UninstallApp:"$UninstallApp",InAppPurchase:"$InAppPurchase",RequestAd:"$RequestAd",DisplayAd:"$DisplayAd",ClickAd:"$ClickAd",ObtainAdAward:"$ObtainAdAward"},Sl={STORENAME:"$StoreName",BRAND:"$Brand",CATEGORY:"$Category",PRODUCTID:"$ProductId",PRODUCTNAME:"$ProductName",PRODUCTFEATURE:"$ProductFeature",PRICE:"$Price",QUANTITY:"$Quantity",REVENUE:"$Revenue",CURRNAME:"$CurrName",PLACEID:"$PlaceId",DESTINATION:"$Destination",ENDDATE:"$EndDate",BOOKINGDAYS:"$BookingDays",PASSENGERSNUMBER:"$PassengersNumber",BOOKINGROOMS:"$BookingRooms",ORIGINATINGPLACE:"$OriginatingPlace",BEGINDATE:"$BeginDate",TRANSACTIONID:"$TransactionId",CLASS:"$Class",CLICKID:"$ClickId",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",EXTENDPARAM:"$ExtendParam",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot",MEDIUM:"$Medium",SOURCE:"$Source",KEYWORDS:"$Keywords",OPTION:"$Option",STEP:"$Step",VIRTUALCURRNAME:"$VirtualCurrName",VOUCHER:"$Voucher",PLACE:"$Place",SHIPPING:"$Shipping",TAXFEE:"$TaxFee",USERGROUPID:"$UserGroupId",LEVELNAME:"$LevelName",RESULT:"$Result",ROLENAME:"$RoleName",LEVELID:"$LevelId",CHANNEL:"$Channel",SCORE:"$Score",SEARCHKEYWORDS:"$SearchKeywords",CONTENTTYPE:"$ContentType",ACHIEVEMENTID:"$AchievementId",FLIGHTNO:"$FlightNo",POSITIONID:"$PositionId",PRODUCTLIST:"$ProductList",ACOUNTTYPE:"$AcountType",OCCURREDTIME:"$OccurredTime",EVTRESULT:"$EvtResult",PREVLEVEL:"$PrevLevel",CURRVLEVEL:"$CurrvLevel",VOUCHERS:"$Vouchers",MATERIALSLOTTYPE:"$MaterialSlotType",LISTID:"$ListId",FILTERS:"$Filters",SORTS:"$Sorts",ORDERID:"$OrderId",PAYTYPE:"$PayType",REASON:"$Reason",EXPIREDATE:"$ExpireDate",VOUCHERTYPE:"$VoucherType",SERVICETYPE:"$ServiceType",DETAILS:"$Details",COMMENTTYPE:"$CommentType",REGISTMETHOD:"$RegistMethod",VIEWCATEGORY:"$ViewCategory",UPDATEORDER:"$UpdateOrder",CANCELORDER:"$CancelOrder",COMPLETEORDER:"$CompleteOrder",CANCELCHECKOUT:"$CancelCheckout",OBTAINVOUCHER:"$ObtainVoucher",CONTACTCUSTOMSERVICE:"$ContactCustomService",DISPLAYINAPPMESSAGE:"$DisplayInAppMessage",DISMISSINAPPMESSAGE:"$DismissInAppMessage",CLICKINAPPMESSAGE:"$ClickInAppMessage"};function El(t,e){return t(e={exports:{}},e.exports),e.exports}function Il(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Ol+Nl).toString(36))}function wl(t){return"object"==typeof t?null!==t:"function"==typeof t}function _l(t){if(!wl(t))throw TypeError(t+" is not an object!");return t}function Tl(t){try{return!!t()}catch(t){return!0}}function Pl(t){return Ll?Ml.createElement(t):{}}function Al(t,e){if(!wl(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!wl(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!wl(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!wl(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function bl(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}var kl=El(function(t){t=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),Rl=(kl.version,El(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),Cl=El(function(t){var n=Rl["__core-js_shared__"]||(Rl["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:kl.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),Ol=0,Nl=Math.random(),xl=El(function(t){var e=Cl("wks"),n=Rl.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Il)("Symbol."+t))}).store=e}),Ul=!Tl(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Ml=Rl.document,Ll=wl(Ml)&&wl(Ml.createElement),Dl=!Ul&&!Tl(function(){return 7!=Object.defineProperty(Pl("div"),"a",{get:function(){return 7}}).a}),jl=Object.defineProperty,Fl={f:Ul?Object.defineProperty:function(t,e,n){if(_l(t),e=Al(e,!0),_l(n),Dl)try{return jl(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Vl=Ul?function(t,e,n){return Fl.f(t,e,bl(1,n))}:function(t,e,n){return t[e]=n,t},$l=xl("unscopables"),Hl=Array.prototype;null==Hl[$l]&&Vl(Hl,$l,{});function Bl(t,e){return{value:e,done:!!t}}function Gl(t){return Ql.call(t).slice(8,-1)}function Wl(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}function Kl(t){return Zl(Wl(t))}function ql(t,e){return th.call(t,e)}function Jl(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}function Yl(r,o,t){if(Jl(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}var zl=function(t){Hl[$l][t]=!0},Xl={},Ql={}.toString,Zl=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Gl(t)?t.split(""):Object(t)},th={}.hasOwnProperty,eh=Cl("native-function-to-string",Function.toString),nh=El(function(t){var i=Il("src"),s=(""+eh).split("toString");kl.inspectSource=function(t){return eh.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(ql(n,"name")||Vl(n,"name",e)),t[e]!==n&&(o&&(ql(n,i)||Vl(n,i,t[e]?""+t[e]:s.join(String(e)))),t===Rl?t[e]=n:r?t[e]?t[e]=n:Vl(t,e,n):(delete t[e],Vl(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||eh.call(this)})}),rh=function(t,e,n){var r,o,i,s=t&rh.F,a=t&rh.G,c=t&rh.S,u=t&rh.P,f=t&rh.B,l=a?Rl:c?Rl[e]||(Rl[e]={}):(Rl[e]||{}).prototype,h=a?kl:kl[e]||(kl[e]={}),p=h.prototype||(h.prototype={});for(r in a&&(n=e),n)o=((i=!s&&l&&void 0!==l[r])?l:n)[r],i=f&&i?Yl(o,Rl):u&&"function"==typeof o?Yl(Function.call,o):o,l&&nh(l,r,o,t&rh.U),h[r]!=o&&Vl(h,r,i),u&&p[r]!=o&&(p[r]=o)};Rl.core=kl,rh.F=1,rh.G=2,rh.S=4,rh.P=8,rh.B=16,rh.W=32,rh.U=64,rh.R=128;function oh(t){return isNaN(t=+t)?0:(0<t?lh:fh)(t)}function ih(t){return 0<t?hh(oh(t),9007199254740991):0}function sh(t,e){var n,r=Kl(t),o=0,i=[];for(n in r)n!=yh&&ql(r,n)&&i.push(n);for(;e.length>o;)ql(r,n=e[o++])&&(~vh(i,n)||i.push(n));return i}function ah(){}function ch(t,e,n){t&&!ql(t=n?t:t.prototype,Ah)&&Ph(t,Ah,{configurable:!0,value:e})}var uh=rh,fh=Math.ceil,lh=Math.floor,hh=Math.min,ph=Math.max,dh=Math.min,ue=function(a){return function(t,e,n){var r,o=Kl(t),i=ih(o.length),s=(t=i,(n=oh(n=n))<0?ph(n+t,0):dh(n,t));if(a&&e!=e){for(;s<i;)if((r=o[s++])!=r)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}},gh=Cl("keys"),fi=function(t){return gh[t]||(gh[t]=Il(t))},vh=ue(!1),yh=fi("IE_PROTO"),mh="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Sh=Object.keys||function(t){return sh(t,mh)},Eh=Ul?Object.defineProperties:function(t,e){_l(t);for(var n,r=Sh(e),o=r.length,i=0;i<o;)Fl.f(t,n=r[i++],e[n]);return t},fe=Rl.document,Ih=fe&&fe.documentElement,wh=fi("IE_PROTO"),_h=function(){var t=Pl("iframe"),e=mh.length;for(t.style.display="none",Ih.appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),_h=t.F;e--;)delete _h.prototype[mh[e]];return _h()},Th=Object.create||function(t,e){var n;return null!==t?(ah.prototype=_l(t),n=new ah,ah.prototype=null,n[wh]=t):n=_h(),void 0===e?n:Eh(n,e)},Ph=Fl.f,Ah=xl("toStringTag"),bh={};Vl(bh,xl("iterator"),function(){return this});function kh(t){return Object(Wl(t))}function Rh(){return this}function Ch(t,e,n,r,o,i,s){function a(t){if(!Mh&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}}y=e,g=r,(v=n).prototype=Th(bh,{next:bl(1,g)}),ch(v,y+" Iterator");var c,u,f,l=e+" Iterator",h="values"==o,r=!1,p=t.prototype,d=p[Uh]||p["@@iterator"]||o&&p[o],g=d||a(o),v=o?h?a("entries"):g:void 0,y="Array"==e&&p.entries||d;if(y&&(f=xh(y.call(new t)))!==Object.prototype&&f.next&&(ch(f,l,!0),"function"!=typeof f[Uh]&&Vl(f,Uh,Rh)),h&&d&&"values"!==d.name&&(r=!0,g=function(){return d.call(this)}),!Mh&&!r&&p[Uh]||Vl(p,Uh,g),Xl[e]=g,Xl[l]=Rh,o)if(c={values:h?g:a("values"),keys:i?g:a("keys"),entries:v},s)for(u in c)u in p||nh(p,u,c[u]);else uh(uh.P+uh.F*(Mh||r),e,c);return c}var Oh=fi("IE_PROTO"),Nh=Object.prototype,xh=Object.getPrototypeOf||function(t){return t=kh(t),ql(t,Oh)?t[Oh]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Nh:null},Uh=xl("iterator"),Mh=!([].keys&&"next"in[].keys()),Lh=Ch(Array,"Array",function(t,e){this._t=Kl(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Bl(1)):Bl(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Xl.Arguments=Xl.Array,zl("keys"),zl("values"),zl("entries");for(var Dh=xl("iterator"),jh=xl("toStringTag"),Fh=Xl.Array,Vh={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},$h=Sh(Vh),Hh=0;Hh<$h.length;Hh++){var Bh,Gh=$h[Hh],Wh=Vh[Gh],Kh=Rl[Gh],qh=Kh&&Kh.prototype;if(qh&&(qh[Dh]||Vl(qh,Dh,Fh),qh[jh]||Vl(qh,jh,Gh),Xl[Gh]=Fh,Wh))for(Bh in Lh)qh[Bh]||nh(qh,Bh,Lh[Bh],!0)}function Jh(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Yh))?t:zh?Gl(e):"Object"==(t=Gl(e))&&"function"==typeof e.callee?"Arguments":t}var Yh=xl("toStringTag"),zh="Arguments"==Gl(function(){return arguments}()),ft={};ft[xl("toStringTag")]="z",ft+""!="[object z]"&&nh(Object.prototype,"toString",function(){return"[object "+Jh(this)+"]"},!0);var Ct=function(i){return function(t,e){var n,r=String(Wl(t)),o=oh(e),t=r.length;return o<0||t<=o?i?"":void 0:(e=r.charCodeAt(o))<55296||56319<e||o+1===t||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):e:i?r.slice(o,o+2):n-56320+(e-55296<<10)+65536}},Xh=Ct(!0);Ch(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(e=Xh(t,e),this._i+=e.length,{value:e,done:!1})});function Qh(t,e,n){for(var r in e)nh(t,r,e[r],n);return t}function Zh(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}function tp(t){t=Rl[t],Ul&&t&&!t[ap]&&Fl.f(t,ap,{configurable:!0,get:function(){return this}})}function ep(t,e){var n,r=fp(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n}var np=xl("iterator"),rp=Array.prototype,op=xl("iterator"),ip=kl.getIteratorMethod=function(t){if(null!=t)return t[op]||t["@@iterator"]||Xl[Jh(t)]},sp=El(function(t){var l={},h={},t=t.exports=function(t,e,n,r,o){var i,s,a,c,o=o?function(){return t}:ip(t),u=Yl(n,r,e?2:1),f=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(void 0===o||Xl.Array!==o&&rp[np]!==o){for(a=o.call(t);!(s=a.next()).done;)if((c=function(t,e,n,r){try{return r?e(_l(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&_l(o.call(t)),e}}(a,u,s.value,e))===l||c===h)return c}else for(i=ih(t.length);f<i;f++)if((c=e?u(_l(s=t[f])[0],s[1]):u(t[f]))===l||c===h)return c};t.BREAK=l,t.RETURN=h}),ap=xl("species"),Dt=El(function(t){function n(t){e(t,r,{value:{i:"O"+ ++o,w:{}}})}var r=Il("meta"),e=Fl.f,o=0,i=Object.isExtensible||function(){return!0},s=!Tl(function(){return i(Object.preventExtensions({}))}),a=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!wl(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ql(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].i},getWeak:function(t,e){if(!ql(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].w},onFreeze:function(t){return s&&a.NEED&&i(t)&&!ql(t,r)&&n(t),t}}}),cp=(Dt.KEY,Dt.NEED,Dt.fastKey,Dt.getWeak,Dt.onFreeze,function(t,e){if(!wl(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),up=Fl.f,fp=Dt.fastKey,lp=Ul?"_s":"size",hp={getConstructor:function(t,o,n,r){var i=t(function(t,e){Zh(t,i,o,"_i"),t._t=o,t._i=Th(null),t._f=void 0,t._l=void 0,t[lp]=0,null!=e&&sp(e,n,t[r],t)});return Qh(i.prototype,{clear:function(){for(var t=cp(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[lp]=0},delete:function(t){var e,n=cp(this,o),r=ep(n,t);return r&&(e=r.n,t=r.p,delete n._i[r.i],r.r=!0,t&&(t.n=e),e&&(e.p=t),n._f==r&&(n._f=e),n._l==r&&(n._l=t),n[lp]--),!!r},forEach:function(t){cp(this,o);for(var e,n=Yl(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!ep(cp(this,o),t)}}),Ul&&up(i.prototype,"size",{get:function(){return cp(this,o)[lp]}}),i},def:function(t,e,n){var r,o=ep(t,e);return o?o.v=n:(t._l=o={i:r=fp(e,!0),k:e,v:n,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[lp]++,"F"!==r&&(t._i[r]=o)),t},getEntry:ep,setStrong:function(t,n,e){Ch(t,n,function(t,e){this._t=cp(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?Bl(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,Bl(1))},e?"entries":"values",!e,!0),tp(n)}},pp=xl("iterator"),dp=!1;try{var gp=[7][pp]();gp.return=function(){dp=!0},Array.from(gp,function(){throw 2})}catch(t){}function vp(t,e){if(_l(t),!wl(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}function yp(t,e,n){var r;return(e=e.constructor)!==n&&"function"==typeof e&&(r=e.prototype)!==n.prototype&&wl(r)&&bp&&bp(t,r),t}function mp(t){var e=Al(t,!1);if("string"==typeof e&&2<e.length){var n,r,o=(e=Hp?e.trim():Dp(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(t=e.charCodeAt(2))||120===t)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var i,s=e.slice(2),a=0,c=s.length;a<c;a++)if((i=s.charCodeAt(a))<48||r<i)return NaN;return parseInt(s,n)}}return+e}var Sp,Ep,Ip,wp,_p,zo=function(t,e){if(!e&&!dp)return!1;var n=!1;try{var r=[7],o=r[pp]();o.next=function(){return{done:n=!0}},r[pp]=function(){return o},t(r)}catch(t){}return n},Tp={f:{}.propertyIsEnumerable},Pp=Object.getOwnPropertyDescriptor,Ap={f:Ul?Pp:function(t,e){if(t=Kl(t),e=Al(e,!0),Dl)try{return Pp(t,e)}catch(t){}if(ql(t,e))return bl(!Tp.f.call(t,e),t[e])}},bp=Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=Yl(Function.call,Ap.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return vp(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),kp=(Sp="Map",Rp=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},Op={get:function(t){t=hp.getEntry(cp(this,"Map"),t);return t&&t.v},set:function(t,e){return hp.def(cp(this,"Map"),0===t?0:t,e)}},Lt=hp,Ip=Rl.Map,_p=(wp=Ip)&&wp.prototype,et={},"function"==typeof wp&&_p.forEach&&!Tl(function(){(new wp).entries().next()})?(fe=(Ep=new wp).set(-0,1)!=Ep,fi=Tl(function(){Ep.has(1)}),zl=zo(function(t){new wp(t)}),ft=Tl(function(){for(var t=new wp,e=5;e--;)t.set(e,e);return!t.has(-0)}),zl||(((wp=Rp(function(t,e){Zh(t,wp,Sp);t=yp(new Ip,t,wp);return null!=e&&sp(e,!0,t.set,t),t})).prototype=_p).constructor=wp),(fi||ft)&&(Bp("delete"),Bp("has"),Bp("get")),(ft||fe)&&Bp("set")):(wp=Lt.getConstructor(Rp,Sp,!0,"set"),Qh(wp.prototype,Op),Dt.NEED=!0),ch(wp,Sp),et.Map=wp,uh(uh.G+uh.W+uh.F*(wp!=Ip),et),Lt.setStrong(wp,Sp,!0),mh.concat("length","prototype")),Rp={f:Object.getOwnPropertyNames||function(t){return sh(t,kp)}},Cp="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Op="["+Cp+"]",Np=RegExp("^"+Op+Op+"*"),xp=RegExp(Op+Op+"*$"),Dt=function(t,e,n){var r={},o=Tl(function(){return Cp[t]()||"​"!="​"[t]()}),e=r[t]=o?e(Up):Cp[t];n&&(r[n]=e),uh(uh.P+uh.F*o,"String",r)},Up=Dt.trim=function(t,e){return t=String(Wl(t)),1&e&&(t=t.replace(Np,"")),2&e&&(t=t.replace(xp,"")),t},et=Rp.f,Mp=Ap.f,Lp=Fl.f,Dp=Dt.trim,jp=Rl.Number,Fp=jp,Vp=jp.prototype,$p="Number"==Gl(Th(Vp)),Hp="trim"in String.prototype;function Bp(t){var n=_p[t];nh(_p,t,"delete"==t||"has"==t?function(t){return n.call(this,0===t?0:t)}:"get"==t?function(t){return n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}if(!jp(" 0o1")||!jp("0b1")||jp("+0x1")){jp=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof jp&&($p?Tl(function(){Vp.valueOf.call(e)}):"Number"!=Gl(e))?yp(new Fp(mp(t)),e,jp):mp(t)};for(var Gp,Wp=Ul?et(Fp):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Kp=0;Wp.length>Kp;Kp++)ql(Fp,Gp=Wp[Kp])&&!ql(jp,Gp)&&Lp(jp,Gp,Mp(Fp,Gp));(jp.prototype=Vp).constructor=jp,nh(Rl,"Number",jp)}var qp=Math.floor;uh(uh.S,"Number",{isInteger:function(t){return!wl(t)&&isFinite(t)&&qp(t)===t}});function Jp(t,e){var n;return void 0===(t=_l(t).constructor)||null==(n=_l(t)[Qp])?e:Jl(n)}function Yp(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}function zp(){var t,e=+this;nd.hasOwnProperty(e)&&(t=nd[e],delete nd[e],t())}var Xp,Qp=xl("species"),Zp=Rl.process,Lt=Rl.setImmediate,Op=Rl.clearImmediate,Dt=Rl.MessageChannel,td=Rl.Dispatch,ed=0,nd={},et=function(t){zp.call(t.data)};Lt&&Op||(Lt=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return nd[++ed]=function(){Yp("function"==typeof t?t:Function(t),e)},Xp(ed),ed},Op=function(t){delete nd[t]},"process"==Gl(Zp)?Xp=function(t){Zp.nextTick(Yl(zp,t,1))}:td&&td.now?Xp=function(t){td.now(Yl(zp,t,1))}:Dt?(rd=(Dt=new Dt).port2,Dt.port1.onmessage=et,Xp=Yl(rd.postMessage,rd,1)):Rl.addEventListener&&"function"==typeof postMessage&&!Rl.importScripts?(Xp=function(t){Rl.postMessage(t+"","*")},Rl.addEventListener("message",et,!1)):Xp="onreadystatechange"in Pl("script")?function(t){Ih.appendChild(Pl("script")).onreadystatechange=function(){Ih.removeChild(this),zp.call(t)}}:function(t){setTimeout(Yl(zp,t,1),0)});var rd={set:Lt,clear:Op},od=rd.set,et=Rl.MutationObserver||Rl.WebKitMutationObserver,id=Rl.process,Lt=Rl.Promise,sd="process"==Gl(id);function ad(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=Jl(n),this.reject=Jl(r)}function cd(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}function ud(){}function fd(t){var e;return!(!wl(t)||"function"!=typeof(e=t.then))&&e}function ld(f,e){var n;f._n||(f._n=!0,n=f._c,Ad(function(){for(var c=f._v,u=1==f._s,t=0;n.length>t;)!function(t){var e,n,r,o=u?t.ok:t.fail,i=t.resolve,s=t.reject,a=t.domain;try{o?(u||(2==f._h&&Md(f),f._h=1),!0===o?e=c:(a&&a.enter(),e=o(c),a&&(a.exit(),r=!0)),e===t.promise?s(bd("Promise-chain cycle")):(n=fd(e))?n.call(e,i,s):i(e)):s(c)}catch(t){a&&!r&&a.exit(),s(t)}}(n[t++]);f._c=[],f._n=!1,e&&!f._h&&xd(f)}))}function hd(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),ld(e,!0))}var pd,dd,gd,vd,yd,md,Sd,Ed,Id,wd,_d={f:function(t){return new ad(t)}},Op=Rl.navigator,Td=Op&&Op.userAgent||"",Pd=rd.set,Ad=(Ed=sd?function(){id.nextTick(Dd)}:!et||Rl.navigator&&Rl.navigator.standalone?Lt&&Lt.resolve?(Sd=Lt.resolve(void 0),function(){Sd.then(Dd)}):function(){od.call(Rl,Dd)}:(Id=!0,wd=document.createTextNode(""),new et(Dd).observe(wd,{characterData:!0}),function(){wd.data=Id=!Id}),function(t){t={fn:t,next:void 0};md&&(md.next=t),yd||(yd=t,Ed()),md=t}),bd=Rl.TypeError,kd=Rl.process,rd=kd&&kd.versions,Rd=rd&&rd.v8||"",Cd=Rl.Promise,Od="process"==Jh(kd),Nd=dd=_d.f,Lt=!!function(){try{var t=Cd.resolve(1),e=(t.constructor={})[xl("species")]=function(t){t(ud,ud)};return(Od||"function"==typeof PromiseRejectionEvent)&&t.then(ud)instanceof e&&0!==Rd.indexOf("6.6")&&-1===Td.indexOf("Chrome/66")}catch(t){}}(),xd=function(o){Pd.call(Rl,function(){var t,e,n=o._v,r=Ud(o);if(r&&(t=cd(function(){Od?kd.emit("unhandledRejection",n,o):(e=Rl.onunhandledrejection)?e({promise:o,reason:n}):(e=Rl.console)&&e.error&&e.error("Unhandled promise rejection",n)}),o._h=Od||Ud(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},Ud=function(t){return 1!==t._h&&0===(t._a||t._c).length},Md=function(e){Pd.call(Rl,function(){var t;Od?kd.emit("rejectionHandled",e):(t=Rl.onrejectionhandled)&&t({promise:e,reason:e._v})})},Ld=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw bd("Promise can't be resolved itself");(n=fd(t))?Ad(function(){var e={_w:r,_d:!1};try{n.call(t,Yl(Ld,e,1),Yl(hd,e,1))}catch(t){hd.call(e,t)}}):(r._v=t,r._s=1,ld(r,!1))}catch(t){hd.call({_w:r,_d:!1},t)}}};function Dd(){var t,e;for(sd&&(t=id.domain)&&t.exit();yd;){e=yd.fn,yd=yd.next;try{e()}catch(t){throw yd?Ed():md=void 0,t}}md=void 0,t&&t.enter()}Lt||(Cd=function(t){Zh(this,Cd,"Promise","_h"),Jl(t),pd.call(this);try{t(Yl(Ld,this,1),Yl(hd,this,1))}catch(t){hd.call(this,t)}},(pd=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Qh(Cd.prototype,{then:function(t,e){var n=Nd(Jp(this,Cd));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Od?kd.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&ld(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),gd=function(){var t=new pd;this.promise=t,this.resolve=Yl(Ld,t,1),this.reject=Yl(hd,t,1)},_d.f=Nd=function(t){return t===Cd||t===vd?new gd:dd(t)}),uh(uh.G+uh.W+uh.F*!Lt,{Promise:Cd}),ch(Cd,"Promise"),tp("Promise"),vd=kl.Promise,uh(uh.S+uh.F*!Lt,"Promise",{reject:function(t){var e=Nd(this);return(0,e.reject)(t),e.promise}}),uh(uh.S+uh.F*!Lt,"Promise",{resolve:function(t){return function(t,e){if(_l(t),wl(e)&&e.constructor===t)return e;t=_d.f(t);return(0,t.resolve)(e),t.promise}(this,t)}}),uh(uh.S+uh.F*!(Lt&&zo(function(t){Cd.all(t).catch(ud)})),"Promise",{all:function(t){var s=this,e=Nd(s),a=e.resolve,c=e.reject,n=cd(function(){var r=[],o=0,i=1;sp(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||a(r))},c)}),--i||a(r)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=Nd(e),r=n.reject,o=cd(function(){sp(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}});function jd(t,e){return Fd(t=t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Fd(n.prototype)||(n=void 0),wl(n)&&null===(n=n[Vd])&&(n=void 0)),new(void 0===n?Array:n)(e);var n}var Fd=Array.isArray||function(t){return"Array"==Gl(t)},Vd=xl("species"),et=function(l,t){var h=1==l,p=2==l,d=3==l,g=4==l,v=6==l,y=5==l||v,m=t||jd;return function(t,e,n){for(var r,o,i=kh(t),s=Zl(i),a=Yl(e,n,3),c=ih(s.length),u=0,f=h?m(t,c):p?m(t,0):void 0;u<c;u++)if((y||u in s)&&(o=a(r=s[u],u,i),l))if(h)f[u]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return u;case 2:f.push(r)}else if(g)return!1;return v?-1:d||g?g:f}},rd=function(t,e){return!!t&&Tl(function(){e?t.call(null,function(){},1):t.call(null)})},$d=et(3);uh(uh.P+uh.F*!rd([].some,!0),"Array",{some:function(t){return $d(this,t,arguments[1])}});var Hd={f:Object.getOwnPropertySymbols},Bd=Object.assign,Lt=!Bd||Tl(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Bd({},t)[n]||Object.keys(Bd({},e)).join("")!=r})?function(t,e){for(var n=kh(t),r=arguments.length,o=1,i=Hd.f,s=Tp.f;o<r;)for(var a,c=Zl(arguments[o++]),u=i?Sh(c).concat(i(c)):Sh(c),f=u.length,l=0;l<f;)a=u[l++],Ul&&!s.call(c,a)||(n[a]=c[a]);return n}:Bd;uh(uh.S+uh.F,"Object",{assign:Lt});var Gd=et(0),zo=rd([].forEach,!0);uh(uh.P+uh.F*!zo,"Array",{forEach:function(t){return Gd(this,t,arguments[1])}});var Wd=function(t,e){return(Wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Kd(t,e){function n(){this.constructor=t}Wd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function qd(i,s,a,c){return new(a=a||Promise)(function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function r(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}o((c=c.apply(i,s||[])).next())})}function Jd(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function Yd(t,e,n){return e+(n?tg(t,e).length:1)}function zd(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Jh(t))throw new TypeError("RegExp#exec called on incompatible receiver");return eg.call(t,e)}function Xd(){var t=_l(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}var Qd=(ag.prototype.register=function(t){this.attributesCollectors.push(t)},ag.prototype.collectAll=function(){return qd(this,void 0,void 0,function(){var r,e=this;return Jd(this,function(t){return r={},this.attributesCollectors.forEach(function(n){return qd(e,void 0,void 0,function(){var e;return Jd(this,function(t){switch(t.label){case 0:return[4,n.doCollect()];case 1:return e=t.sent(),Object.assign(r,e),[2]}})})}),[2,r]})})},ag.prototype.collect=function(r){return qd(this,void 0,void 0,function(){var e,n;return Jd(this,function(t){switch(t.label){case 0:return e={},n={},this.attributesCollectors.some(function(t,e){return t.key===r&&(n=t,!0)}),n.doCollect?[4,n.doCollect()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e]}})})},ag.prototype.syncCollect=function(n){var t={},r={};return this.attributesCollectors.some(function(t,e){return t.key===n&&(r=t,!0)}),r.doCollect&&(t=r.doCollect()),t},new ag),Zd=(sg.prototype.setHiLog=function(t){this.hiLog=t},sg.prototype.setHiAutoReport=function(t){this.hiAutoReport=t},sg.prototype.setHiSendData=function(t){this.hiSendData=t},sg.prototype.setHiClientProperty=function(t){this.hiClientProperty=t},sg.prototype.setHiStorage=function(t){this.hiStorage=t},new sg),tg=Ct(!0),eg=RegExp.prototype.exec,ng=RegExp.prototype.exec,rg=String.prototype.replace,Lt=ng,og=(et=/a/,zo=/b*/g,ng.call(et,"a"),ng.call(zo,"a"),0!==et.lastIndex||0!==zo.lastIndex),ig=void 0!==/()??/.exec("")[1];function sg(){this.hiLog={},this.hiAutoReport={},this.hiSendData={},this.hiClientProperty={},this.hiStorage={}}function ag(){this.attributesCollectors=[]}(og||ig)&&(Lt=function(t){var e,n,r,o;return ig&&(n=new RegExp("^"+this.source+"$(?!\\s)",Xd.call(this))),og&&(e=this.lastIndex),r=ng.call(this,t),og&&r&&(this.lastIndex=this.global?r.index+r[0].length:e),ig&&r&&1<r.length&&rg.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var cg=Lt;uh({target:"RegExp",proto:!0,forced:cg!==/./.exec},{exec:cg});var ug,fg=xl("species"),lg=!Tl(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),hg=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2===t.length&&"a"===t[0]&&"b"===t[1]}(),Ct=function(n,t,e){var i,r,o=xl(n),s=!Tl(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),a=s?!Tl(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[fg]=function(){return e}),e[o](""),!t}):void 0;s&&a&&("replace"!==n||lg)&&("split"!==n||hg)||(i=/./[o],e=(a=e(Wl,o,""[n],function(t,e,n,r,o){return e.exec===cg?s&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}))[0],r=a[1],nh(String.prototype,n,e),Vl(RegExp.prototype,o,2==t?function(t,e){return r.call(t,this,e)}:function(t){return r.call(t,this)}))},pg=Math.max,dg=Math.min,gg=Math.floor,vg=/\$([$&`']|\d\d?|<[^>]*>)/g,yg=/\$([$&`']|\d\d?)/g;Ct("replace",2,function(o,i,E,I){return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=I(E,t,this,e);if(n.done)return n.value;var r=_l(t),o=String(this),i="function"==typeof e;i||(e=String(e));var s,a=r.global;a&&(s=r.unicode,r.lastIndex=0);for(var c=[];;){var u=zd(r,o);if(null===u)break;if(c.push(u),!a)break;""===String(u[0])&&(r.lastIndex=Yd(o,ih(r.lastIndex),s))}for(var f,l="",h=0,p=0;p<c.length;p++){u=c[p];for(var d=String(u[0]),g=pg(dg(oh(u.index),o.length),0),v=[],y=1;y<u.length;y++)v.push(void 0===(f=u[y])?f:String(f));var m,S=u.groups,S=i?(m=[d].concat(v,g,o),void 0!==S&&m.push(S),String(e.apply(void 0,m))):function(i,s,a,c,u,t){var f=a+i.length,l=c.length,e=yg;return void 0!==u&&(u=kh(u),e=vg),E.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return s.slice(0,a);case"'":return s.slice(f);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(l<r){var o=gg(r/10);return 0!==o&&o<=l?void 0===c[o-1]?e.charAt(1):c[o-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}(d,o,g,v,S,e);h<=g&&(l+=o.slice(h,g)+S,h=g+d.length)}return l+o.slice(h)}]}),et="keys",zo=function(){return function(t){return Sh(kh(t))}},ug=(kl.Object||{})[et]||Object[et],(Lt={})[et]=zo(),uh(uh.S+uh.F*Tl(function(){ug(1)}),"Object",Lt);function mg(t){var e;return wl(t)&&(void 0!==(e=t[Fg])?!!e:"RegExp"==Gl(t))}var Sg="CE-001",Eg="Cannot find agcgw/url from agconnect-service.json.",Ig="PE-002",wg="Length of $1 exceeds the limit. Max Length is $2.",_g="PE-003",Tg="$1 missed.",Pg="PE-004",Ag="$1 is reserved.",bg="PE-005",kg="Too many $1 parameters. Max number of parameters is $2.",Rg="PE-006",Cg="$1 is invalid.",Og="PE-007",Ng="The size exceeds the limit, the maximum size is $1.",xg="IE-006",Ug="The Analytics Kit is disabled.",Mg="SE-002",Lg="Failed to obtain AAID from hms core sdk.",Dg="OpennessSDK",jg=(qg.prototype.info=function(t,e,n,r){n=Dg+" => "+t+"|"+e+"|"+n;console.info(n)},qg.prototype.warn=function(t,e,n,r){r&&(r.$1&&(n=n.replace("$1",r.$1)),r.$2&&(n=n.replace("$2",r.$2)));n=Dg+" => "+t+"|"+e+"|"+n;console.warn(n)},qg.prototype.error=function(t,e,n,r){n=Dg+" => "+t+"|"+e+"|"+n;console.error(n)},new qg),Fg=xl("match"),Vg=Fl.f,Rp=Rp.f,$g=Rl.RegExp,Hg=$g,Bg=$g.prototype,Gg=/a/g,Wg=/a/g,Kg=new $g(Gg)!==Gg;function qg(){}if(Ul&&(!Kg||Tl(function(){return Wg[xl("match")]=!1,$g(Gg)!=Gg||$g(Wg)==Wg||"/a/i"!=$g(Gg,"i")}))){$g=function(t,e){var n=this instanceof $g,r=mg(t),o=void 0===e;return!n&&r&&t.constructor===$g&&o?t:yp(Kg?new Hg(r&&!o?t.source:t,e):Hg((r=t instanceof $g)?t.source:t,r&&o?Xd.call(t):e),n?this:Bg,$g)};for(var Jg=Rp(Hg),Yg=0;Jg.length>Yg;)!function(e){e in $g||Vg($g,e,{configurable:!0,get:function(){return Hg[e]},set:function(t){Hg[e]=t}})}(Jg[Yg++]);(Bg.constructor=$g).prototype=Bg,nh(Rl,"RegExp",$g)}tp("RegExp");var zg,Xg=(tv.prototype.checkString=function(t,e,n,r){return n?!(n.length>r&&(jg.warn(t,Ig,wg,{$1:e,$2:r}),1)):(jg.warn(t,_g,Tg,{$1:e}),!1)},tv.prototype.checkPattern=function(t,e,n,r){return!!new RegExp(r).test(n)||(jg.warn(t,Rg,Cg,{$1:e}),!1)},tv.prototype.checkReserve=function(t,e,n,r){for(var o in r)if(n===r[o])return jg.warn(t,Pg,Ag,{$1:e}),!1;return!0},tv.prototype.checkLength=function(t,e,n,r){return!(r<n&&(jg.warn(t,bg,kg,{$1:e,$2:r}),1))},tv.prototype.checkSwitchIsOpen=function(t,e){return!!e||(jg.warn(t,xg,Ug),!1)},tv.prototype.checkExceedMaxSize=function(t,e,n,r){return!(r<n&&(jg.warn(t,Og,Ng,{$1:e}),1))},new tv),Qg="events_common",Zg="_openness_config_tag";function tv(){}(Rp=zg=zg||{})[Rp.BEACON=1]="BEACON",Rp[Rp.AJAX=2]="AJAX",Rp[Rp.IMG=3]="IMG";var ev="Analytics",nv="aaid",rv="token",ov={_emui_ver:"_emui_ver",_model:"_model",_package_name:"_package_name",_app_ver:"_app_ver",_lib_ver:"_lib_ver",_channel:"_channel",_lib_name:"_lib_name",_sys_language:"_sys_language",_manufacturer:"_manufacturer",_os:"_os",_os_ver:"_os_ver",_screen_height:"_screen_height",_screen_width:"_screen_width"},iv=(hv.prototype.init=function(){this.exteralConfig={};var t=Qd.syncCollect("serverConfig");this.serveConfig=t;t=this.serveConfig.analyticsUrl;t?Zd.hiSendData.setUrl(t):jg.error(this.tag,Sg,Eg);t=Qd.syncCollect("deviceConfig");this.clientConfig=t},hv.prototype.getConfigs=function(){return Object.assign({},this.serveConfig,this.clientConfig,this.exteralConfig)},hv.prototype.setReportType=function(t){this.reportType=t},hv.prototype.getConfig=function(t){var e=this.getConfigs()[t];return"aaid"!==t||e?e:(Zd.hiLog.error(ev,Mg,Lg),"")},hv.prototype.addConfig=function(t,e){this.exteralConfig[t]=e},hv.prototype.setUserProfile=function(t,e){Xg.checkString(ev,"user name",t,256)&&Xg.checkReserve(ev,"User Profile",t,ov)&&Xg.checkPattern(ev,"user name",t,"^[a-zA-Z][A-Za-z0-9_]*$")&&Xg.checkString(ev,"user value",e,256)&&Xg.checkLength(ev,"User Profile",Object.keys(this.userProfiles).length+1,25)&&(this.userProfiles[t]=e)},hv.prototype.setCurrentScreen=function(t){this.currentScreenName=t},hv.prototype.setPageEntryTime=function(t){this.pageEntryTime=t},hv.prototype.getPageEntryTime=function(){return this.pageEntryTime},hv.prototype.getReportType=function(){return this.reportType},hv.prototype.generateClientKey=function(t){return("HW_"+t+"_"+this.getConfig("appId")).replace(/\./g,"_")},new hv),sv=(lv.prototype.init=function(){this.autoReportService=Zd.hiAutoReport,this.hiStorage=Zd.hiStorage},lv.prototype.dealFirstOpenEvent=function(t,e,n){var r;this.autoReportService=Zd.hiAutoReport,this.hiStorage=Zd.hiStorage,this.autoReportService.isKeyExist(t)?(r=this.autoReportService.getClientValue(t),iv.addConfig("aaid",r)):this.autoReportService.dealFirstOpenEvent(t,e,n)},lv.prototype.computeLoadTime=function(){},lv.prototype.stateChanged=function(){},new lv),av=(fv.prototype.setEventType=function(t){this.eventType=t},fv.prototype.getEventType=function(){return this.eventType},fv.prototype.setEventID=function(t){this.eventID=t},fv.prototype.setEventContent=function(t){this.eventContent=t},fv.prototype.setEventRecordTime=function(t){this.eventRecordTime=t},fv.prototype.setSessionValue=function(t){this.sessionValue=t},fv.prototype.setSessionFlag=function(t){this.sessionFlag=t},fv.prototype.getOneEventRecord=function(){return{eventtime:this.eventRecordTime,event:this.eventID,type:this.eventType,event_session_name:this.sessionValue,first_session_event:this.sessionFlag,properties:this.eventContent}},new fv),cv=(uv.prototype.setHeadAppId=function(t){this.headAppId=t},uv.prototype.setTimestamp=function(t){this.timestamp=t},uv.prototype.setServiceTag=function(t){this.serviceTag=t},uv.prototype.setServiceId=function(t){this.serviceId=t},uv.prototype.setReqID=function(t){this.reqID=t},uv.prototype.setProductId=function(t){this.productId=t},uv.prototype.getEventHead=function(){return{protocol_version:"1",serviceid:this.serviceId,appid:this.headAppId,timestamp:this.timestamp,servicetag:this.serviceTag,requestid:this.reqID,productid:this.productId}},new uv);function uv(){this.headAppId="",this.timestamp=0,this.serviceTag=Zg,this.serviceId="hmshioperqrt",this.reqID="",this.productId=""}function fv(){this.eventType="",this.eventID="",this.eventContent={},this.eventRecordTime=0,this.sessionValue="",this.sessionFlag=""}function lv(){this.autoReportService={},this.hiStorage={},this.pageEntryTime=0}function hv(){this.tag="GlobalSetting",this.clientConfig={},this.serveConfig={},this.exteralConfig={},this.userProfiles={},this.currentScreenName="",this.reportType=-1,this.pageEntryTime=0}Ul&&"g"!=/./g.flags&&Fl.f(RegExp.prototype,"flags",{configurable:!0,get:Xd});var pv=/./.toString,Rp=function(t){nh(RegExp.prototype,"toString",t,!0)};Tl(function(){return"/a/b"!=pv.call({source:"a",flags:"b"})})?Rp(function(){var t=_l(this);return"/".concat(t.source,"/","flags"in t?t.flags:!Ul&&t instanceof RegExp?Xd.call(t):void 0)}):"toString"!=pv.name&&Rp(function(){return pv.call(this)});var Rp=Date.prototype,dv=Rp.toString,gv=Rp.getTime;new Date(NaN)+""!="Invalid Date"&&nh(Rp,"toString",function(){var t=gv.call(this);return t==t?dv.call(this):"Invalid Date"});var vv,Rp,yv=(Cv.prototype.create=function(){var t=Math.floor(Math.random()*(Math.pow(2,12)-1+1))+0,e=Math.floor(Math.random()*(Math.pow(2,32)-1+1))+0,n=Math.floor(Math.random()*(Math.pow(2,16)-1+1))+0,r=Math.floor(Math.random()*(Math.pow(2,6)-1+1))+0,o=Math.floor(Math.random()*(Math.pow(2,8)-1+1))+0,i=(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30);function s(t,e,n){n=n||"0";for(var r=e-(t=String(t)).length;0<r;r>>>=1,n+=n)1&r&&(t=n+t);return t}return""+s(e.toString(16),8)+s(n.toString(16),4)+s((16384|t).toString(16),4)+s((128|r).toString(16),2)+s(o.toString(16),2)+s(i.toString(16),12)},new Cv),mv=(Rv.prototype.init=function(){this.sessionService=Zd.hiStorage,this.commonUserService=Zd.hiClientProperty,this.sessionService.setSessionDuration(this.sessionDuration)},Rv.prototype.generateSessionId=function(){this.sessionId=iv.generateClientKey("hid"),this.sessionService.setSessionId(this.sessionId)},Rv.prototype.getSessionId=function(){return this.sessionId},Rv.prototype.getUserId=function(){return this.userId},Rv.prototype.setUserId=function(t){Xg.checkString(ev,"userId",t,256)||(t=""),t&&this.userId&&t!==this.userId?iv.addConfig("isSessionRefresh",!0):iv.addConfig("isSessionRefresh",!1),this.userId=t||""},Rv.prototype.setSessionDuration=function(t){return this.sessionService.setSessionDuration(t)},Rv.prototype.getUserInfo=function(){return{aaid:iv.getConfig("aaid"),androidid:"",pushtoken:"",userid:this.userId,properties:this.commonUserService&&this.commonUserService.generateUserCommonProperty(),events_global_properties:iv.userProfiles}},new Rv),Sv=(kv.prototype.clearCacheData=function(){this.eventRecords=[]},kv.prototype.addEvent=function(t,e,n,r,o){av.setEventContent(e),av.setEventID(t),av.setEventRecordTime(r),av.setEventType(n),av.setSessionFlag(String(!this.isInit)),av.setSessionValue(Zd.hiStorage.getSessionValue(o));o=av.getOneEventRecord();this.eventRecords.push(o),this.isInit||(this.isInit=!0)},kv.prototype.generateHttpHead=function(t){void 0===t&&(t={});var e,n,r={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n=t[e],r[e]=n);return r["App-Id"]=iv.getConfig("appId"),r["x-hasdk-productid"]=iv.getConfig("productId"),r["x-hasdk-resourceid"]=iv.getConfig("resourceId"),r["App-Ver"]="1.0",r["Device-Type"]="web",r.servicetag=Zg,r["Package-Name"]=iv.getConfig("packageName"),r["Request-Id"]=this.reqId,r["Sdk-Name"]="hianalytics",r["x-hasdk-clientid"]=iv.getConfig("clientId"),r["x-hasdk-realtime"]="false",r["x-hasdk-token"]=iv.getConfig("sdkToken"),r},kv.prototype.generateEventUploadData=function(){cv.setHeadAppId(iv.getConfig("appId")),cv.setProductId(iv.getConfig("productId")),cv.setTimestamp((new Date).getTime()),cv.setReqID(this.reqId);var t=cv.getEventHead(),e={};e.events=this.eventRecords;var n=mv.getUserInfo();return e[Qg]=n,Object.assign(n.properties,{_package_name:iv.getConfig("packageName")}),e[Qg]=n,this.eventUploadData.header=t,this.eventUploadData.event=e,this.eventUploadData},kv),Ev=(bv.prototype.onEvent=function(t,e,n,r,o,i){var s=this;if(void 0===o&&(o=!1),void 0===i&&(i={}),this.upLoadService.addEvent(t,e,n,r,!1),!this.timer||o)if(o){e={mode:iv.getReportType(),url:iv.getConfig("analyticsUrl"),async:!o},n=this.upLoadService.generateEventUploadData(),r=this.upLoadService.generateHttpHead(i);if(iv.getConfig("aaid")&&iv.getConfig("sdkToken")){Zd.hiSendData.onEvent(n,r,e),Zd.hiStorage.handleSessionId(),this.upLoadService.clearCacheData();for(var a=(new Date).getTime()+1e3;(new Date).getTime()<a;);}}else this.timer=setTimeout(function(){var t={mode:iv.getReportType(),url:iv.getConfig("analyticsUrl"),async:!o},e=s.upLoadService.generateEventUploadData(),n=s.upLoadService.generateHttpHead(i);iv.getConfig("aaid")&&iv.getConfig("sdkToken")&&(Zd.hiSendData.onEvent(e,n,t),s.upLoadService.clearCacheData(),s.timer=void 0,Zd.hiStorage.handleSessionId())},5e3)},bv.prototype.debounce=function(n,r){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(t,e)},r)}},new bv),Iv=(Av.prototype.init=function(t){},Av.prototype.setAnalyticsEnabled=function(t){this.reportFlag=t},Av.prototype.onEvent=function(t,e,n,r,o,i){void 0===e&&(e={}),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i={});var s={};if(Xg.checkString(ev,"eventId",t,256)&&(r||Xg.checkReserve(ev,"eventId",t,ml))){var a=!1,c=yl;for(u in c)if(t===c[u]){a=!0;break}if(a||r||Xg.checkPattern(ev,"eventId",t,"^[a-zA-Z_][A-Za-z0-9_]*$")){var u,f,l,h=Sl;for(u in e){var p=!1;if(Xg.checkString(ev,"params key",u,256)){for(var d in h)if(u===h[d]){p=!0;break}if(p||r||Xg.checkPattern(ev,"params key",u,"^[a-zA-Z_][A-Za-z0-9_]*$")){if(!Xg.checkLength(ev,"Event",Object.keys(s).length+1,2048))break;s[u]=e[u]}}}Xg.checkExceedMaxSize(ev,"200KB",JSON.stringify(s).length,204800)&&Xg.checkSwitchIsOpen(ev,this.reportFlag)&&(f=(new Date).getTime(),Zd.hiStorage.getSessionValue()||(l=yv.create()+"_"+(new Date).getTime(),Zd.hiStorage.handleSessionId(void 0,l)),iv.getConfig("isSessionRefresh")&&(l=yv.create()+"_"+(new Date).getTime(),Zd.hiStorage.handleSessionId(void 0,l)),Ev.onEvent(t,s,"oper",f,n,i))}}},new Av),wv=(Pv.prototype.addListener=function(t){this.eventListeners.push(t)},Pv.prototype.init=function(){this.eventListeners.forEach(function(t){t.init()})},new Pv),_v=(Tv.prototype.init=function(t,e){t&&t.forEach(function(t){Qd.register(t)}),e&&e.forEach(function(t){wv.addListener(t)}),wv.init()},new Tv);function Tv(){}function Pv(){this.eventListeners=[]}function Av(){this.reportFlag=!0,this.isReportPageEntry=!1}function bv(){this.upLoadService=new Sv}function kv(){this.sessionFlag="",this.eventUploadData={},this.eventRecords=[],this.reqId="",this.isInit=!1,this.reqId=yv.create()}function Rv(){this.sessionService={},this.commonUserService={},this.sessionId="",this.userId="",this.clientId="",this.sessionDuration=18e5}function Cv(){}(Rp=vv=vv||{}).BROWSER="Browser",Rp.NODE_JS="Node",Rp.WX_MICROPROGRAM="Wx",Rp.REACT_NATIVE="ReactNative",Rp.QUICK_APP="QuickApp",Rp.UNKNOWN="Unknown";var Ov=(qv.setEncryptImp=function(t){this.encryptImpl=t},qv.decrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.decrypt(t):t},qv.encrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.encrypt(t):t},qv),Nv=(Kv.getInstance=function(){return null==this.instance&&(this.instance=new Kv),this.instance},Kv.prototype.get=function(t){return Promise.resolve(this.storage[t])},Kv.prototype.remove=function(t){return delete this.storage[t],Promise.resolve()},Kv.prototype.set=function(t,e){return this.storage[t]=e,Promise.resolve()},Kv.prototype.setCryptImp=function(t){Ov.setEncryptImp(t)},Kv.instance=new Kv,Kv),xv=(Wv.getInstance=function(){return null==this.instance&&(this.instance=new Wv),this.instance},Wv.prototype.initIndexedDb=function(o){var i=this;return window.indexedDB?new Promise(function(e,n){var t=window.indexedDB.open(i.DB_NAME,i.VERSION),r=i;t.onupgradeneeded=function(t){var e=t.target.result;try{e.objectStoreNames.contains(r.OBJECT_STORE_NAME)||e.createObjectStore(r.OBJECT_STORE_NAME,{keyPath:r.KEY_PATH})}catch(t){n(t)}},t.onsuccess=function(t){try{e(t.target.result.transaction([r.OBJECT_STORE_NAME],o).objectStore(r.OBJECT_STORE_NAME))}catch(t){n(t)}},t.onerror=function(t){n(new Error(t.target.error))}}):Promise.reject("Your browser doesn't support a stable version of IndexedDB.")},Wv.prototype.get=function(o){return o?this.initIndexedDb("readonly").then(function(t){return new Promise(function(e,n){try{var r=t.get(o);r.onsuccess=function(){var t=r.result;e(null!=t&&"value"in t?Ov.decrypt(t.value):t)},r.onerror=function(t){n(t.target.error)}}catch(t){n(t)}})}).catch(function(t){return Promise.reject(t)}):Promise.reject(new Error("key is null"))},Wv.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));var n={},r={};n[this.KEY_PATH]=t,r.value=Ov.encrypt(e);var o=Object.assign(r,n);return this.initIndexedDb("readwrite").then(function(e){try{var n=e.get(t);return n.onsuccess=function(){var t=n.result,t=null!=t&&"value"in t?e.put(o):e.add(o);t.onsuccess=function(){return Promise.resolve()},t.onerror=function(t){return Promise.reject(t.target.error)}},n.onerror=function(t){return console.log("---get value from db error."),Promise.reject("get value from db error.")},Promise.resolve()}catch(t){return console.log("---set value to db error."+t),Promise.reject("set value to db error."+t)}}).catch(function(t){return Promise.reject("init db error."+t)})},Wv.prototype.remove=function(n){return n?this.initIndexedDb("readwrite").then(function(t){try{var e=t.delete(n);return e.onsuccess=function(){return Promise.resolve()},e.onerror=function(t){return Promise.reject(t.target.error)},Promise.resolve()}catch(t){return Promise.reject(t)}}).catch(function(t){return Promise.reject(t)}):Promise.reject(new Error("key is null"))},Wv.prototype.setCryptImp=function(t){Ov.setEncryptImp(t)},Wv.instance=new Wv,Wv),Uv=(Gv.getInstance=function(){return null==this.instance&&(this.instance=new Gv),this.instance},Gv.prototype.get=function(t){if(!t)return Promise.reject(new Error("key is null"));try{var e=sessionStorage.getItem(t);return Promise.resolve(""===e?null:Ov.decrypt(e))}catch(t){return Promise.reject(t)}},Gv.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));try{return sessionStorage.setItem(t,Ov.encrypt(e)),Promise.resolve()}catch(t){return Promise.reject(t)}},Gv.prototype.remove=function(t){if(!t)return Promise.reject(new Error("key is null"));try{return sessionStorage.removeItem(t),Promise.resolve()}catch(t){return Promise.reject(t)}},Gv.prototype.setCryptImp=function(t){Ov.setEncryptImp(t)},Gv.instance=new Gv,Gv),Mv=(Bv.getInstance=function(){return null==this.instance&&(this.instance=new Bv),this.instance},Bv.prototype.get=function(t){if(!t)return Promise.reject(new Error("key is null"));try{var e=n.readFileSync(t,"utf-8");return Promise.resolve(""===e?null:Ov.decrypt(e))}catch(t){return Promise.reject(t)}},Bv.prototype.set=function(t,e){if(!t||!e)return Promise.reject(new Error("key or value is null"));try{return n.writeFileSync(t,Ov.encrypt(e),"utf-8"),Promise.resolve()}catch(t){return Promise.reject(t)}},Bv.prototype.remove=function(t){if(!t)return Promise.reject(new Error("key is null"));try{return n.unlinkSync(t),Promise.resolve()}catch(t){return Promise.reject(t)}},Bv.prototype.setCryptImp=function(t){Ov.setEncryptImp(t)},Bv.instance=new Bv,Bv),Lv=(Hv.prototype.getStorage=function(t){if(null==t||null==t)return this.createMemoryStorage();switch(t){case 0:return this.createPersistentStorage();case 1:return this.createTemporaryStorage();case 2:default:return this.createMemoryStorage()}},Hv.prototype.createPersistentStorage=function(){return this.env.persist()},Hv.prototype.createTemporaryStorage=function(){return this.env.temp()},Hv.prototype.createMemoryStorage=function(){return this.env.memory()},Hv.getEnvConfig=function(){var t={};return t[vv.BROWSER]=Dv,t[vv.NODE_JS]=jv,t[vv.WX_MICROPROGRAM]=Fv,t[vv.REACT_NATIVE]=Vv,t[vv.QUICK_APP]=$v,t[vv.UNKNOWN]=Dv,t["object"==typeof self&&self.self===self?vv.BROWSER:"object"==typeof navigator&&"ReactNative"===navigator.product?vv.REACT_NATIVE:"[object process]"===Object.prototype.toString.call(global.process)?vv.NODE_JS:global&&"fastapp"in global?vv.QUICK_APP:self.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?vv.WX_MICROPROGRAM:vv.UNKNOWN]},Hv),Dv={persist:function(){return xv.getInstance()},temp:function(){return Uv.getInstance()},memory:function(){return Nv.getInstance()}},jv={persist:function(){return Mv.getInstance()},temp:function(){return Uv.getInstance()},memory:function(){return Nv.getInstance()}},Fv={persist:function(){return Uv.getInstance()},temp:function(){return Uv.getInstance()},memory:function(){return Nv.getInstance()}},Vv={persist:function(){return Uv.getInstance()},temp:function(){return Uv.getInstance()},memory:function(){return Nv.getInstance()}},$v={persist:function(){return Uv.getInstance()},temp:function(){return Uv.getInstance()},memory:function(){return Nv.getInstance()}};function Hv(t){this.env=t}function Bv(){}function Gv(){}function Wv(){this.DB_NAME="agcLocalStorageDb",this.OBJECT_STORE_NAME="agc",this.KEY_PATH="agcStorage",this.VERSION=1}function Kv(){this.storage={}}function qv(){}p.registerInternalService({name:"AGCStorageService",serviceFactory:function(t){return new Lv(Lv.getEnvConfig())}});var Jv=(Xv.prototype.getAaid=function(){var e=this;try{var n="agcAaid:"+p.instance().config().client.client_id,t=p.instance().getService("AGCStorageService");if(null==t)return console.log("Get AGC stroage Service failed."),Promise.reject("Get AGC stroage Service failed.");var r=t.getStorage(Xv.persistence);return r.get(n).then(function(t){return null!=t&&null!=t||(t=e.getRandomString(),r.set(n,t)),t})}catch(t){return Promise.reject(t)}},Xv.prototype.getRandomString=function(){var t="0123456789abcdef",e=t.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(){return t.charAt(Math.floor(Math.random()*e))})},Xv.persistence=0,Xv.INSTANCE=new Xv,Xv),Yv=(zv.prototype.getAaid=function(){return Jv.INSTANCE.getAaid()},zv.prototype.setPersistence=function(t){Jv.persistence=t},zv);function zv(){}function Xv(){}function Qv(t){return null!=t}(hy||(hy={})).ObserverImpl=function(t,e,n){"function"==typeof t||Qv(e)||Qv(n)?(this.next=t,this.error=e||null,this.complete=n||null):(t=t,this.next=t.next||null,this.error=t.error||null,this.complete=t.complete||null)},p.registerInternalService({name:"ClientInfoService",serviceFactory:function(t){return new Yv}});var Zv=(iy.prototype.doCollect=function(){return qd(this,void 0,void 0,function(){var e,n,r;return Jd(this,function(t){switch(t.label){case 0:if(this.cache)return[3,6];this.cache={},t.label=1;case 1:return t.trys.push([1,5,,6]),null==(e=p.instance().getService("ClientInfoService"))?[3,3]:(n=this.cache,r=this.key,[4,e.getAaid()]);case 2:return n[r]=t.sent(),[3,4];case 3:console.log("clientInfoUtil is null"),t.label=4;case 4:return[3,6];case 5:return r=t.sent(),console.log(r),[3,6];case 6:return[2,this.cache]}})})},new iy),ty=(oy.prototype.doCollect=function(){return this.cache||(this.cache=Zd.hiClientProperty.generateUserCommonProperty()),this.cache},new oy),ey=Math.min,ny=[].push,ry=!Tl(function(){RegExp(4294967295,"y")});function oy(){this.key="deviceConfig",this.cache=null}function iy(){this.key=nv,this.cache=null}Ct("split",2,function(o,i,d,g){var v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!mg(t))return d.call(n,t,e);for(var r,o,i,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,a+"g");(r=cg.call(f,n))&&!((o=f.lastIndex)>c&&(s.push(n.slice(c,r.index)),1<r.length&&r.index<n.length&&ny.apply(s,r.slice(1)),i=r[0].length,c=o,s.length>=u));)f.lastIndex===r.index&&f.lastIndex++;return c===n.length?!i&&f.test("")||s.push(""):s.push(n.slice(c)),s.length>u?s.slice(0,u):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)}:d;return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):v.call(String(n),t,e)},function(t,e){var n=g(v,t,this,e,v!==d);if(n.done)return n.value;var r=_l(t),o=String(this),n=Jp(r,RegExp),i=r.unicode,t=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(ry?"y":"g"),s=new n(ry?r:"^(?:"+r.source+")",t),a=void 0===e?4294967295:e>>>0;if(0==a)return[];if(0===o.length)return null===zd(s,o)?[o]:[];for(var c=0,u=0,f=[];u<o.length;){s.lastIndex=ry?u:0;var l,h=zd(s,ry?o:o.slice(u));if(null===h||(l=ey(ih(s.lastIndex+(ry?0:u)),o.length))===c)u=Yd(o,u,i);else{if(f.push(o.slice(c,u)),f.length===a)return f;for(var p=1;p<=h.length-1;p++)if(f.push(h[p]),f.length===a)return f;u=c=l}}return f.push(o.slice(c)),f}]});var sy=(vy.prototype.doCollect=function(){var t,e;return this.cache||(e=(t=p.instance().config()).service.analytics.collector_url,this.cache={productId:t.client.product_id,appId:t.client.app_id,clientId:t.client.client_id,packageName:t.client.app_id,resourceId:t.service.analytics.resource_id,analyticsUrl:"https://"+e.split(",")[0]+"/webv3"}),this.cache},new vy),ay=(gy.prototype.doCollect=function(){return qd(this,void 0,void 0,function(){var e;return Jd(this,function(t){switch(t.label){case 0:return this.cache?[3,2]:(this.cache={},null===(e=p.instance().getService("CredentialsService"))?[3,2]:[4,e.getToken()]);case 1:e=t.sent(),this.cache[this.key]=e.tokenString,t.label=2;case 2:return[2,this.cache]}})})},new gy),cy=(dy.prototype.init=function(){sv.init(),Iv.init(sv)},dy.prototype.onEvent=function(){},new dy),uy=(py.prototype.setAnalyticsEnabled=function(t){Iv.setAnalyticsEnabled(t)},py.prototype.setUserId=function(t){mv.setUserId(t)},py.prototype.setUserProfile=function(t,e){iv.setUserProfile(t,e)},py.prototype.setSessionDuration=function(t){Number.isInteger(t)&&mv.setSessionDuration(t)},py.prototype.onEvent=function(t,e){Iv.onEvent(t,e,!1,!1,!1,{"ha-sdk-service":this.serviceTag})},py),fy=[].slice,ly={},hy=Function.bind||function(e){var n=Jl(this),r=fy.call(arguments,1),o=function(){var t=r.concat(fy.call(arguments));return this instanceof o?function(t,e,n){if(!(e in ly)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";ly[e]=Function("F,a","return new F("+r.join(",")+")")}return ly[e](t,n)}(n,t.length,t):Yp(n,t,e)};return wl(n.prototype)&&(o.prototype=n.prototype),o};function py(t,e){this.tag=t,this.serviceTag=e,_v.init([ty,sy,Zv,ay],[cy]),iv.init(),mv.init(),mv.generateSessionId();t=Qd.collect(nv),e=Qd.collect(rv);Promise.all([t,e]).then(function(t){iv.addConfig("aaid",t[0][nv]);var e=iv.generateClientKey("ha");sv.dealFirstOpenEvent(e,t[0][nv],Iv),iv.addConfig("sdkToken",t[1][rv])}).catch(function(){console.log("failed to get info")})}function dy(){}function gy(){this.key=rv,this.cache=null}function vy(){this.key="serverConfig",this.cache=null}uh(uh.P,"Function",{bind:hy});var yy=ue(!1),my=[].indexOf,Sy=!!my&&1/[1].indexOf(1,-0)<0;uh(uh.P+uh.F*(Sy||!rd(my)),"Array",{indexOf:function(t){return Sy?my.apply(this,arguments)||0:yy(this,t,arguments[1])}}),Ct("match",1,function(r,o,c,u){return[function(t){var e=r(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},function(t){var e=u(c,t,this);if(e.done)return e.value;var n=_l(t),r=String(this);if(!n.global)return zd(n,r);for(var o=n.unicode,i=[],s=n.lastIndex=0;null!==(a=zd(n,r));){var a=String(a[0]);""===(i[s]=a)&&(n.lastIndex=Yd(r,ih(n.lastIndex),o)),s++}return 0===s?null:i}]});var Ey,Iy,hy=(Ay.prototype.saveClientValue=function(t,e,n,r,o,i){var s=new Date;n&&s.setTime(s.getTime()+n),document.cookie=t+"="+encodeURIComponent(e)+(n?";expires="+s.toUTCString():"")+";path="+(r||"/")+(o?";domain="+o:"")+(i?";secure":"")},Ay.prototype.getClientValue=function(t){t=new RegExp("(^|;)[ ]*"+t+"=([^;]*)").exec(document.cookie);return t?decodeURIComponent(t[2]):""},Ay.prototype.getReferrer=function(){return document&&document.referrer},Ay.prototype.getHref=function(){return window&&window.location.href},Ay.prototype.getHost=function(){return window&&window.location.host},Ay.prototype.getDefaultTitle=function(){return document&&document.title},Ay.prototype.getUAType=function(){var t=navigator.userAgent;return t.match(/AppleWebKit.*Mobile.*/)?-1!==t.indexOf(" wv")?2:1:0},Ay),ue=(Kd(Py,Iy=hy),Py.prototype.initAutoEvents=function(t){this.attachEventListener(window,"DOMContentLoaded",t.reportPageEntryEvent.bind(t)),this.attachEventListener(window,"beforeunload",t.reportPageExitEvent.bind(t)),this.attachEventListener(window,"load",t.computeLoadTime.bind(t)),this.attachEventListener(document,"visibilitychange",t.stateChanged.bind(t))},Py.prototype.isKeyExist=function(t){return!!this.getClientValue(t)},Py.prototype.dealFirstOpenEvent=function(t,e,n){e&&this.saveClientValue(t,e,31536e6,"/")},Py.prototype.attachEventListener=function(t,e,n){var r=this;t.attachEvent?t.attachEvent("on"+e,function(){n.apply(r)}):t.addEventListener(e,function(){n.apply(r)},!1)},new Py),rd=(Ty.prototype.onEvent=function(t,e,n){var r=n&&n.mode;this.url=n&&n.url,r&&this.sendFun[r]?this.sendFun[r].call(this,t,e,n):this.smartSend(t,e,n)},Ty.prototype.smartSend=function(t,e,n){"undefined"!=typeof fetch?this.sendByBeacon(t,e):window.XMLHttpRequest?this.sendByAjax(t,e,n):this.sendByImg(t,e,n)},Ty.prototype.sendByBeacon=function(t,e){"undefined"!=typeof fetch&&(e=new Headers(e),fetch(this.url,{method:"POST",body:JSON.stringify(t),headers:e}))},Ty.prototype.sendByAjax=function(t,e,n){if(void 0===e&&(e={}),window.XMLHttpRequest&&this.url){var r=new XMLHttpRequest;if(n&&"get"===String(n.method).toLocaleLowerCase()){for(var o in r.open("GET",this.url+"?"+t,!0),e)r.setRequestHeader(o,e[o]);r.send()}else{n=n&&n.async;for(o in r.open("POST",this.url,n),e)r.setRequestHeader(o,e[o]);r.send(JSON.stringify(t))}}},Ty.prototype.sendByImg=function(t,e,n){},Ty.prototype.setUrl=function(t){this.url=t},new Ty),Ct=(_y.prototype.getBrowserInfo=function(){var t,e={},n=navigator.userAgent.toLowerCase();return(t=n.match(/edge\/([\d.]+)/))?e.edge=t[1]:(t=n.match(/rv:([\d.]+)\) like gecko/))||(t=n.match(/msie ([\d.]+)/))?e.ie=t[1]:(t=n.match(/firefox\/([\d.]+)/))?e.firefox=t[1]:(t=n.match(/chrome\/([\d.]+)/))?e.chrome=t[1]:(t=n.match(/opera.([\d.]+)/))?e.opera=t[1]:(t=n.match(/version\/([\d.]+).*safari/))&&(e.safari=t[1]),e.chrome?{broswer:"Chrome",version:e.chrome}:e.opera?{broswer:"Opera",version:e.opera}:e.safari?{broswer:"Safari",version:e.safari}:e.edge?{broswer:"Edge",version:e.edge}:e.ie?{broswer:"IE",version:e.ie}:e.firefox?{broswer:"Firefox",version:e.firefox}:{broswer:"",version:"0"}},_y.prototype.generateUserCommonProperty=function(){var t=navigator.language.split("-").join("_").toLocaleUpperCase();return{_model:"",_lib_ver:"5.0.4-303",_lib_name:"hianalytics",_sys_language:t,_os:"",_os_ver:"",_screen_height:window&&window.screen.height||0,_screen_width:window&&window.screen.width||0,_browser:this.getBrowserInfo().broswer,_browser_version:this.getBrowserInfo().version,_browser_language:t,_package_name:""}},new _y),hy=(Kd(wy,Ey=hy),wy.prototype.getSessionValue=function(t){return t?this.sessionValue:this.getClientValue(this.sessionId)},wy.prototype.setSessionDuration=function(t){Number.isInteger(t)&&(this.sessionDuration=t)},wy.prototype.setSessionId=function(t){this.sessionId=t},wy.prototype.handleSessionId=function(t,e){t&&(this.sessionId=t),e&&(this.sessionValue=e),this.getSessionValue()?this.sessionValue=e||this.getSessionValue():this.sessionValue=yv.create()+"_"+(new Date).getTime(),this.saveClientValue(this.sessionId,this.sessionValue,this.sessionDuration,"/")},new wy);function wy(){var t=Ey.call(this)||this;return t.sessionDuration=18e5,t.sessionValue="",t.sessionId="",t}function _y(){}function Ty(){this.url="",this.sendFun={},this.sendFun[zg.AJAX]=this.sendByAjax,this.sendFun[zg.BEACON]=this.sendByBeacon,this.sendFun[zg.IMG]=this.sendByImg}function Py(){return Iy.call(this)||this}function Ay(){}Zd.setHiSendData(rd),Zd.setHiLog(jg),Zd.setHiAutoReport(ue),Zd.setHiStorage(hy),Zd.setHiClientProperty(Ct);var by=(Ry.prototype.getInstance=function(t,e){if(this.connectors.has(t))return this.connectors.get(t);e=new uy(t,e);return this.connectors.set(t,e),e},Ry),ky=new c(function(){return new by}),hy={EventName:yl,ParamName:Sl};function Ry(){this.connectors=new Map}p.registerApiProvider("analyticsConnector",function(){return ky.get()},hy);function Cy(t){return t&&"number"==typeof t?Math.ceil(t):0===t||t?t:-1}function Oy(t){return Array.isArray(t)?t.map(function(t){return(Array.isArray(t)?Oy:Cy)(t)}):t}function Ny(t,e,n){var r="",o=e,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];t&&(o=Math.round(Math.random()*(n-e))+e);for(var s=0;s<o;s++)r+=i[Math.round(Math.random()*(i.length-1))];return r}function xy(t,e){return new RegExp(e).test(t),RegExp.$1}function Uy(t,e){return e?t-e:null}function My(t,e){return t=t.map(function(t){return[e?e+t.startTime:t.timestamp,t.url,t.startTime,t.initiatorType,t.name,t.duration,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.secureConnectionStart,t.requestStart,t.responseStart,t.responseEnd,t.transferSize||0,t.encodedBodySize||0,t.decodedBodySize||0]}),Oy(t)}function Ly(t,e,n){var r,o=2===(p=1,"function"!=typeof(h=t).getEntriesByType||(h=h.getEntriesByType("navigation"))&&h.length&&(p=2),p),i=t.getEntriesByType("navigation")[0],s=t.getEntriesByType("paint"),a=[(d=t.timing).responseEnd,o&&s&&s[0]?s[0].startTime:d.responseStart-d.navigationStart,o&&s&&s[1]?s[1].startTime:d.responseStart-d.navigationStart,o?i.domInteractive:d.domContentLoadedEventStart-d.fetchStart,function(t){t=t.apmSdk.i;return t&&t.delay?Cy(t.delay.v):null}(e),o?i.domContentLoadedEventEnd:d.domContentLoadedEventEnd-d.responseEnd,o?i.loadEventStart-i.domContentLoadedEventEnd:d.loadEventStart-d.domContentLoadedEventEnd,o?i.loadEventEnd-i.responseEnd:d.loadEventEnd-d.responseEnd,function(t,e,n){for(var r=t.innerHeight,o=[],i=e.getElementsByTagName("img"),s=0;s<i.length;s++)Dy(i[s])<r&&o.push(i[s]);var a=n.getEntriesByType("resource").filter(function(t){return"img"===t.initiatorType}).filter(function(t){return o.map(function(t){return t.src}).includes(t.name)}),t=Math.max.apply(Math,v(a.map(function(t){return t.responseEnd}))),e=n.getEntriesByType("navigation"),a=0;return(a=e&&e.length?n.getEntriesByType("navigation")[0].domInteractive:(n=n.timing).domInteractive-n.navigationStart)<t?t:a}(e,n,t),o?i.loadEventEnd:d.loadEventEnd-d.navigationStart],c=[d.fetchStart,o?i.domainLookupEnd-i.domainLookupStart:d.domainLookupEnd-d.domainLookupStart,o?i.connectEnd-i.connectStart:d.domainLookupEnd-d.domainLookupStart,o?Uy(i.connectEnd,i.secureConnectionStart):Uy(d.connectEnd,d.secureConnectionStart),o?i.responseEnd-i.requestStart:d.responseEnd-d.requestStart,o?i.requestStart-i.connectEnd+i.connectStart-i.domainLookupEnd+i.domainLookupStart-i.fetchStart:d.requestStart-d.connectEnd+d.connectStart-d.domainLookupEnd+d.domainLookupStart-d.fetchStart,o?i.responseStart-i.fetchStart:d.responseStart-d.fetchStart,o?i.responseEnd-i.responseStart:d.responseEnd-d.responseStart,o?i.transferSize:null],u=e.apmSdk.e,f=e.navigator,l=e.location,h=f.appName,p=f.appCodeName,t=(s=f.appVersion,/opera/i.test(s)||/OPR/i.test(s)?(g=xy(s,"OPR/(\\d+\\.+\\d+)"),"Opera/".concat(g)):/compatible/i.test(s)&&/MSIE/i.test(s)?(g=xy(s,"MSIE (\\d+\\.+\\d+)"),"IE/".concat(g)):/Edge/i.test(s)?(g=xy(s,"Edge/(\\d+\\.+\\d+)"),"Edge/".concat(g)):/Firefox/i.test(s)?(g=xy(s,"Firefox/(\\d+\\.+\\d+)"),"Firefox/".concat(g)):/Safari/i.test(s)&&!/Chrome/i.test(s)?(g=xy(s,"Safari/(\\d+\\.+\\d+)"),"Safari/".concat(g)):/Chrome/i.test(s)&&/Safari/i.test(s)?(g=xy(s,"Chrome/(\\d+\\.+\\d+)"),"Chrome/".concat(g)):window.ActiveXObject||"ActiveXObject"in window?"IE/".concat(g=11):void 0),d=f.platform,o=f.cookieEnabled,i=f.userAgent,e=l.href,s=l.protocol,g=l.hostname,l="serviceWorker"in f,f=f.connection?f.connection.effectiveType:"",n=n.visibilityState;return r={website:a,network:c,resources:[],error:u,browser:[h,p,t,d,o,i,e,s,g,l,f,n],agent_version:"1.0.0",agent_type:"web"},Object.entries(r).forEach(function(t){r[t[0]]=Oy(t[1])}),r}var Dy=function t(e){var n=e.offsetTop;return e.offsetParent&&(n+=t(e.offsetParent)),n},jy=function(t,i,e){var s=e.location;t("error",function(t){t=t.target;t!==e&&i[0].push([s.href,(new Date).getTime(),t.src||t.href])},!0),t("unhandledrejection",function(t){i[1].push([s.href,(new Date).getTime(),String(t.reason)])}),e.onerror=function(t,e,n,r,o){i[2].push([s.href,(new Date).getTime(),e,o&&o.stack?o.stack:t,n,r])}},Fy=function(d,g,v,t){t("load",function(){var t,e,n,r=d.agconnect;r&&(t=(n=r.instance().config().client).cp_id,e=n.product_id,r=n.client_id,n=n.app_id,d.apmSdk.p=[t,e,r,n]),setTimeout(function(){var t=d.performance,e=d.apmSdk,n=e.u,r=e.x,o=e.p,i=d.location.href,e=t.getEntriesByType("resource");e.forEach(function(t){t.url=i,t.timestamp=(new Date).getTime()});var s,a,c,u,f,l,h,p,e=My(e,t.timing.fetchStart),t=Jy(d,g);t.resources=e,t.visitKey=n,t.traces=Object.assign([],r),t.platform=o,localStorage.setItem("cpt",(new Date).getTime()),Yy(t,d),a=g,c=v,t=(s=d).apmSdk,u=t.r,f=t.u,l=t.x,h=t.p,p=s.location,new PerformanceObserver(function(t){var e=localStorage.getItem("cpt"),n=(new Date).getTime();e&&144e5<n-e&&(s.apmSdk.u="visit#".concat(Ny(!1,10))),localStorage.setItem("cpt",(new Date).getTime()),t.getEntriesByType("resource").forEach(function(t){var e;t.timestamp=(new Date).getTime(),t.url=p.href,u.push(t),u.length>=c&&(e=My(u),(t=Jy(s,a)).visitKey=f,t.website=null,t.network=null,t.resources=e,t.traces=l,t.platform=h,Yy(t,s))})}).observe({entryTypes:["resource"]})},2e3)}),t("beforeunload",function(){var t=d.apmSdk,e=t.r,n=t.u,r=t.x,o=t.p,t=Jy(d,g),e=My(e);t.resources=e,t.website=null,t.network=null,t.visitKey=n,t.traces=r,t.platform=o,localStorage.removeItem("cpt"),Yy(t,d)})},Vy="TRACE",$y="TRACE-START",Hy="TRACE-STOP",By="TRACE-MEASURE",Gy=1,Wy=/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,Ky=function(){function r(t,e,n){if(!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),"string"!=typeof t)throw Error("Trace name must be string.");this.performance=e,this.randomId=Math.floor(1e6*Math.random()),this.name="".concat(Vy,"-").concat(t),this.traceStartMark="".concat($y,"-").concat(this.randomId,"-").concat(t),this.traceStopMark="".concat(Hy,"-").concat(this.randomId,"-").concat(t),this.traceMeasure="".concat(By,"-").concat(this.randomId,"-").concat(t),this.w=n,this.status=Gy,this.metrics=[],this.attributes=[],this.duration=null,this.startTime=null,this.traceArr=[this.startTime,this.name,this.randomId,this.duration,this.attributes,this.metrics]}var t,e,n;return t=r,(e=[{key:"start",value:function(){this.status===Gy&&(this.status=2,this.performance.mark(this.traceStartMark),this.startTime=(new Date).getTime())}},{key:"stop",value:function(){2===this.status&&(this.status=3,this.performance.mark(this.traceStopMark),this.performance.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculate())}},{key:"calculate",value:function(){var t=this.performance.getEntriesByName(this.traceMeasure);t&&t.length&&(this.duration=t[0].duration),this.traceArr[0]=this.startTime,this.traceArr[3]=Cy(this.duration),this.w.apmSdk.x.push(this.traceArr)}},{key:"setMetric",value:function(e,t){if("string"!=typeof e)throw Error("Trace metric key must be string.");if(40<e.length)throw Error("Trace metric key length must less or equal than 40.");if("number"!=typeof t)throw Error("Trace metric value must be number.");if(100<String(t).length)throw Error("Trace metric value length must less or equal than 100.");if(!Wy.test(e))throw Error("Trace metric key can contain only cn or en or number or _");var n=this.metrics.map(function(t){return Object.keys(t)[0]});return n.some(function(t){return t===e})?(n=n.indexOf(e),this.metrics[n][e]=Cy(t)):this.metrics.push(i({},e,Cy(t))),this}},{key:"getMetric",value:function(e){if("string"!=typeof e)throw Error("Trace metric key must be string.");var t=this.metrics.find(function(t){return Object.keys(t)[0]===e});return t?t[e]:void 0}},{key:"getMetrics",value:function(){return this.metrics}},{key:"setAttribute",value:function(e,t){if("string"!=typeof e)throw Error("Trace attribute key must be string.");if(40<e.length)throw Error("Trace attribute key length must less or equal than 40.");if("string"!=typeof t)throw Error("Trace attribute value must be string.");if(100<t.length)throw Error("Trace attribute value length must less or equal than 100.");if(this.attributes.length&&4<this.attributes.length)throw Error("Length of attribute in trace must less or equal than 5.");if(!Wy.test(e))throw Error("Trace attribute key can contain only cn or en or number or _");var n=this.attributes.map(function(t){return Object.keys(t)[0]});return n.some(function(t){return t===e})?(n=n.indexOf(e),this.attributes[n][e]=t):this.attributes.push(i({},e,t)),this}},{key:"getAttribute",value:function(e){if("string"!=typeof e)throw Error("Trace attribute key must be string.");var t=this.attributes.find(function(t){return Object.keys(t)[0]===e});return t?t[e]:void 0}},{key:"getAttributes",value:function(){return this.attributes}}])&&o(t.prototype,e),n&&o(t,n),r}(),Ct=function(n,t,e,r){var o,i=n.perfMetrics;i&&"function"==typeof i.onFirstInputDelay?i.onFirstInputDelay(function(t,e){e={delay:{n:"first input delay",v:t},stay:{n:"stay no input",v:e.timeStamp}};n.apmSdk.i=e}):console.warn("first input delay not include."),qy(n,e),o=t,i=r,t=(e=n).addEventListener,r=e.apmSdk.e,jy(t,r,e),Fy(e,o,i,t);var s=n.performance;n.APM={},n.APM.createTrace=function(t){if("string"!=typeof t)throw Error("TraceName must be string.");if(!Wy.test(t))throw Error("TraceName can contain only cn or en or number or _");if(40<t.length)throw Error("TraceName length must less or equal than 40.");return new Ky(t,s,n)},n.agconnect=p,n.APM.enable=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if("boolean"!=typeof t)throw new Error("param type must be boolean.");n.apmSdk.g=t}},qy=function(t,e){t.apmSdk.t=e,t.apmSdk.a=[],t.apmSdk.i={},t.apmSdk.u="visit#".concat(Ny(!1,10)),t.apmSdk.e=[[],[],[]],t.apmSdk.r=[],t.apmSdk.x=[],t.apmSdk.p=[],t.apmSdk.h={},t.apmSdk.g=!0,new PerformanceObserver(function(t){t.getEntriesByType("resource").forEach(function(e){var t;"script"!==e.initiatorType||(t=v(document.scripts).find(function(t){return t.src===e.name}))&&t.setAttribute("crossorigin","anonymous")})}).observe({entryTypes:["resource"]})},Jy=function(t,e){if(!t||!t.performance)return[];var n=t.performance;return Ly(n,t,e)},Yy=function(t,r){var e,n,o;r.apmSdk.g?(o=t,new Promise(function(t){window.agconnect.analyticsConnector().getInstance("apms","com.huawei.agconnect.apms").onEvent("event",o),t()}).then(function(){var t=r.apmSdk,e=t.r,n=t.e,t=t.x;n[e.length=0].length=0,n[1].length=0,n[2].length=0,t.length=0}).catch(function(t){console.error(t)})):(e=(n=r.apmSdk).r,t=n.e,n=n.x,t[e.length=0].length=0,t[1].length=0,t[2].length=0,n.length=0)};function zy(a,c){var n,r,o,e=[],u={passive:!0,capture:!0},t=new Date,f="pointerup",l="pointercancel";function h(t,e){n||(n=e,r=t,o=new Date,p(c),i())}function i(){0<=r&&r<o-t&&(e.forEach(function(t){t(r,n)}),e=[])}function s(t){var e,n,r;function o(){h(n,r),s()}function i(){s()}function s(){c(f,o,u),c(l,i,u)}t.cancelable&&(e=(1e12<t.timeStamp?new Date:performance.now())-t.timeStamp,"pointerdown"==t.type?(n=e,r=t,a(f,o,u),a(l,i,u)):h(e,t))}function p(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(t){e(t,s,u)})}p(a),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(t){e.push(t),i()}}c=window,hy=document,c&&c.performance?1<Object.keys(c.apmSdk).length&&c.apmSdk.t||(zy(c.addEventListener,c.removeEventListener),Ct(c,hy,1,20)):console.error("Browser does not support Performance API, apmSdk unitialization failure."),t.m=function(){},Object.defineProperty(t,"__esModule",{value:!0})});
