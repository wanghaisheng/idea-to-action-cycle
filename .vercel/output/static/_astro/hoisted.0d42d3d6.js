import{c as lu,f as Co}from"./solid.8a95f544.js";import{a as fu}from"./dom.54c34b5f.js";var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wo=new(function(){function t(){this.servicesIdentifierMap=new Map,this.registeredService=new Map}return t.prototype.registryService=function(e){var n=e.name;this.registeredService.has(n)||this.registeredService.set(n,e)},t.prototype.unregistryService=function(e){},t.prototype.getService=function(e,n,r){r===void 0&&(r="[DEFAULT_CATEGORY]");var i=this.servicesIdentifierMap.get(r);if(i==null)i=new Map,this.servicesIdentifierMap.set(r,i);else if((s=i.get(e))!=null)return s;var o=this.registeredService.get(e);if(o!=null){var s=o.serviceFactory(n);return i.set(e,s),s}return null},t}()),ee=new(function(){function t(){}return t.prototype.registerApiProvider=function(e,n,r){this[e]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n(i)},r!=null&&function i(o,s){if(!(s instanceof Object))return s;switch(s.constructor){case Array:o=[];break;case Object:o===void 0&&(o={});break;case Date:return new Date(s.getTime());default:return s}for(var a in s)s.hasOwnProperty(a)&&(o[a]=i(o[a],s[a]));return o}(this[e],r)},t.prototype.registerInternalService=function(e){wo.registryService(e)},t.prototype.getService=function(e,n,r){return wo.getService(e,n,r)},t}()),_r="[DEFAULT_CATEGORY]",js=function(){function t(e){this.factory=e}return t.prototype.get=function(){return this.instance==null&&(this.instance=this.factory()),this.instance},t}(),hu=function(){function t(e){this.instanceMap={},this.factory=e}return t.prototype.get=function(e){if(e&&Array.isArray(e)&&e.length>=1)return this.instanceMap[e[0]]||(this.instanceMap[e[0]]=this.factory(e)),this.instanceMap[e[0]];var n=new Array;return n[0]="[DEFAULT_CATEGORY]",this.get(n)},t}(),bt,we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));var Ut=function(){function t(){var e=this;this.moduleName="",this.logLevel=we.VERBOSE,this.userLogProvider=null,this.logProvider=function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(!(r<e.logLevel)){var s=t.consoleType[r];if(!s)throw new Error("invalid logType: ".concat(r));console[s]("[Module:".concat(n,"] [").concat(new Date().toISOString(),"] | "),i.toString())}}}return t.createLogger=function(e){for(var n=0,r=t.logInstanceArray;n<r.length;n++){var i=r[n];if(i.moduleName==e)return i}var o=new t;return o.moduleName=e,t.logInstanceArray.push(o),o},t.prototype.setLogProvider=function(e){if(typeof e!="function")throw new Error("logProvider must be set as a function");this.logProvider=e},t.prototype.setUserLogProvider=function(e){this.userLogProvider=e},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(we.DEBUG,e)},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(we.VERBOSE,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(we.INFO,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(we.WARN,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(we.ERROR,e)},t.prototype.doLog=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.userLogProvider&&this.userLogProvider(this.moduleName,e,n),this.logProvider(this.moduleName,e,n)},t.consoleType=((bt={})[we.DEBUG]="log",bt[we.VERBOSE]="log",bt[we.SILENT]="log",bt[we.INFO]="info",bt[we.WARN]="warn",bt[we.ERROR]="error",bt),t.logInstanceArray=[],t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ys=function(t,e){return(Ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)},jr,Ao,F=function(t){function e(n,r,i){var o=this,s=n.code+e.COLON+n.message;return i&&(s=i+e.DASH+s),r&&(r.message?s=s+e.COMMA+r.message:typeof r=="string"&&(s=s+e.COMMA+r)),(o=t.call(this,s)||this).__proto__=e.prototype,o.code=n.code,o.message=n.message,r&&(r.message?o.message=n.message+e.COMMA+r.message:typeof r=="string"&&(o.message=n.message+e.COMMA+r)),o.msg=o.message,o}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}Ys(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,t),e.COLON=": ",e.COMMA=", ",e.DASH="-",e}(Error),j=function(){function t(){}return t.AGC_INNER_ERROR={code:1e4,message:"agc inner error"},t.NETWORK_REQUEST_ERROR={code:10001,message:"agc network request error"},t.GET_AAID_ERROR={code:10002,message:"agc get aaid error"},t.ABTEST_LOAD_EXPERIMENTS_ERROR={code:10003,message:"abtest load experiments error"},t.ABTEST_SAVE_EXPERIMENTS_ERROR={code:10004,message:"abtest save experiments error"},t.ABTEST_REPLACE_EXPERIMENTS_ERROR={code:10005,message:"abtest repalce experiments error"},t.FAIL_TO_GET_STORAGE_SERVICE={code:10006,message:"get agcStorage service failed"},t.FAIL_TO_GET_NETWORK_SERVICE={code:10007,message:"get agcNetwork service failed"},t.REMOVE_TOKEN_FAILED={code:10008,message:"remove client token faild"},t.GET_TOKEN_FAILED={code:10009,message:"get client token faild"},t.AGC_INIT_ERROR={code:10010,message:"AGCInstance init error"},t.FAIL_TO_GET_CRIDENTIAL_SERVICE={code:10011,message:"get agcCredential service failed"},t.WEBSOCKET_NOT_SUPPORT={code:10012,message:"websocket is not support"},t.WEBSOCKET_ERROR={code:10013,message:"websocket error"},t}(),Bt=Ut.createLogger("agconnectInstance"),du=function(){function t(e,n){this.appVersion="",this._config=null,this._customCredentialsProvider=null,this._customAuthProvider=null,this.cryptImpl=void 0,this.option=null,this.repo_=e,this.name_=n||_r}return t.prototype.name=function(){return this.name_},t.prototype.configInstance=function(e){return this._config=e,this},t.prototype.config=function(){return this.checkBeforeSetKey(),this._config},t.prototype.setApiKey=function(e){this.checkBeforeSetKey(),this._config.client.api_key=e},t.prototype.setClientSecret=function(e){this.checkBeforeSetKey(),this._config.client.client_secret=e},t.prototype.setClientId=function(e){this.checkBeforeSetKey(),this._config.client.client_id=e},t.prototype.getService=function(e){return this.repo_.getService(e,this,this.name_)},t.prototype.setCustomCredentialsProvider=function(e){return e?e.getToken?e.getToken.length!=1?(Bt.error("the customCredentialsProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customCredentialsProvider=e,!0):(Bt.error("the customCredentialsProvider must contain getToken method."),!1):(this._customCredentialsProvider=e,!0)},t.prototype.setCustomAuthProvider=function(e){return e?e.getToken?e.getToken.length!=1?(Bt.error("the customAuthProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customAuthProvider=e,!0):(Bt.error("the customAuthProvider must contain getToken method."),!1):(this._customAuthProvider=e,!0)},t.prototype.getCustomCredentialsProvider=function(){return this._customCredentialsProvider},t.prototype.getCustomAuthProvider=function(){return this._customAuthProvider},t.prototype.setCryptImp=function(e){return e?e.decrypt&&e.decrypt instanceof Function&&e.encrypt&&e.encrypt instanceof Function?(this.cryptImpl=e,!0):(Bt.error("the crypt is not exist necessary methods."),!1):(Bt.error("the crypt is not available."),!1)},t.prototype.setAppVersion=function(e){this.appVersion=e},t.prototype.setOption=function(e){this.option=e},t.prototype.addHttpToUrl=function(e){return e&&!e.startsWith("https://")?"https://"+e:e},t.prototype.getGwUrl=function(){return this.option!=null?this.option.routePolicy==1?this.addHttpToUrl(this._config.agcgw_all.CN):this.option.routePolicy==2?this.addHttpToUrl(this._config.agcgw_all.DE):this.option.routePolicy==3?this.addHttpToUrl(this._config.agcgw_all.RU):this.option.routePolicy==4?this.addHttpToUrl(this._config.agcgw_all.SG):this.addHttpToUrl(this._config.agcgw.url):this.addHttpToUrl(this._config.agcgw.url)},t.prototype.getGwBackUrl=function(){return this.option!=null?this.option.routePolicy==1?this.addHttpToUrl(this._config.agcgw_all.CN_back):this.option.routePolicy==2?this.addHttpToUrl(this._config.agcgw_all.DE_back):this.option.routePolicy==3?this.addHttpToUrl(this._config.agcgw_all.RU_back):this.option.routePolicy==4?this.addHttpToUrl(this._config.agcgw_all.SG_back):this.addHttpToUrl(this._config.agcgw.backurl):this.addHttpToUrl(this._config.agcgw.backurl)},t.prototype.getAppVersion=function(){return this.appVersion},t.prototype.getCryptImp=function(){return this.cryptImpl},t.prototype.checkBeforeSetKey=function(){if(this._config==null)throw new F(j.AGC_INIT_ERROR,{message:"AGCInstance not configurated. call agconnect.instance().configInstance() to configure the agconnect."},"instance");if(!this._config.agcgw||!this._config.client)throw new F(j.AGC_INIT_ERROR,{message:"AGCInstance config is invalid."},"instance")},t}(),gu=new hu(function(t){return new du(ee,t[0])});(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CHINA=1]="CHINA",t[t.GERMANY=2]="GERMANY",t[t.RUSSIA=3]="RUSSIA",t[t.SINGAPORE=4]="SINGAPORE"})(jr||(jr={})),Ao={AGCRoutePolicy:jr},ee.registerApiProvider("instance",function(t){return gu.get(t)},Ao);var Yr=function(){function t(){this.storage={}}return t.getInstance=function(e,n){return t.memoryInsMap.has(e)&&t.memoryInsMap.get(e)||t.memoryInsMap.set(e,new t),t.memoryInsMap.get(e)},t.prototype.get=function(e){return Promise.resolve(this.storage[e])},t.prototype.remove=function(e){return delete this.storage[e],Promise.resolve()},t.prototype.set=function(e,n){return this.storage[e]=n,Promise.resolve()},t.memoryInsMap=new Map,t}(),Yi=function(){function t(){this.encryptImpl=void 0}return t.prototype.setEncryptImp=function(e){this.encryptImpl=e},t.prototype.decrypt=function(e){return this.encryptImpl!=null&&this.encryptImpl!=null&&e!=null&&e!=null?this.encryptImpl.decrypt(e):e},t.prototype.encrypt=function(e){return this.encryptImpl!=null&&this.encryptImpl!=null&&e!=null&&e!=null?this.encryptImpl.encrypt(e):e},t}(),Io=function(){function t(){this.DB_NAME="agcLocalStorageDb",this.OBJECT_STORE_NAME="agc",this.KEY_PATH="agcStorage",this.VERSION=1,this.agcCryptImpl=new Yi}return t.getInstance=function(e,n){if(!window.indexedDB)throw Ut.createLogger("AGCStorageService").error("Your environment doesn't support a stable version of IndexedDB."),new F(j.FAIL_TO_GET_STORAGE_SERVICE,{message:"Your environment doesn't support a stable version of IndexedDB."});t.indexedDBInsMap.has(e)&&t.indexedDBInsMap.get(e)||t.indexedDBInsMap.set(e,new t);var r=t.indexedDBInsMap.get(e);return r.agcCryptImpl.setEncryptImp(n),r},t.prototype.initIndexedDb=function(e){var n=this;return window.indexedDB?new Promise(function(r,i){var o=window.indexedDB.open(n.DB_NAME,n.VERSION),s=n;o.onupgradeneeded=function(a){var u=a.target.result;try{u.objectStoreNames.contains(s.OBJECT_STORE_NAME)||u.createObjectStore(s.OBJECT_STORE_NAME,{keyPath:s.KEY_PATH})}catch(l){i(l)}},o.onsuccess=function(a){try{r(a.target.result.transaction([s.OBJECT_STORE_NAME],e).objectStore(s.OBJECT_STORE_NAME))}catch(u){i(u)}},o.onerror=function(a){i(a.target.error)}}):Promise.reject(new F(j.FAIL_TO_GET_STORAGE_SERVICE,{message:"Your environment doesn't support a stable version of IndexedDB."},"storage"))},t.prototype.get=function(e){if(!e)return Promise.reject(new Error("get key is null"));var n=this;return this.initIndexedDb("readonly").then(function(r){return new Promise(function(i,o){try{var s=r.get(e);s.onsuccess=function(){var a=s.result;i(a!=null&&"value"in a?n.agcCryptImpl.decrypt(a.value):a)},s.onerror=function(a){o(a.target.error)}}catch(a){o(a)}})}).catch(function(r){return Promise.reject(r)})},t.prototype.set=function(e,n){if(!e||!n)return Promise.reject(new Error("set key or value is null"));var r={},i={};r[this.KEY_PATH]=e,i.value=this.agcCryptImpl.encrypt(n);var o=Object.assign(i,r);return this.initIndexedDb("readwrite").then(function(s){try{var a=s.get(e);return a.onsuccess=function(){var u=a.result,l=u!=null&&"value"in u?s.put(o):s.add(o);l.onsuccess=function(){return Promise.resolve()},l.onerror=function(c){return Promise.reject(c.target.error)}},a.onerror=function(u){return Promise.reject(u.target.error)},Promise.resolve()}catch(u){return Promise.reject(u)}}).catch(function(s){return Promise.reject(s)})},t.prototype.remove=function(e){return e?this.initIndexedDb("readwrite").then(function(n){try{var r=n.delete(e);return r.onsuccess=function(){return Promise.resolve()},r.onerror=function(i){return Promise.reject(i.target.error)},Promise.resolve()}catch(i){return Promise.reject(i)}}).catch(function(n){return Promise.reject(n)}):Promise.reject(new Error("remove key is null"))},t.indexedDBInsMap=new Map,t}(),Po=function(){function t(){this.agcCryptImpl=new Yi}return t.getInstance=function(e,n){if(!t.isSessionStorageAvailable())throw Ut.createLogger("AGCStorageService").error("Your environment doesn't support a stable version of sessionStorage."),new F(j.FAIL_TO_GET_STORAGE_SERVICE,{message:"Your environment doesn't support a stable version of sessionStorage."});!t.sessionMap.has(e)&&t.sessionMap.get(e)||t.sessionMap.set(e,new t);var r=t.sessionMap.get(e);return r.agcCryptImpl.setEncryptImp(n),r},t.isSessionStorageAvailable=function(){try{return sessionStorage.setItem("agctestKey","testValue"),sessionStorage.removeItem("agctestKey"),!0}catch{return!1}},t.prototype.get=function(e){if(!e)return Promise.reject(new Error("key is null"));try{var n=sessionStorage.getItem(e);return Promise.resolve(n===""?null:this.agcCryptImpl.decrypt(n))}catch(r){return Promise.reject(r)}},t.prototype.set=function(e,n){if(!e||!n)return Promise.reject(new Error("key or value is null"));try{return sessionStorage.setItem(e,this.agcCryptImpl.encrypt(n)),Promise.resolve()}catch(r){return Promise.reject(r)}},t.prototype.remove=function(e){if(!e)return Promise.reject(new Error("key is null"));try{return sessionStorage.removeItem(e),Promise.resolve()}catch(n){return Promise.reject(n)}},t.sessionMap=new Map,t}(),qn=function(){function t(){this.agcCryptImpl=new Yi}return t.getInstance=function(e,n){t.MiniProgramStorageMap.has(e)&&t.MiniProgramStorageMap.get(e)||t.MiniProgramStorageMap.set(e,new t);var r=t.MiniProgramStorageMap.get(e);return r.agcCryptImpl.setEncryptImp(n),r},t.prototype.get=function(e){var n=this;return new Promise(function(r,i){try{wx.getStorage({key:e,success:function(o){r(o?n.agcCryptImpl.decrypt(o.data):void 0)},fail:function(o){r(void 0)}})}catch(o){i(o)}})},t.prototype.set=function(e,n){var r=this;return new Promise(function(i,o){try{wx.setStorage({key:e,data:r.agcCryptImpl.encrypt(n),success:function(){i()},fail:function(s){o(s)}})}catch(s){o(s)}})},t.prototype.remove=function(e){return new Promise(function(n,r){try{wx.removeStorage({key:e,success:function(){n()},fail:function(i){r(i)}})}catch(i){r(i)}})},t.MiniProgramStorageMap=new Map,t}(),zn=typeof wx=="object",vu=function(){function t(e){this.name=_r,e&&(this.name=e)}return t.prototype.getStorageInstance=function(e,n){var r;if(zn)return qn.getInstance(this.name,n);switch(e){case 2:r=Yr.getInstance(this.name,n);break;case 0:r=Io.getInstance(this.name,n);break;case 1:r=Po.getInstance(this.name,n);break;default:r=Yr.getInstance(this.name,n)}return r},t.prototype.createPersistentStorage=function(){return zn?qn.getInstance(this.name):Io.getInstance(this.name)},t.prototype.createTemporaryStorage=function(){return zn?qn.getInstance(this.name):Po.getInstance(this.name)},t.prototype.createMemoryStorage=function(){return zn?qn.getInstance(this.name):Yr.getInstance(this.name)},t}();ee.registerInternalService({name:"AGCStorageService",serviceFactory:function(t){return new vu(t.name())}});var wi={exports:{}};/*!@license
 * UAParser.js v0.7.28
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */(function(t,e){(function(n,r){var i="0.7.28",o="",s="?",a="function",u="undefined",l="object",c="string",d="major",p="model",v="name",f="type",g="vendor",E="version",P="architecture",L="console",w="mobile",$="tablet",le="smarttv",Oe="wearable",be="embedded",qe=255,fe={extend:function(M,V){var x={};for(var m in M)V[m]&&V[m].length%2===0?x[m]=V[m].concat(M[m]):x[m]=M[m];return x},has:function(M,V){return typeof M===c?V.toLowerCase().indexOf(M.toLowerCase())!==-1:!1},lowerize:function(M){return M.toLowerCase()},major:function(M){return typeof M===c?M.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(M,V){return M=M.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof V===u?M:M.substring(0,qe)}},me={rgx:function(M,V){for(var x=0,m,A,Q,b,G,B;x<V.length&&!G;){var he=V[x],K=V[x+1];for(m=A=0;m<he.length&&!G;)if(G=he[m++].exec(M),G)for(Q=0;Q<K.length;Q++)B=G[++A],b=K[Q],typeof b===l&&b.length>0?b.length==2?typeof b[1]==a?this[b[0]]=b[1].call(this,B):this[b[0]]=b[1]:b.length==3?typeof b[1]===a&&!(b[1].exec&&b[1].test)?this[b[0]]=B?b[1].call(this,B,b[2]):r:this[b[0]]=B?B.replace(b[1],b[2]):r:b.length==4&&(this[b[0]]=B?b[3].call(this,B.replace(b[1],b[2])):r):this[b]=B||r;x+=2}},str:function(M,V){for(var x in V)if(typeof V[x]===l&&V[x].length>0){for(var m=0;m<V[x].length;m++)if(fe.has(V[x][m],M))return x===s?r:x}else if(fe.has(V[x],M))return x===s?r:x;return M}},se={browser:{oldSafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{"0.1":"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},Ce={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[v,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[v,E],[/opios[\/\s]+([\w\.]+)/i],[E,[v,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[E,[v,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[v,E],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[E,[v,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[E,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[E,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[v,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[E,[v,"IE"]],[/yabrowser\/([\w\.]+)/i],[E,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure Browser"],E],[/focus\/([\w\.]+)/i],[E,[v,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[E,[v,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[E,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[v,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[E,[v,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[E,[v,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[v,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 Browser"],E],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],E],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[v,E],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[v],[/;fbav\/([\w\.]+);/i],[E,[v,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[v,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[v,E],[/\bgsa\/([\w\.]+)\s.*safari\//i],[E,[v,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[E,[v,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[v,"Chrome WebView"],E],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[E,[v,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[v,E],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[E,[v,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[E,v],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[v,[E,me.str,se.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[v,E],[/(navigator|netscape)\/([\w\.-]+)/i],[[v,"Netscape"],E],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[E,[v,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[v,E]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,fe.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[P,/ower/,"",fe.lowerize]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,fe.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[p,[g,"Samsung"],[f,$]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[p,[g,"Samsung"],[f,w]],[/\((ip(?:hone|od)[\s\w]*);/i],[p,[g,"Apple"],[f,w]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,"Apple"],[f,$]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[p,[g,"Huawei"],[f,$]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[p,[g,"Huawei"],[f,w]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[p,/_/g," "],[g,"Xiaomi"],[f,w]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[p,/_/g," "],[g,"Xiaomi"],[f,$]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[p,[g,"OPPO"],[f,w]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[p,[g,"Vivo"],[f,w]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[p,[g,"Realme"],[f,w]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[p,[g,"Motorola"],[f,w]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[g,"Motorola"],[f,$]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[p,[g,"LG"],[f,$]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[p,[g,"LG"],[f,w]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[p,[g,"Lenovo"],[f,$]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[p,/_/g," "],[g,"Nokia"],[f,w]],[/droid.+;\s(pixel\sc)[\s)]/i],[p,[g,"Google"],[f,$]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[p,[g,"Google"],[f,w]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,"Sony"],[f,w]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[p,"Xperia Tablet"],[g,"Sony"],[f,$]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[p,[g,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[p,[g,"Amazon"],[f,$]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[p,"Fire Phone"],[g,"Amazon"],[f,w]],[/\((playbook);[\w\s\),;-]+(rim)/i],[p,g,[f,$]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[p,[g,"BlackBerry"],[f,w]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[p,[g,"ASUS"],[f,$]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[p,[g,"ASUS"],[f,w]],[/(nexus\s9)/i],[p,[g,"HTC"],[f,$]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[g,[p,/_/g," "],[f,w]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[p,[g,"Acer"],[f,$]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[p,[g,"Meizu"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[g,p,[f,w]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[g,p,[f,$]],[/\s(surface\sduo)\s/i],[p,[g,"Microsoft"],[f,$]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[p,[g,"Fairphone"],[f,w]],[/\s(u304aa)\sbuild/i],[p,[g,"AT&T"],[f,w]],[/sie-(\w*)/i],[p,[g,"Siemens"],[f,w]],[/[;\/]\s?(rct\w+)\sbuild/i],[p,[g,"RCA"],[f,$]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[p,[g,"Dell"],[f,$]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[p,[g,"Verizon"],[f,$]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[p,[g,"Barnes & Noble"],[f,$]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[p,[g,"NuVision"],[f,$]],[/;\s(k88)\sbuild/i],[p,[g,"ZTE"],[f,$]],[/;\s(nx\d{3}j)\sbuild/i],[p,[g,"ZTE"],[f,w]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[p,[g,"Swiss"],[f,w]],[/[;\/]\s?(zur\d{3})\sbuild/i],[p,[g,"Swiss"],[f,$]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[p,[g,"Zeki"],[f,$]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[g,"Dragon Touch"],p,[f,$]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[p,[g,"Insignia"],[f,$]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[p,[g,"NextBook"],[f,$]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[g,"Voice"],p,[f,w]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[g,"LvTel"],p,[f,w]],[/;\s(ph-1)\s/i],[p,[g,"Essential"],[f,w]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[p,[g,"Envizen"],[f,$]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[p,[g,"MachSpeed"],[f,$]],[/[;\/]\s?tu_(1491)\sbuild/i],[p,[g,"Rotor"],[f,$]],[/(shield[\w\s]+)\sbuild/i],[p,[g,"Nvidia"],[f,$]],[/(sprint)\s(\w+)/i],[g,p,[f,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,"Microsoft"],[f,w]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,"Zebra"],[f,$]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,"Zebra"],[f,w]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[g,p,[f,L]],[/droid.+;\s(shield)\sbuild/i],[p,[g,"Nvidia"],[f,L]],[/(playstation\s[345portablevi]+)/i],[p,[g,"Sony"],[f,L]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[p,[g,"Microsoft"],[f,L]],[/smart-tv.+(samsung)/i],[g,[f,le]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,"Samsung"],[f,le]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[g,"LG"],[f,le]],[/(apple)\s?tv/i],[g,[p,"Apple TV"],[f,le]],[/crkey/i],[[p,"Chromecast"],[g,"Google"],[f,le]],[/droid.+aft([\w])(\sbuild\/|\))/i],[p,[g,"Amazon"],[f,le]],[/\(dtv[\);].+(aquos)/i],[p,[g,"Sharp"],[f,le]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[g,fe.trim],[p,fe.trim],[f,le]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[f,le]],[/((pebble))app\/[\d\.]+\s/i],[g,p,[f,Oe]],[/droid.+;\s(glass)\s\d/i],[p,[g,"Google"],[f,Oe]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[p,[g,"Zebra"],[f,Oe]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[g,[f,be]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[p,[f,w]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[p,[f,$]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,fe.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[p,[g,"Generic"]],[/(phone)/i],[[f,w]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[E,[v,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[v,E],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,v]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[v,E],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[v,[E,me.str,se.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[v,"Windows"],[E,me.str,se.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[v,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[v,"Mac OS"],[E,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[v,E],[/\(bb(10);/i],[E,[v,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[E,[v,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[v,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[v,"webOS"]],[/crkey\/([\d\.]+)/i],[E,[v,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[v,"Chromium OS"],E],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[v,E],[/(sunos)\s?([\w\.\d]*)/i],[[v,"Solaris"],E],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[v,E]]},pe=function(M,V){if(typeof M=="object"&&(V=M,M=r),!(this instanceof pe))return new pe(M,V).getResult();var x=M||(typeof n<"u"&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:o),m=V?fe.extend(Ce,V):Ce;return this.getBrowser=function(){var A={name:r,version:r};return me.rgx.call(A,x,m.browser),A.major=fe.major(A.version),A},this.getCPU=function(){var A={architecture:r};return me.rgx.call(A,x,m.cpu),A},this.getDevice=function(){var A={vendor:r,model:r,type:r};return me.rgx.call(A,x,m.device),A},this.getEngine=function(){var A={name:r,version:r};return me.rgx.call(A,x,m.engine),A},this.getOS=function(){var A={name:r,version:r};return me.rgx.call(A,x,m.os),A},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return x},this.setUA=function(A){return x=typeof A===c&&A.length>qe?fe.trim(A,qe):A,this},this.setUA(x),this};pe.VERSION=i,pe.BROWSER={NAME:v,MAJOR:d,VERSION:E},pe.CPU={ARCHITECTURE:P},pe.DEVICE={MODEL:p,VENDOR:g,TYPE:f,CONSOLE:L,MOBILE:w,SMARTTV:le,TABLET:$,WEARABLE:Oe,EMBEDDED:be},pe.ENGINE={NAME:v,VERSION:E},pe.OS={NAME:v,VERSION:E},t.exports&&(e=t.exports=pe),e.UAParser=pe;var $e=typeof n<"u"&&(n.jQuery||n.Zepto);if($e&&!$e.ua){var Ze=new pe;$e.ua=Ze.getResult(),$e.ua.get=function(){return Ze.getUA()},$e.ua.set=function(M){Ze.setUA(M);var V=Ze.getResult();for(var x in V)$e.ua[x]=V[x]}}})(typeof window=="object"?window:pu)})(wi,wi.exports);var Oo=wi.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ks=function(t,e){return(Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function cn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ks(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function qs(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function zs(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var Js=function(){function t(){this.CancelToken=void 0}return t.prototype.post=function(e,n,r,i){return this.sendRequest("POST",e,n,r,i)},t.prototype.get=function(e,n,r,i){return this.sendRequest("GET",e,n,r,i)},t.prototype.delete=function(e,n,r,i){return this.sendRequest("DELETE",e,n,r,i)},t.prototype.put=function(e,n,r,i){return this.sendRequest("PUT",e,n,r,i)},t.prototype.checkParam=function(e){return!(!e||e.match(/\s/g)||!e.match(/^(ht)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?/))},t}(),mu=function(t){function e(n){var r=t.call(this)||this;return r.CancelToken=void 0,r.axios=require("axios"),r.axios.defaults.timeout=5e3,r.CancelToken=r.axios.CancelToken,n==null&&n==null||(r.axios.defaults.adapter=n),r}return cn(e,t),e.prototype.getAxiosIns=function(){return this.axios},e.prototype.sendRequest=function(n,r,i,o,s){return qs(this,void 0,void 0,function(){var a,u;return zs(this,function(l){switch(l.label){case 0:return this.checkParam(r)?(a={url:r,method:n,transformResponse:s?.transformResponse,headers:o,timeout:s?.timeout,responseType:s?.responseType,onUploadProgress:s?.onUploadProgress,onDownloadProgress:s?.onDownloadProgress,validateStatus:s?.validateStatus,cancelToken:s?.cancelToken},n!="PUT"&&n!="POST"||(a.data=i),n!="GET"&&n!="DELETE"||(a.params=i),s&&s.throwOriginException?[2,this.axios.request(a)]:[4,this.axios.request(a).catch(function(c){return Promise.reject(new F(j.NETWORK_REQUEST_ERROR,c,"network"))})]):[2,Promise.reject(new F(j.NETWORK_REQUEST_ERROR,{message:"url is illegal"},"network"))];case 1:return u=l.sent(),[2,Promise.resolve(u)]}})})},e}(Js),Xs=function(){function t(){}return t.prototype.getPlatform=function(){return""},t.prototype.getPlatformVersion=function(){return""},t.prototype.getPackageName=function(){return""},t.prototype.getAppVersion=function(){return""},t.prototype.getLanguage=function(){return""},t.prototype.getScript=function(){return""},t.prototype.getCountry=function(){return""},t.prototype.getSystemInfo=function(){return{name:"",version:""}},t.prototype.getBrowsersInfo=function(){return{name:"",version:""}},t}(),Eu=function(t){function e(n){var r=t.call(this)||this;return r.logger=Ut.createLogger("AGCPlatformInfoService"),r.instance=n||ee.instance(),r}return cn(e,t),e.prototype.getPlatform=function(){return"JS-SDK"},e.prototype.getAppVersion=function(){return this.instance.getAppVersion()},e.prototype.getLanguage=function(){var n;return(n=navigator.languages&&navigator.languages[0]?navigator.languages[0]:navigator.language).toLowerCase().length>2?n.toLowerCase().substr(0,2):""},e.prototype.getSystemInfo=function(){var n="",r="";try{var i=navigator.userAgent,o=new Oo.UAParser;o.setUA(i);var s=o.getResult();n=s.os.name,r=s.os.version}catch{this.logger.warn("get system info failed")}return n==="Mac OS"&&(n="Macintosh"),{name:n,version:r}},e.prototype.getBrowsersInfo=function(){var n="",r="";try{var i=navigator.userAgent,o=new Oo.UAParser;o.setUA(i);var s=o.getResult();n=s.browser.name,r=s.browser.version}catch{this.logger.warn("get browser info failed")}return{name:n,version:r}},e}(Xs),Qs=function(){function t(){this.logger=Ut.createLogger("AGCWebSocketService")}return t.prototype.getReadyState=function(){return this.websocket?Number(this.websocket.readyState):null},t.prototype.send=function(e,n,r){try{if(this.websocket){if(this.websocket.send(e),n)return n()}else if(r)return r()}catch(i){if(this.logger.error(i),r)return r()}},t.prototype.close=function(e,n,r,i){try{if(this.websocket){if(this.websocket.close(e,n),r)return r()}else if(i)return i()}catch(o){if(this.logger.error(o),i)return i()}},t.prototype.onOpen=function(e){if(!this.websocket)throw new F(j.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onopen=e},t.prototype.onMessage=function(e){if(!this.websocket)throw new F(j.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onmessage=function(n){e&&e(n.data)}},t.prototype.onClose=function(e){if(!this.websocket)throw new F(j.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onclose=function(n){e&&e(n.code,n.reason,n.wasClean)}},t.prototype.onError=function(e){if(!this.websocket)throw new F(j.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onerror=function(n){e&&e(n)}},t}(),yu=function(t){function e(){var n=t.call(this)||this;if(n.WebSocketImpl="MozWebSocket"in window?MozWebSocket:WebSocket,!n.WebSocketImpl)throw new F(j.WEBSOCKET_NOT_SUPPORT,{message:"Sorry, your browser does not support WebSockets."},"network");return n}return cn(e,t),e.prototype.connect=function(n,r,i){if(this.websocket&&this.websocket.readyState!=3&&(this.websocket.close(),this.websocket=null),this.websocket=new this.WebSocketImpl(n,i),!this.websocket)throw new F(j.WEBSOCKET_ERROR,{message:"webSocket create fail"},"network");return Promise.resolve()},e}(Qs),Su=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return cn(e,t),e.prototype.connect=function(n,r,i){return this.websocket&&this.websocket.readyState!=3&&(this.websocket.close(),this.websocket=null),this.websocket=wx.connectSocket({url:n,header:r,protocols:i}),this.websocket?Promise.resolve():(this.logger.error("webSocket create fail"),Promise.reject(new F(j.WEBSOCKET_ERROR,{message:"webSocket create failed"},"network")))},e.prototype.send=function(n,r,i){this.websocket?this.websocket.send({data:n,success:r,fail:i}):i&&i()},e.prototype.close=function(n,r,i,o){this.websocket?this.websocket.close({code:n,reason:r,success:i,fail:o}):o&&o()},e.prototype.onOpen=function(n){this.websocket?this.websocket.onOpen(n):this.logger.error("webSocket connect failed")},e.prototype.onMessage=function(n){this.websocket?this.websocket.onMessage(function(r){n&&n(r.data)}):this.logger.error("webSocket connect failed")},e.prototype.onClose=function(n){this.websocket?this.websocket.onClose(function(r){n&&n(r.code,r.reason,r.wasClean)}):this.logger.error("webSocket connect failed")},e.prototype.onError=function(n){this.websocket?this.websocket.onError(n):this.logger.error("webSocket connect failed")},e}(Qs),Tu=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.logger=Ut.createLogger("AGCPlatformInfoService"),n}return cn(e,t),e.prototype.getPlatform=function(){return"JS-SDK-Mini-Program"},e.prototype.getPlatformVersion=function(){try{return wx.getSystemInfoSync().system}catch(n){return this.logger.error("getLanguage:fail,",n.message),""}},e.prototype.getAppVersion=function(){try{return wx.getAccountInfoSync().miniProgram.version}catch(n){return this.logger.error("getAppVersion:fail,",n.message),""}},e.prototype.getLanguage=function(){try{var n=wx.getSystemInfoSync().language;return n.toLowerCase().length>2?n.toLowerCase().substr(0,2):""}catch(r){return this.logger.error("getLanguage:fail,",r.message),""}},e}(Xs);function bo(t){return new Promise(function(e,n){var r,i=t.method&&t.method.toUpperCase()||"GET",o={method:i,header:t.headers,url:t.url,dataType:t.transformResponse?"text":"json",success:function(s){var a=s.data;t.transformResponse&&(a=t.transformResponse[0](s.data));var u={data:a,status:s.statusCode,statusText:s.errMsg,headers:s.header,config:t};t.validateStatus&&t.validateStatus(s.statusCode)||!t.validateStatus&&s.statusCode==200?e(u):n({message:s.errMsg,code:s.statusCode,response:u})},fail:function(s){n({message:s.errMsg,response:{}})},complete:function(){r=void 0}};t.timeout?o.timeout=t.timeout:o.timeout=5e3,t.responseType&&(o.responseType=t.responseType),t.cancelToken&&t.cancelToken.promise.then(function(s){r&&(r.abort&&r.abort(),n(s),r=void 0)}),i=="PUT"||i=="POST"?o.data=t.data:i!="GET"&&i!="DELETE"||(o.data=t.params),r=wx.request(o)})}var Cu=function(t){function e(n){var r=t.call(this)||this;return r.instance=n,r}return cn(e,t),e.prototype.sendRequest=function(n,r,i,o,s){return qs(this,void 0,void 0,function(){var a,u;return zs(this,function(l){switch(l.label){case 0:return this.checkParam(r)?(a={url:r,method:n,headers:o,timeout:s?.timeout,transformResponse:s?.transformResponse,responseType:s?.responseType,instance:this.instance},n!="PUT"&&n!="POST"||(a.data=i),n!="GET"&&n!="DELETE"||(a.params=i),s&&s.throwOriginException?[2,bo(a)]:[4,bo(a).catch(function(c){return Promise.reject(new F(j.NETWORK_REQUEST_ERROR,c,"network"))})]):[2,Promise.reject(new F(j.NETWORK_REQUEST_ERROR,{message:"url is illegal"},"network"))];case 1:return u=l.sent(),[2,Promise.resolve(u)]}})})},e}(Js),Kr=typeof wx=="object",qr=ee;qr.registerInternalService({name:"AGCNetworkService",serviceFactory:function(t){return Kr?new Cu(t):new mu}}),qr.registerInternalService({name:"AGCWebSocketService",serviceFactory:function(t){return Kr?new Su:new yu}}),qr.registerInternalService({name:"AGCPlatformInfoService",serviceFactory:function(t){return Kr?new Tu:new Eu(t)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function wu(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function Au(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var Ro,Iu=function(){function t(){this.storageImpl=void 0}return t.prototype.getAaid=function(e){return wu(this,void 0,void 0,function(){var n,r,i,o,s;return Au(this,function(a){switch(a.label){case 0:n=Ut.createLogger("ClientInfoService"),a.label=1;case 1:return a.trys.push([1,5,,6]),r="agcAaid_"+e.name()+":"+e.config().client.client_id,e.name()===_r&&(r="agcAaid:"+e.config().client.client_id),(i=e.getService("AGCStorageService"))==null?(n.error("Get AGC storage Service failed."),[2,Promise.reject(new F(j.GET_AAID_ERROR,{message:"get AGC storage Service failed"},"util"))]):(this.storageImpl||(this.storageImpl=i.getStorageInstance(t.persistence)),[4,this.storageImpl.get(r).catch(function(u){return n.error("get aaid failed",u.message),Promise.reject(new F(j.GET_AAID_ERROR,{message:"get aaid from storage failed"},"util"))})]);case 2:return(o=a.sent())!=null&&o!=null&&o!=""?[3,4]:(o=this.getRandomString(),[4,this.storageImpl.set(r,o).catch(function(u){return n.error("get aaid failed",u.message),Promise.reject(new F(j.GET_AAID_ERROR,{message:"save aaid to storage failed"},"util"))})]);case 3:a.sent(),a.label=4;case 4:return[2,o];case 5:return s=a.sent(),n.error("get aaid failed",s.message),[2,Promise.reject(new F(j.GET_AAID_ERROR,s,"util"))];case 6:return[2]}})})},t.prototype.getRandomString=function(){var e="0123456789abcdef",n=e.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(){return e.charAt(Math.floor(Math.random()*n))})},t.persistence=0,t.INSTANCE=new t,t}(),Pu=function(){function t(){}return t.getEnvironmentIns=function(){return t.instance},t.prototype.isBrowser=function(){return typeof self=="object"&&self.self===self},t.prototype.isNodeJS=function(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}},t.prototype.isReactNative=function(){return typeof navigator=="object"&&navigator.product==="ReactNative"},t.prototype.isQuickApp=function(){try{return global&&"fastapp"in global}catch{return!1}},t.instance=new t,t}(),Ou=function(){function t(e){this.instance=e||ee.instance()}return t.prototype.getAaid=function(){return Iu.INSTANCE.getAaid(this.instance)},t.prototype.getEnvironmentUtil=function(){return Pu.getEnvironmentIns()},t}();function No(t){return t!=null}(function(t){var e=function(n,r,i){if(typeof n=="function"||No(r)||No(i))this.next=n,this.error=r||null,this.complete=i||null;else{var o=n;this.next=o.next||null,this.error=o.error||null,this.complete=o.complete||null}};t.ObserverImpl=e})(Ro||(Ro={})),ee.registerInternalService({name:"ClientInfoService",serviceFactory:function(t){return new Ou(t)}});var bu={}.toString,Ke=function(t){return bu.call(t).slice(8,-1)};function lt(t,e){return t(e={exports:{}},e.exports),e.exports}var Ge=lt(function(t){var e=t.exports={version:"2.6.12"};typeof __e=="number"&&(__e=e)});Ge.version;var _=lt(function(t){var e=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)}),ln=lt(function(t){var e=_["__core-js_shared__"]||(_["__core-js_shared__"]={});(t.exports=function(n,r){return e[n]||(e[n]=r!==void 0?r:{})})("versions",[]).push({version:Ge.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Ru=0,Nu=Math.random(),At=function(t){return"Symbol(".concat(t===void 0?"":t,")_",(++Ru+Nu).toString(36))},z=lt(function(t){var e=ln("wks"),n=_.Symbol,r=typeof n=="function";(t.exports=function(i){return e[i]||(e[i]=r&&n[i]||(r?n:At)("Symbol."+i))}).store=e}),_u=z("toStringTag"),Lu=Ke(function(){return arguments}())=="Arguments",$n=function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=function(i,o){try{return i[o]}catch{}}(e=Object(t),_u))=="string"?n:Lu?Ke(e):(r=Ke(e))=="Object"&&typeof e.callee=="function"?"Arguments":r},oe=function(t){return typeof t=="object"?t!==null:typeof t=="function"},ce=function(t){if(!oe(t))throw TypeError(t+" is not an object!");return t},q=function(t){try{return!!t()}catch{return!0}},te=!q(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),Ai=_.document,$u=oe(Ai)&&oe(Ai.createElement),gr=function(t){return $u?Ai.createElement(t):{}},Zs=!te&&!q(function(){return Object.defineProperty(gr("div"),"a",{get:function(){return 7}}).a!=7}),Mt=function(t,e){if(!oe(t))return t;var n,r;if(e&&typeof(n=t.toString)=="function"&&!oe(r=n.call(t))||typeof(n=t.valueOf)=="function"&&!oe(r=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!oe(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},Du=Object.defineProperty,Se={f:te?Object.defineProperty:function(t,e,n){if(ce(t),e=Mt(e,!0),ce(n),Zs)try{return Du(t,e,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},It=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},de=te?function(t,e,n){return Se.f(t,e,It(1,n))}:function(t,e,n){return t[e]=n,t},ku={}.hasOwnProperty,H=function(t,e){return ku.call(t,e)},zr=ln("native-function-to-string",Function.toString),Le=lt(function(t){var e=At("src"),n=(""+zr).split("toString");Ge.inspectSource=function(r){return zr.call(r)},(t.exports=function(r,i,o,s){var a=typeof o=="function";a&&(H(o,"name")||de(o,"name",i)),r[i]!==o&&(a&&(H(o,e)||de(o,e,r[i]?""+r[i]:n.join(String(i)))),r===_?r[i]=o:s?r[i]?r[i]=o:de(r,i,o):(delete r[i],de(r,i,o)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[e]||zr.call(this)})}),_o={};_o[z("toStringTag")]="z",_o+""!="[object z]"&&Le(Object.prototype,"toString",function(){return"[object "+$n(this)+"]"},!0);var en=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t},ge=function(t,e,n){if(en(t),e===void 0)return t;switch(n){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,o){return t.call(e,r,i,o)}}return function(){return t.apply(e,arguments)}},Te=function(t,e,n){var r,i,o,s,a=t&Te.F,u=t&Te.G,l=t&Te.S,c=t&Te.P,d=t&Te.B,p=u?_:l?_[e]||(_[e]={}):(_[e]||{}).prototype,v=u?Ge:Ge[e]||(Ge[e]={}),f=v.prototype||(v.prototype={});for(r in u&&(n=e),n)o=((i=!a&&p&&p[r]!==void 0)?p:n)[r],s=d&&i?ge(o,_):c&&typeof o=="function"?ge(Function.call,o):o,p&&Le(p,r,o,t&Te.U),v[r]!=o&&de(v,r,s),c&&f[r]!=o&&(f[r]=o)};_.core=Ge,Te.F=1,Te.G=2,Te.S=4,Te.P=8,Te.B=16,Te.W=32,Te.U=64,Te.R=128;var Gt,Lo,Jr,C=Te,Et=function(t,e,n,r){if(!(t instanceof e)||r!==void 0&&r in t)throw TypeError(n+": incorrect invocation!");return t},ea=function(t,e,n,r){try{return r?e(ce(n)[0],n[1]):e(n)}catch(o){var i=t.return;throw i!==void 0&&ce(i.call(t)),o}},at={},Uu=z("iterator"),Mu=Array.prototype,Ki=function(t){return t!==void 0&&(at.Array===t||Mu[Uu]===t)},xu=Math.ceil,Vu=Math.floor,xt=function(t){return isNaN(t=+t)?0:(t>0?Vu:xu)(t)},Fu=Math.min,Pe=function(t){return t>0?Fu(xt(t),9007199254740991):0},Hu=z("iterator"),qi=Ge.getIteratorMethod=function(t){if(t!=null)return t[Hu]||t["@@iterator"]||at[$n(t)]},vr=lt(function(t){var e={},n={},r=t.exports=function(i,o,s,a,u){var l,c,d,p,v=u?function(){return i}:qi(i),f=ge(s,a,o?2:1),g=0;if(typeof v!="function")throw TypeError(i+" is not iterable!");if(Ki(v)){for(l=Pe(i.length);l>g;g++)if((p=o?f(ce(c=i[g])[0],c[1]):f(i[g]))===e||p===n)return p}else for(d=v.call(i);!(c=d.next()).done;)if((p=ea(d,f,c.value,o))===e||p===n)return p};r.BREAK=e,r.RETURN=n}),Bu=z("species"),zi=function(t,e){var n,r=ce(t).constructor;return r===void 0||(n=ce(r)[Bu])==null?e:en(n)},ta=function(t,e,n){var r=n===void 0;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},$o=_.document,_n=$o&&$o.documentElement,Do=_.process,Ii=_.setImmediate,Pi=_.clearImmediate,ko=_.MessageChannel,Xr=_.Dispatch,Qr=0,Pn={},An=function(){var t=+this;if(Pn.hasOwnProperty(t)){var e=Pn[t];delete Pn[t],e()}},Uo=function(t){An.call(t.data)};Ii&&Pi||(Ii=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Pn[++Qr]=function(){ta(typeof t=="function"?t:Function(t),e)},Gt(Qr),Qr},Pi=function(t){delete Pn[t]},Ke(Do)=="process"?Gt=function(t){Do.nextTick(ge(An,t,1))}:Xr&&Xr.now?Gt=function(t){Xr.now(ge(An,t,1))}:ko?(Jr=(Lo=new ko).port2,Lo.port1.onmessage=Uo,Gt=ge(Jr.postMessage,Jr,1)):_.addEventListener&&typeof postMessage=="function"&&!_.importScripts?(Gt=function(t){_.postMessage(t+"","*")},_.addEventListener("message",Uo,!1)):Gt="onreadystatechange"in gr("script")?function(t){_n.appendChild(gr("script")).onreadystatechange=function(){_n.removeChild(this),An.call(t)}}:function(t){setTimeout(ge(An,t,1),0)});var na={set:Ii,clear:Pi},Gu=na.set,Mo=_.MutationObserver||_.WebKitMutationObserver,Oi=_.process,Zr=_.Promise,xo=Ke(Oi)=="process";function Wu(t){var e,n;this.promise=new t(function(r,i){if(e!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");e=r,n=i}),this.resolve=en(e),this.reject=en(n)}var bi={f:function(t){return new Wu(t)}},Ri=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}},Vo=_.navigator,ju=Vo&&Vo.userAgent||"",tn=function(t,e,n){for(var r in e)Le(t,r,e[r],n);return t},Yu=Se.f,Fo=z("toStringTag"),ot=function(t,e,n){t&&!H(t=n?t:t.prototype,Fo)&&Yu(t,Fo,{configurable:!0,value:e})},Ho=z("species"),Lr=function(t){var e=_[t];te&&e&&!e[Ho]&&Se.f(e,Ho,{configurable:!0,get:function(){return this}})},Ni=z("iterator"),ra=!1;try{var Bo=[7][Ni]();Bo.return=function(){ra=!0},Array.from(Bo,function(){throw 2})}catch{}var ei,ia,Go,Wo,$r=function(t,e){if(!e&&!ra)return!1;var n=!1;try{var r=[7],i=r[Ni]();i.next=function(){return{done:n=!0}},r[Ni]=function(){return i},t(r)}catch{}return n},oa=na.set,sa=function(){var t,e,n,r=function(){var a,u;for(xo&&(a=Oi.domain)&&a.exit();t;){u=t.fn,t=t.next;try{u()}catch(l){throw t?n():e=void 0,l}}e=void 0,a&&a.enter()};if(xo)n=function(){Oi.nextTick(r)};else if(!Mo||_.navigator&&_.navigator.standalone)if(Zr&&Zr.resolve){var i=Zr.resolve(void 0);n=function(){i.then(r)}}else n=function(){Gu.call(_,r)};else{var o=!0,s=document.createTextNode("");new Mo(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(a){var u={fn:a,next:void 0};e&&(e.next=u),t||(t=u,n()),e=u}}(),aa=_.TypeError,nn=_.process,jo=nn&&nn.versions,Ku=jo&&jo.v8||"",rt=_.Promise,Ln=$n(nn)=="process",lr=function(){},vn=ia=bi.f,mn=!!function(){try{var t=rt.resolve(1),e=(t.constructor={})[z("species")]=function(n){n(lr,lr)};return(Ln||typeof PromiseRejectionEvent=="function")&&t.then(lr)instanceof e&&Ku.indexOf("6.6")!==0&&ju.indexOf("Chrome/66")===-1}catch{}}(),ua=function(t){var e;return!(!oe(t)||typeof(e=t.then)!="function")&&e},Ji=function(t,e){if(!t._n){t._n=!0;var n=t._c;sa(function(){for(var r=t._v,i=t._s==1,o=0,s=function(a){var u,l,c,d=i?a.ok:a.fail,p=a.resolve,v=a.reject,f=a.domain;try{d?(i||(t._h==2&&zu(t),t._h=1),d===!0?u=r:(f&&f.enter(),u=d(r),f&&(f.exit(),c=!0)),u===a.promise?v(aa("Promise-chain cycle")):(l=ua(u))?l.call(u,p,v):p(u)):v(r)}catch(g){f&&!c&&f.exit(),v(g)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&qu(t)})}},qu=function(t){oa.call(_,function(){var e,n,r,i=t._v,o=Yo(t);if(o&&(e=Ri(function(){Ln?nn.emit("unhandledRejection",i,t):(n=_.onunhandledrejection)?n({promise:t,reason:i}):(r=_.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=Ln||Yo(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},Yo=function(t){return t._h!==1&&(t._a||t._c).length===0},zu=function(t){oa.call(_,function(){var e;Ln?nn.emit("rejectionHandled",t):(e=_.onrejectionhandled)&&e({promise:t,reason:t._v})})},Qt=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Ji(e,!0))},_i=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw aa("Promise can't be resolved itself");(e=ua(t))?sa(function(){var r={_w:n,_d:!1};try{e.call(t,ge(_i,r,1),ge(Qt,r,1))}catch(i){Qt.call(r,i)}}):(n._v=t,n._s=1,Ji(n,!1))}catch(r){Qt.call({_w:n,_d:!1},r)}}};mn||(rt=function(t){Et(this,rt,"Promise","_h"),en(t),ei.call(this);try{t(ge(_i,this,1),ge(Qt,this,1))}catch(e){Qt.call(this,e)}},(ei=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=tn(rt.prototype,{then:function(t,e){var n=vn(zi(this,rt));return n.ok=typeof t!="function"||t,n.fail=typeof e=="function"&&e,n.domain=Ln?nn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Ji(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Go=function(){var t=new ei;this.promise=t,this.resolve=ge(_i,t,1),this.reject=ge(Qt,t,1)},bi.f=vn=function(t){return t===rt||t===Wo?new Go(t):ia(t)}),C(C.G+C.W+C.F*!mn,{Promise:rt}),ot(rt,"Promise"),Lr("Promise"),Wo=Ge.Promise,C(C.S+C.F*!mn,"Promise",{reject:function(t){var e=vn(this);return(0,e.reject)(t),e.promise}}),C(C.S+C.F*!mn,"Promise",{resolve:function(t){return function(e,n){if(ce(e),oe(n)&&n.constructor===e)return n;var r=bi.f(e);return(0,r.resolve)(n),r.promise}(this,t)}}),C(C.S+C.F*!(mn&&$r(function(t){rt.all(t).catch(lr)})),"Promise",{all:function(t){var e=this,n=vn(e),r=n.resolve,i=n.reject,o=Ri(function(){var s=[],a=0,u=1;vr(t,!1,function(l){var c=a++,d=!1;s.push(void 0),u++,e.resolve(l).then(function(p){d||(d=!0,s[c]=p,--u||r(s))},i)}),--u||r(s)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=vn(e),r=n.reject,i=Ri(function(){vr(t,!1,function(o){e.resolve(o).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}});var Ju=Math.floor;C(C.S,"Number",{isInteger:function(t){return!oe(t)&&isFinite(t)&&Ju(t)===t}});var Dn={f:{}.propertyIsEnumerable},Xi=Object("z").propertyIsEnumerable(0)?Object:function(t){return Ke(t)=="String"?t.split(""):Object(t)},fn=function(t){if(t==null)throw TypeError("Can't call method on  "+t);return t},Xe=function(t){return Xi(fn(t))},Ko=Object.getOwnPropertyDescriptor,kn={f:te?Ko:function(t,e){if(t=Xe(t),e=Mt(e,!0),Zs)try{return Ko(t,e)}catch{}if(H(t,e))return It(!Dn.f.call(t,e),t[e])}},qo=function(t,e){if(ce(t),!oe(e)&&e!==null)throw TypeError(e+": can't set as prototype!")},zo={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=ge(Function.call,kn.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch{e=!0}return function(r,i){return qo(r,i),e?r.__proto__=i:n(r,i),r}}({},!1):void 0),check:qo}.set,Qi=function(t,e,n){var r,i=e.constructor;return i!==n&&typeof i=="function"&&(r=i.prototype)!==n.prototype&&oe(r)&&zo&&zo(t,r),t},Xu=Math.max,Qu=Math.min,st=function(t,e){return(t=xt(t))<0?Xu(t+e,0):Qu(t,e)},Zi=function(t){return function(e,n,r){var i,o=Xe(e),s=Pe(o.length),a=st(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Jo=ln("keys"),eo=function(t){return Jo[t]||(Jo[t]=At(t))},Zu=Zi(!1),ec=eo("IE_PROTO"),ca=function(t,e){var n,r=Xe(t),i=0,o=[];for(n in r)n!=ec&&H(r,n)&&o.push(n);for(;e.length>i;)H(r,n=e[i++])&&(~Zu(o,n)||o.push(n));return o},mr="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tc=mr.concat("length","prototype"),pn={f:Object.getOwnPropertyNames||function(t){return ca(t,tc)}},Li=`	
\v\f\r   ᠎             　\u2028\u2029\uFEFF`,Er="["+Li+"]",nc=RegExp("^"+Er+Er+"*"),rc=RegExp(Er+Er+"*$"),la=function(t,e,n){var r={},i=q(function(){return!!Li[t]()||"​"[t]()!="​"}),o=r[t]=i?e(ic):Li[t];n&&(r[n]=o),C(C.P+C.F*i,"String",r)},ic=la.trim=function(t,e){return t=String(fn(t)),1&e&&(t=t.replace(nc,"")),2&e&&(t=t.replace(rc,"")),t},fa=la,Pt=Object.keys||function(t){return ca(t,mr)},oc=te?Object.defineProperties:function(t,e){ce(t);for(var n,r=Pt(e),i=r.length,o=0;i>o;)Se.f(t,n=r[o++],e[n]);return t},sc=eo("IE_PROTO"),ti=function(){},fr=function(){var t,e=gr("iframe"),n=mr.length;for(e.style.display="none",_n.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),fr=t.F;n--;)delete fr.prototype[mr[n]];return fr()},ut=Object.create||function(t,e){var n;return t!==null?(ti.prototype=ce(t),n=new ti,ti.prototype=null,n[sc]=t):n=fr(),e===void 0?n:oc(n,e)},ac=pn.f,uc=kn.f,cc=Se.f,lc=fa.trim,Ne=_.Number,Jn=Ne,pr=Ne.prototype,fc=Ke(ut(pr))=="Number",pc="trim"in String.prototype,Xo=function(t){var e=Mt(t,!1);if(typeof e=="string"&&e.length>2){var n,r,i,o=(e=pc?e.trim():lc(e,3)).charCodeAt(0);if(o===43||o===45){if((n=e.charCodeAt(2))===88||n===120)return NaN}else if(o===48){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,a=e.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||s>i)return NaN;return parseInt(a,r)}}return+e};if(!Ne(" 0o1")||!Ne("0b1")||Ne("+0x1")){Ne=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Ne&&(fc?q(function(){pr.valueOf.call(n)}):Ke(n)!="Number")?Qi(new Jn(Xo(e)),n,Ne):Xo(e)};for(var Xn,Qo=te?ac(Jn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ni=0;Qo.length>ni;ni++)H(Jn,Xn=Qo[ni])&&!H(Ne,Xn)&&cc(Ne,Xn,uc(Jn,Xn));Ne.prototype=pr,pr.constructor=Ne,Le(_,"Number",Ne)}var Qe=function(t){return Object(fn(t))},yr=Array.isArray||function(t){return Ke(t)=="Array"},hc=z("species"),dc=function(t,e){return new(function(n){var r;return yr(n)&&(typeof(r=n.constructor)!="function"||r!==Array&&!yr(r.prototype)||(r=void 0),oe(r)&&(r=r[hc])===null&&(r=void 0)),r===void 0?Array:r}(t))(e)},hn=function(t,e){var n=t==1,r=t==2,i=t==3,o=t==4,s=t==6,a=t==5||s,u=e||dc;return function(l,c,d){for(var p,v,f=Qe(l),g=Xi(f),E=ge(c,d,3),P=Pe(g.length),L=0,w=n?u(l,P):r?u(l,0):void 0;P>L;L++)if((a||L in g)&&(v=E(p=g[L],L,f),t)){if(n)w[L]=v;else if(v)switch(t){case 3:return!0;case 5:return p;case 6:return L;case 2:w.push(p)}else if(o)return!1}return s?-1:i||o?o:w}},Un=function(t,e){return!!t&&q(function(){e?t.call(null,function(){},1):t.call(null)})},gc=hn(3);C(C.P+C.F*!Un([].some,!0),"Array",{some:function(t){return gc(this,t,arguments[1])}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pa=function(t,e){return(pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])})(t,e)};function $i(t,e){function n(){this.constructor=t}pa(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function S(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new n(function(c){c(l.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function T(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}function Ct(t){return(Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}(function(t,e){var n=(Ge.Object||{})[t]||Object[t],r={};r[t]=e(n),C(C.S+C.F*q(function(){n(1)}),"Object",r)})("keys",function(){return function(t){return Pt(Qe(t))}});var Zo=[].slice;C(C.P+C.F*q(function(){_n&&Zo.call(_n)}),"Array",{slice:function(t,e){var n=Pe(this.length),r=Ke(this);if(e=e===void 0?n:e,r=="Array")return Zo.call(this,t,e);for(var i=st(t,n),o=st(e,n),s=Pe(o-i),a=new Array(s),u=0;u<s;u++)a[u]=r=="String"?this.charAt(i+u):this[i+u];return a}});var vc=hn(0),mc=Un([].forEach,!0);C(C.P+C.F*!mc,"Array",{forEach:function(t){return vc(this,t,arguments[1])}});var Ec=Zi(!1),Di=[].indexOf,es=!!Di&&1/[1].indexOf(1,-0)<0;C(C.P+C.F*(es||!Un(Di)),"Array",{indexOf:function(t){return es?Di.apply(this,arguments)||0:Ec(this,t,arguments[1])}});var yc=hn(2);C(C.P+C.F*!Un([].filter,!0),"Array",{filter:function(t){return yc(this,t,arguments[1])}});var ts,Sc=Dn.f,Tc=(ts=!0,function(t){for(var e,n=Xe(t),r=Pt(n),i=r.length,o=0,s=[];i>o;)e=r[o++],te&&!Sc.call(n,e)||s.push(ts?[e,n[e]]:n[e]);return s});C(C.S,"Object",{entries:function(t){return Tc(t)}});var On,Cc="header",wc="events_common",Ac="events",ns="event",wt="debugMode",it="routePolicy",ri="terminalName",Ic="App-Id",Pc="App-Ver",Oc="Sdk-Name",bc="Device-Type",Rc="servicetag",Nc="Package-Name",ha="Request-Id",_c="x-hasdk-debug",Lc="x-hasdk-token",$c="x-hasdk-log-region",Dc="x-hasdk-resourceid",kc="x-hasdk-productid",Uc="x-hasdk-clientid",rs="_openness_log_tag",da="_openness_config_tag",is="$StartType",os="$StartScene",Sr="$PrevActivityName",Tr="$PrevActivityId",yt="$CurActivityName",rn="$CurActivityId",Mc="$PrePageId",ga="$CurrPageId",va="$UrlParams",ma="$Duration",xc="Edge",Vc="IE",Fc="Firefox",Hc="Chrome",Bc="Opera",Gc="Safari",Wc=64,jc=100,Qn=128,je=256,ii=30720,oi=2048,Yc=100,ss=204800,si=50,Kc=25,qc=/^[a-zA-Z_$][A-Za-z0-9_]*$/,Ea=/^[a-zA-Z][A-Za-z0-9_]*$/,as=/^[a-zA-Z_$][A-Za-z0-9_]*$/,Wt={value:5e3,label:"5s"},jt={value:18e6,label:"5h"};(function(t){t[t.BEACON=1]="BEACON",t[t.AJAX=2]="AJAX",t[t.IMG=3]="IMG",t[t.WXREQUEST=4]="WXREQUEST"})(On||(On={}));var us,ya=0,xe=1,Sa=2,bn=3,Ve=5,Ta="0",zc="1",Cr=1,wr=60,Ar=30,Ir=1e3;(function(t){t.AES_CBC_NETWORK="AES_CBC_NETWORK",t.AES_CBC_STORAGE="AES_CBC_STORAGE"})(us||(us={}));var qt="HW_ha_eventSessionName",St="HW_ha_analyticsEnabled",Dt="HW_ha_restrictionEnabled",_t="HW_ha_restrictionShared",Zt="HW_ha_isFirstRun",ht={CN:"HW_ha_pubKeyCN",DE:"HW_ha_pubKeyDE",RU:"HW_ha_pubKeyRU",SG:"HW_ha_pubKeySG"},dt={CN:"HW_ha_workKeyCN",DE:"HW_ha_workKeyDE",RU:"HW_ha_workKeyRU",SG:"HW_ha_workKeySG"},ze={CREATEPAYMENTINFO:"$CreatePaymentInfo",ADDPRODUCT2CART:"$AddProduct2Cart",ADDPRODUCT2WISHLIST:"$AddProduct2WishList",STARTAPP:"$StartApp",STARTCHECKOUT:"$StartCheckout",VIEWCAMPAIGN:"$ViewCampaign",VIEWCHECKOUTSTEP:"$ViewCheckoutStep",WINVIRTUALCOIN:"$WinVirtualCoin",COMPLETEPURCHASE:"$CompletePurchase",OBTAINLEADS:"$ObtainLeads",JOINUSERGROUP:"$JoinUserGroup",COMPLETELEVEL:"$CompleteLevel",STARTLEVEL:"$StartLevel",UPGRADELEVEL:"$UpgradeLevel",SIGNIN:"$SignIn",SIGNOUT:"$SignOut",SUBMITSCORE:"$SubmitScore",CREATEORDER:"$CreateOrder",REFUNDORDER:"$RefundOrder",DELPRODUCTFROMCART:"$DelProductFromCart",SEARCH:"$Search",VIEWCONTENT:"$ViewContent",UPDATECHECKOUTOPTION:"$UpdateCheckoutOption",SHARECONTENT:"$ShareContent",REGISTERACCOUNT:"$RegisterAccount",CONSUMEVIRTUALCOIN:"$ConsumeVirtualCoin",STARTTUTORIAL:"$StartTutorial",COMPLETETUTORIAL:"$CompleteTutorial",OBTAINACHIEVEMENT:"$ObtainAchievement",VIEWPRODUCT:"$ViewProduct",VIEWPRODUCTLIST:"$ViewProductList",VIEWSEARCHRESULT:"$ViewSearchResult",UPDATEMEMBERSHIPLEVEL:"$UpdateMembershipLevel",FILTRATEPRODUCT:"$FiltrateProduct",VIEWCATEGORY:"$ViewCategory",UPDATEORDER:"$UpdateOrder",CANCELORDER:"$CancelOrder",COMPLETEORDER:"$CompleteOrder",CANCELCHECKOUT:"$CancelCheckout",OBTAINVOUCHER:"$ObtainVoucher",CONTACTCUSTOMSERVICE:"$ContactCustomService",NOVICEGUIDESTART:"$NoviceGuideStart",NOVICEGUIDEEND:"$NoviceGuideEnd",STARTGAME:"$StartGame",ENDGAME:"$EndGame",WINPROPS:"$WinProps",EXCHANGEGOODS:"$ExchangeGoods",VIEWHOUSELIST:"$ViewHouseList",VIEWHOUSEDETAIL:"$ViewHouseDetail",INVITE:"$Invite",RATE:"$Rate",CONSUMEPROPS:"$ConsumeProps",ADDFRIEND:"$AddFriend",ADDBLACKLIST:"$AddBlacklist",VIEWFRIENDLIST:"$ViewFriendList",QUITUSERGROUP:"$QuitUserGroup",CREATEUSERGROUP:"$CreateUserGroup",DISBANDUSERGROUP:"$DisbandUserGroup",UPGRADEUSERGROUP:"$UpgradeUserGroup",VIEWUSERGROUP:"$ViewUserGroup",JOINTEAM:"$JoinTeam",SENDMESSAGE:"$SendMessage",LEARNSKILL:"$LearnSkill",USESKILL:"$UseSkill",GETEQUIPMENT:"$GetEquipment",LOSEEQUIPMENT:"$LoseEquipment",ENHANCEEQUIPMENT:"$EnhanceEquipment",SWITCHCLASS:"$SwitchClass",ACCEPTTASK:"$AcceptTask",FINISHTASK:"$FinishTask",ATTENDACTIVITY:"$AttendActivity",FINISHCUTSCENE:"$FinishCutscene",SKIPCUTSCENE:"$SkipCutscene",GETPET:"$GetPet",LOSEPET:"$LosePet",ENHANCEPET:"$EnhancePet",GETMOUNT:"$GetMount",LOSEMOUNT:"$LoseMount",ENHANCEMOUNT:"$EnhanceMount",CREATEROLE:"$CreateRole",SIGNINROLE:"$SignInRole",SIGNOUTROLE:"$SignOutRole",STARTBATTLE:"$StartBattle",ENDBATTLE:"$EndBattle",STARTDUNGEON:"$StartDungeon",FINISHDUNGEON:"$FinishDungeon",VIEWPACKAGE:"$ViewPackage",REDEEM:"$Redeem",MODIFYSETTING:"$ModifySetting",WATCHVIDEO:"$WatchVideo",CLICKMESSAGE:"$ClickMessage",DRAWCARD:"$DrawCard",VIEWCARDLIST:"$ViewCardList",BINDACCOUNT:"$BindAccount",STARTEXERCISE:"$StartExercise",ENDEXERCISE:"$EndExercise",STARTPLAYMEDIA:"$StartPlayMedia",ENDPLAYMEDIA:"$EndPlayMedia",STARTEXAMINE:"$StartExamine",ENDEXAMINE:"$EndExamine",CHECKIN:"$CheckIn",COMPENSATION:"$Compensation",POST:"$Post",SHAREAPP:"$ShareApp",BINDDEVICE:"$BindDevice",UNBINDDEVICE:"$UnBindDevice",RESERVEMAINTENANCE:"$ReserveMaintenance",DEVICEMISSINGREPORT:"$DeviceMissingReport",MODULARCLICK:"$ModularClick",PAGEVIEW:"$PageView",STARTBOOKING:"$StartBooking",LEARNTARGET:"$LearnTarget",LANGUAGETEST:"$LanguageTest",STARTTRAINING:"$StartTraining",ENDTRAINING:"$EndTraining",REGISTERACTIVITY:"$RegisterActivity",EXITACTIVITY:"$ExitActivity",COMPLETEACTIVITY:"$CompleteActivity",FOLLOWCONTENT:"$FollowContent",ENTERACCOUNTOPENING:"$EnterAccountOpening",SUBMITACCOUNTOPENING:"$SubmitAccountOpening",BANDCARD:"$BandCard",BANKTRANSFERIN:"$BankTransferIn",BANKTRANSFEROUT:"$BankTransferOut",VIEWSTOCKDETAIL:"$ViewStockDetail",TRADESTOCKS:"$TradeStocks",VIEWFINANCEPAGE:"$ViewFinancePage",PURCHASEFINANCE:"$PurchaseFinance",REDEMPTIONFINANCE:"$RedemptionFinance",FUNDTRADING:"$FundTrading",FIXEDINVESTMENT:"$Fixedinvestment",APPLYNEW:"$ApplyNew",VIEWINFORMATIONSECTION:"$ViewInformationSection",VIEWINFORMATION:"$ViewInformation",DISPLAYVOUCHER:"$DisplayVoucher",BOOKCOURSE:"$BookCourse",LEARNCOURSES:"$LearnCourses",TRYOUT:"$Tryout",ANSWER:"$Answer",VIEWFUNDPAGE:"$ViewFundPage",CLICKPURCHASE:"$ClickPurchase",ENABLEMEMBER:"$EnableMember",CANCELMEMBER:"$CancelMember",COMMENTCONTENT:"$CommentContent",LIKECONTENT:"$LikeContent",DELETEPRODUCT2WISHLIST:"$DeleteProduct2WishList",ADCLICK:"$AdClick",ADDISPLAY:"$AdDisplay",VIPSUC:"$VipSuc",REGISTERFAILED:"$RegisterFailed",VIPCLICK:"$VipClick",VIPFAILED:"$VipFailed",IMPROVEINFORMATION:"$ImproveInformation"},Y={JOINABTASK:"$JoinABTask",FIRST_OPEN:"$AppFirstOpen",ENTER_SCREEN:"$EnterScreen",EXIT_SCREEN:"$ExitScreen",ADD_QUICK_APP:"$AddQuickApp",HA_NOTIFICATION_DISPLAY:"$HA_NOTIFICATION_DISPLAY",DisplayNotification:"$DisplayNotification",HA_NOTIFICATION_CLICK:"$HA_NOTIFICATION_CLICK",ClickNotification:"$ClickNotification",HA_NOTIFICATION_CLEAR:"$HA_NOTIFICATION_CLEAR",ClearNotification:"$ClearNotification",HA_APP_INSTALL:"$HA_APP_INSTALL",InstallApp:"$InstallApp",HA_APP_START:"$HA_APP_START",LaunchApp:"$LaunchApp",HA_APP_UPDATE:"$HA_APP_UPDATE",UpdateApp:"$UpdateApp",HA_FIRST_OPEN:"$HA_FIRST_OPEN",AppFirstOpen:"$AppFirstOpen",HA_SCREEN_ENTER:"$HA_SCREEN_ENTER",EnterScreen:"$EnterScreen",HA_SCREEN_EXIT:"$HA_SCREEN_EXIT",ExitScreen:"$ExitScreen",HA_CLEAR_DATA:"$HA_CLEAR_DATA",ClearData:"$ClearData",HA_CLEAR_CACHE:"$HA_CLEAR_CACHE",ClearCache:"$ClearCache",HA_APP_UNINSTALL:"$HA_APP_UNINSTALL",UninstallApp:"$UninstallApp",InAppPurchase:"$InAppPurchase",RequestAd:"$RequestAd",DisplayAd:"$DisplayAd",ClickAd:"$ClickAd",STOP_ANALYTICS_COLLECTION:"$StopAnalyticsCollection",AppError:"$AppError",AppPushToken:"$AppPushToken",CampaignPushClick:"$CampaignPushClick",SignIn:"$SignIn",SignOut:"$SignOut",ObtainAdAward:"$ObtainAdAward"},Ca=[Y.SignIn,Y.SignOut,Y.JOINABTASK],gt={};gt[ze.WINVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},gt[ze.CONSUMEVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},gt[ze.COMPLETEPURCHASE]={LEVEL:"$Level",ENTRY:"$Entry",PURCHASEENTRY:"$PurchaseEntry"},gt[ze.NOVICEGUIDEEND]={RESULT:"$Result"},gt[ze.ENDGAME]={RESULT:"$Result",DURATION:"$Duration"},gt[ze.WINPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},gt[ze.CONSUMEPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},gt[ze.ADDPRODUCT2CART]={ORDERID:"$OrderId",BRAND:"$Brand",CATEGORY:"$Category",SOURCE:"$Source",MEDIUM:"$Medium",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",KEYWORDS:"$Keywords",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot"};var wa=function(t){return function(e,n){var r,i,o=String(fn(e)),s=xt(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},Jc=wa(!0),to=function(t,e,n){return e+(n?Jc(t,e).length:1)},Xc=RegExp.prototype.exec,on=function(t,e){var n=t.exec;if(typeof n=="function"){var r=n.call(t,e);if(typeof r!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if($n(t)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return Xc.call(t,e)},Dr=function(){var t=ce(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Pr=RegExp.prototype.exec,Qc=String.prototype.replace,Aa=Pr,ai=function(){var t=/a/,e=/b*/g;return Pr.call(t,"a"),Pr.call(e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),ui=/()??/.exec("")[1]!==void 0;(ai||ui)&&(Aa=function(t){var e,n,r,i,o=this;return ui&&(n=new RegExp("^"+o.source+"$(?!\\s)",Dr.call(o))),ai&&(e=o.lastIndex),r=Pr.call(o,t),ai&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),ui&&r&&r.length>1&&Qc.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)arguments[i]===void 0&&(r[i]=void 0)}),r});var Or=Aa;C({target:"RegExp",proto:!0,forced:Or!==/./.exec},{exec:Or});var Zc=z("species"),el=!q(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),tl=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length===2&&n[0]==="a"&&n[1]==="b"}(),kr=function(t,e,n){var r=z(t),i=!q(function(){var c={};return c[r]=function(){return 7},""[t](c)!=7}),o=i?!q(function(){var c=!1,d=/a/;return d.exec=function(){return c=!0,null},t==="split"&&(d.constructor={},d.constructor[Zc]=function(){return d}),d[r](""),!c}):void 0;if(!i||!o||t==="replace"&&!el||t==="split"&&!tl){var s=/./[r],a=n(fn,r,""[t],function(c,d,p,v,f){return d.exec===Or?i&&!f?{done:!0,value:s.call(d,p,v)}:{done:!0,value:c.call(p,d,v)}:{done:!1}}),u=a[0],l=a[1];Le(String.prototype,t,u),de(RegExp.prototype,r,e==2?function(c,d){return l.call(c,this,d)}:function(c){return l.call(c,this)})}},nl=Math.max,rl=Math.min,il=Math.floor,ol=/\$([$&`']|\d\d?|<[^>]*>)/g,sl=/\$([$&`']|\d\d?)/g;kr("replace",2,function(t,e,n,r){return[function(o,s){var a=t(this),u=o?.[e];return u!==void 0?u.call(o,a,s):n.call(String(a),o,s)},function(o,s){var a=r(n,o,this,s);if(a.done)return a.value;var u=ce(o),l=String(this),c=typeof s=="function";c||(s=String(s));var d=u.global;if(d){var p=u.unicode;u.lastIndex=0}for(var v=[];;){var f=on(u,l);if(f===null||(v.push(f),!d))break;String(f[0])===""&&(u.lastIndex=to(l,Pe(u.lastIndex),p))}for(var g,E="",P=0,L=0;L<v.length;L++){f=v[L];for(var w=String(f[0]),$=nl(rl(xt(f.index),l.length),0),le=[],Oe=1;Oe<f.length;Oe++)le.push((g=f[Oe])===void 0?g:String(g));var be=f.groups;if(c){var qe=[w].concat(le,$,l);be!==void 0&&qe.push(be);var fe=String(s.apply(void 0,qe))}else fe=i(w,l,$,le,be,s);$>=P&&(E+=l.slice(P,$)+fe,P=$+w.length)}return E+l.slice(P)}];function i(o,s,a,u,l,c){var d=a+o.length,p=u.length,v=sl;return l!==void 0&&(l=Qe(l),v=ol),n.call(c,v,function(f,g){var E;switch(g.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(d);case"<":E=l[g.slice(1,-1)];break;default:var P=+g;if(P===0)return f;if(P>p){var L=il(P/10);return L===0?f:L<=p?u[L-1]===void 0?g.charAt(1):u[L-1]+g.charAt(1):f}E=u[P-1]}return E===void 0?"":E})}});var al=z("match"),Ia=function(t){var e;return oe(t)&&((e=t[al])!==void 0?!!e:Ke(t)=="RegExp")},ul=Math.min,cl=[].push,En=!q(function(){RegExp(4294967295,"y")});kr("split",2,function(t,e,n,r){var i;return i="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(o,s){var a=String(this);if(o===void 0&&s===0)return[];if(!Ia(o))return n.call(a,o,s);for(var u,l,c,d=[],p=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),v=0,f=s===void 0?4294967295:s>>>0,g=new RegExp(o.source,p+"g");(u=Or.call(g,a))&&!((l=g.lastIndex)>v&&(d.push(a.slice(v,u.index)),u.length>1&&u.index<a.length&&cl.apply(d,u.slice(1)),c=u[0].length,v=l,d.length>=f));)g.lastIndex===u.index&&g.lastIndex++;return v===a.length?!c&&g.test("")||d.push(""):d.push(a.slice(v)),d.length>f?d.slice(0,f):d}:"0".split(void 0,0).length?function(o,s){return o===void 0&&s===0?[]:n.call(this,o,s)}:n,[function(o,s){var a=t(this),u=o?.[e];return u!==void 0?u.call(o,a,s):i.call(String(a),o,s)},function(o,s){var a=r(i,o,this,s,i!==n);if(a.done)return a.value;var u=ce(o),l=String(this),c=zi(u,RegExp),d=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(En?"y":"g"),v=new c(En?u:"^(?:"+u.source+")",p),f=s===void 0?4294967295:s>>>0;if(f===0)return[];if(l.length===0)return on(v,l)===null?[l]:[];for(var g=0,E=0,P=[];E<l.length;){v.lastIndex=En?E:0;var L,w=on(v,En?l:l.slice(E));if(w===null||(L=ul(Pe(v.lastIndex+(En?0:E)),l.length))===g)E=to(l,E,d);else{if(P.push(l.slice(g,E)),P.length===f)return P;for(var $=1;$<=w.length-1;$++)if(P.push(w[$]),P.length===f)return P;E=g=L}}return P.push(l.slice(g)),P}]});var ll=hn(1);C(C.P+C.F*!Un([].map,!0),"Array",{map:function(t){return ll(this,t,arguments[1])}});for(var ci,Pa=At("typed_array"),Oa=At("view"),ba=!(!_.ArrayBuffer||!_.DataView),Ra=ba,cs=0,fl="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");cs<9;)(ci=_[fl[cs++]])?(de(ci.prototype,Pa,!0),de(ci.prototype,Oa,!0)):Ra=!1;var ki={ABV:ba,CONSTR:Ra,TYPED:Pa,VIEW:Oa},In=function(t){if(t===void 0)return 0;var e=xt(t),n=Pe(e);if(e!==n)throw RangeError("Wrong length!");return n},no=function(t){for(var e=Qe(this),n=Pe(e.length),r=arguments.length,i=st(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,s=o===void 0?n:st(o,n);s>i;)e[i++]=t;return e},pl=lt(function(t,e){var n=pn.f,r=Se.f,i=_.ArrayBuffer,o=_.DataView,s=_.Math,a=_.RangeError,u=_.Infinity,l=i,c=s.abs,d=s.pow,p=s.floor,v=s.log,f=s.LN2,g=te?"_b":"buffer",E=te?"_l":"byteLength",P=te?"_o":"byteOffset";function L(m,A,Q){var b,G,B,he=new Array(Q),K=8*Q-A-1,re=(1<<K)-1,ve=re>>1,ae=A===23?d(2,-24)-d(2,-77):0,Vt=0,xr=m<0||m===0&&1/m<0?1:0;for((m=c(m))!=m||m===u?(G=m!=m?1:0,b=re):(b=p(v(m)/f),m*(B=d(2,-b))<1&&(b--,B*=2),(m+=b+ve>=1?ae/B:ae*d(2,1-ve))*B>=2&&(b++,B/=2),b+ve>=re?(G=0,b=re):b+ve>=1?(G=(m*B-1)*d(2,A),b+=ve):(G=m*d(2,ve-1)*d(2,A),b=0));A>=8;he[Vt++]=255&G,G/=256,A-=8);for(b=b<<A|G,K+=A;K>0;he[Vt++]=255&b,b/=256,K-=8);return he[--Vt]|=128*xr,he}function w(m,A,Q){var b,G=8*Q-A-1,B=(1<<G)-1,he=B>>1,K=G-7,re=Q-1,ve=m[re--],ae=127&ve;for(ve>>=7;K>0;ae=256*ae+m[re],re--,K-=8);for(b=ae&(1<<-K)-1,ae>>=-K,K+=A;K>0;b=256*b+m[re],re--,K-=8);if(ae===0)ae=1-he;else{if(ae===B)return b?NaN:ve?-u:u;b+=d(2,A),ae-=he}return(ve?-1:1)*b*d(2,ae-A)}function $(m){return m[3]<<24|m[2]<<16|m[1]<<8|m[0]}function le(m){return[255&m]}function Oe(m){return[255&m,m>>8&255]}function be(m){return[255&m,m>>8&255,m>>16&255,m>>24&255]}function qe(m){return L(m,52,8)}function fe(m){return L(m,23,4)}function me(m,A,Q){r(m.prototype,A,{get:function(){return this[Q]}})}function se(m,A,Q,b){var G=In(+Q);if(G+A>m[E])throw a("Wrong index!");var B=m[g]._b,he=G+m[P],K=B.slice(he,he+A);return b?K:K.reverse()}function Ce(m,A,Q,b,G,B){var he=In(+Q);if(he+A>m[E])throw a("Wrong index!");for(var K=m[g]._b,re=he+m[P],ve=b(+G),ae=0;ae<A;ae++)K[re+ae]=ve[B?ae:A-ae-1]}if(ki.ABV){if(!q(function(){i(1)})||!q(function(){new i(-1)})||q(function(){return new i,new i(1.5),new i(NaN),i.name!="ArrayBuffer"})){for(var pe,$e=(i=function(m){return Et(this,i),new l(In(m))}).prototype=l.prototype,Ze=n(l),M=0;Ze.length>M;)(pe=Ze[M++])in i||de(i,pe,l[pe]);$e.constructor=i}var V=new o(new i(2)),x=o.prototype.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||tn(o.prototype,{setInt8:function(m,A){x.call(this,m,A<<24>>24)},setUint8:function(m,A){x.call(this,m,A<<24>>24)}},!0)}else i=function(m){Et(this,i,"ArrayBuffer");var A=In(m);this._b=no.call(new Array(A),0),this[E]=A},o=function(m,A,Q){Et(this,o,"DataView"),Et(m,i,"DataView");var b=m[E],G=xt(A);if(G<0||G>b)throw a("Wrong offset!");if(G+(Q=Q===void 0?b-G:Pe(Q))>b)throw a("Wrong length!");this[g]=m,this[P]=G,this[E]=Q},te&&(me(i,"byteLength","_l"),me(o,"buffer","_b"),me(o,"byteLength","_l"),me(o,"byteOffset","_o")),tn(o.prototype,{getInt8:function(m){return se(this,1,m)[0]<<24>>24},getUint8:function(m){return se(this,1,m)[0]},getInt16:function(m){var A=se(this,2,m,arguments[1]);return(A[1]<<8|A[0])<<16>>16},getUint16:function(m){var A=se(this,2,m,arguments[1]);return A[1]<<8|A[0]},getInt32:function(m){return $(se(this,4,m,arguments[1]))},getUint32:function(m){return $(se(this,4,m,arguments[1]))>>>0},getFloat32:function(m){return w(se(this,4,m,arguments[1]),23,4)},getFloat64:function(m){return w(se(this,8,m,arguments[1]),52,8)},setInt8:function(m,A){Ce(this,1,m,le,A)},setUint8:function(m,A){Ce(this,1,m,le,A)},setInt16:function(m,A){Ce(this,2,m,Oe,A,arguments[2])},setUint16:function(m,A){Ce(this,2,m,Oe,A,arguments[2])},setInt32:function(m,A){Ce(this,4,m,be,A,arguments[2])},setUint32:function(m,A){Ce(this,4,m,be,A,arguments[2])},setFloat32:function(m,A){Ce(this,4,m,fe,A,arguments[2])},setFloat64:function(m,A){Ce(this,8,m,qe,A,arguments[2])}});ot(i,"ArrayBuffer"),ot(o,"DataView"),de(o.prototype,ki.VIEW,!0),e.ArrayBuffer=i,e.DataView=o}),ls=eo("IE_PROTO"),hl=Object.prototype,Na=Object.getPrototypeOf||function(t){return t=Qe(t),H(t,ls)?t[ls]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?hl:null},Ui=z("unscopables"),Mi=Array.prototype;Mi[Ui]==null&&de(Mi,Ui,{});var Rn=function(t){Mi[Ui][t]=!0},br=function(t,e){return{value:e,done:!!t}},_a={};de(_a,z("iterator"),function(){return this});var dl=function(t,e,n){t.prototype=ut(_a,{next:It(1,n)}),ot(t,e+" Iterator")},yn=z("iterator"),li=!([].keys&&"next"in[].keys()),fs=function(){return this},ro=function(t,e,n,r,i,o,s){dl(n,e,r);var a,u,l,c=function(w){if(!li&&w in f)return f[w];switch(w){case"keys":case"values":return function(){return new n(this,w)}}return function(){return new n(this,w)}},d=e+" Iterator",p=i=="values",v=!1,f=t.prototype,g=f[yn]||f["@@iterator"]||i&&f[i],E=g||c(i),P=i?p?c("entries"):E:void 0,L=e=="Array"&&f.entries||g;if(L&&(l=Na(L.call(new t)))!==Object.prototype&&l.next&&(ot(l,d,!0),typeof l[yn]!="function"&&de(l,yn,fs)),p&&g&&g.name!=="values"&&(v=!0,E=function(){return g.call(this)}),(li||v||!f[yn])&&de(f,yn,E),at[e]=E,at[d]=fs,i)if(a={values:p?E:c("values"),keys:o?E:c("keys"),entries:P},s)for(u in a)u in f||Le(f,u,a[u]);else C(C.P+C.F*(li||v),e,a);return a},xi=ro(Array,"Array",function(t,e){this._t=Xe(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,br(1)):br(0,e=="keys"?n:e=="values"?t[n]:[n,t[n]])},"values");at.Arguments=at.Array,Rn("keys"),Rn("values"),Rn("entries");var gl=[].copyWithin||function(t,e){var n=Qe(this),r=Pe(n.length),i=st(t,r),o=st(e,r),s=arguments.length>2?arguments[2]:void 0,a=Math.min((s===void 0?r:st(s,r))-o,r-i),u=1;for(o<i&&i<o+a&&(u=-1,o+=a-1,i+=a-1);a-- >0;)o in n?n[i]=n[o]:delete n[i],i+=u,o+=u;return n};lt(function(t){if(te){var e=_,n=q,r=C,i=ki,o=pl,s=ge,a=Et,u=It,l=de,c=tn,d=xt,p=Pe,v=In,f=st,g=Mt,E=H,P=$n,L=oe,w=Qe,$=Ki,le=ut,Oe=Na,be=pn.f,qe=qi,fe=At,me=z,se=hn,Ce=Zi,pe=zi,$e=xi,Ze=at,M=$r,V=Lr,x=no,m=gl,A=Se,Q=kn,b=A.f,G=Q.f,B=e.RangeError,he=e.TypeError,K=e.Uint8Array,re=Array.prototype,ve=o.ArrayBuffer,ae=o.DataView,Vt=se(0),xr=se(2),ja=se(3),Ya=se(4),Ka=se(5),qa=se(6),za=Ce(!0),Ja=Ce(!1),Xa=$e.values,Qa=$e.keys,Za=$e.entries,eu=re.lastIndexOf,tu=re.reduce,nu=re.reduceRight,oo=re.join,ru=re.sort,so=re.slice,gn=re.toString,Vr=re.toLocaleString,Fr=me("iterator"),xn=me("toStringTag"),ao=fe("typed_constructor"),Vn=fe("def_constructor"),uo=i.CONSTR,Ft=i.TYPED,iu=i.VIEW,ou=se(1,function(I,O){return Hn(pe(I,I[Vn]),O)}),co=n(function(){return new K(new Uint16Array([1]).buffer)[0]===1}),su=!!K&&!!K.prototype.set&&n(function(){new K(1).set({})}),Fn=function(I,O){var D=d(I);if(D<0||D%O)throw B("Wrong offset!");return D},J=function(I){if(L(I)&&Ft in I)return I;throw he(I+" is not a typed array!")},Hn=function(I,O){if(!L(I)||!(ao in I))throw he("It is not a typed array constructor!");return new I(O)},lo=function(I,O){return Hr(pe(I,I[Vn]),O)},Hr=function(I,O){for(var D=0,ne=O.length,W=Hn(I,ne);ne>D;)W[D]=O[D++];return W},Bn=function(I,O,D){b(I,O,{get:function(){return this._d[D]}})},Br=function(I){var O,D,ne,W,ft,Wn,k=w(I),De=arguments.length,Ot=De>1?arguments[1]:void 0,jn=Ot!==void 0,Ht=qe(k);if(Ht!=null&&!$(Ht)){for(Wn=Ht.call(k),ne=[],O=0;!(ft=Wn.next()).done;O++)ne.push(ft.value);k=ne}for(jn&&De>2&&(Ot=s(Ot,arguments[2],2)),O=0,D=p(k.length),W=Hn(this,D);D>O;O++)W[O]=jn?Ot(k[O],O):k[O];return W},au=function(){for(var I=0,O=arguments.length,D=Hn(this,O);O>I;)D[I]=arguments[I++];return D},uu=!!K&&n(function(){Vr.call(new K(1))}),fo=function(){return Vr.apply(uu?so.call(J(this)):J(this),arguments)},po={copyWithin:function(I,O){return m.call(J(this),I,O,arguments.length>2?arguments[2]:void 0)},every:function(I){return Ya(J(this),I,arguments.length>1?arguments[1]:void 0)},fill:function(I){return x.apply(J(this),arguments)},filter:function(I){return lo(this,xr(J(this),I,arguments.length>1?arguments[1]:void 0))},find:function(I){return Ka(J(this),I,arguments.length>1?arguments[1]:void 0)},findIndex:function(I){return qa(J(this),I,arguments.length>1?arguments[1]:void 0)},forEach:function(I){Vt(J(this),I,arguments.length>1?arguments[1]:void 0)},indexOf:function(I){return Ja(J(this),I,arguments.length>1?arguments[1]:void 0)},includes:function(I){return za(J(this),I,arguments.length>1?arguments[1]:void 0)},join:function(I){return oo.apply(J(this),arguments)},lastIndexOf:function(I){return eu.apply(J(this),arguments)},map:function(I){return ou(J(this),I,arguments.length>1?arguments[1]:void 0)},reduce:function(I){return tu.apply(J(this),arguments)},reduceRight:function(I){return nu.apply(J(this),arguments)},reverse:function(){for(var I,O=J(this).length,D=Math.floor(O/2),ne=0;ne<D;)I=this[ne],this[ne++]=this[--O],this[O]=I;return this},some:function(I){return ja(J(this),I,arguments.length>1?arguments[1]:void 0)},sort:function(I){return ru.call(J(this),I)},subarray:function(I,O){var D=J(this),ne=D.length,W=f(I,ne);return new(pe(D,D[Vn]))(D.buffer,D.byteOffset+W*D.BYTES_PER_ELEMENT,p((O===void 0?ne:f(O,ne))-W))}},ho=function(I,O){return lo(this,so.call(J(this),I,O))},go=function(I){J(this);var O=Fn(arguments[1],1),D=this.length,ne=w(I),W=p(ne.length),ft=0;if(W+O>D)throw B("Wrong length!");for(;ft<W;)this[O+ft]=ne[ft++]},Gn={entries:function(){return Za.call(J(this))},keys:function(){return Qa.call(J(this))},values:function(){return Xa.call(J(this))}},vo=function(I,O){return L(I)&&I[Ft]&&typeof O!="symbol"&&O in I&&String(+O)==String(O)},mo=function(I,O){return vo(I,O=g(O,!0))?u(2,I[O]):G(I,O)},Eo=function(I,O,D){return!(vo(I,O=g(O,!0))&&L(D)&&E(D,"value"))||E(D,"get")||E(D,"set")||D.configurable||E(D,"writable")&&!D.writable||E(D,"enumerable")&&!D.enumerable?b(I,O,D):(I[O]=D.value,I)};uo||(Q.f=mo,A.f=Eo),r(r.S+r.F*!uo,"Object",{getOwnPropertyDescriptor:mo,defineProperty:Eo}),n(function(){gn.call({})})&&(gn=Vr=function(){return oo.call(this)});var et=c({},po);c(et,Gn),l(et,Fr,Gn.values),c(et,{slice:ho,set:go,constructor:function(){},toString:gn,toLocaleString:fo}),Bn(et,"buffer","b"),Bn(et,"byteOffset","o"),Bn(et,"byteLength","l"),Bn(et,"length","e"),b(et,xn,{get:function(){return this[Ft]}}),t.exports=function(I,O,D,ne){var W=I+((ne=!!ne)?"Clamped":"")+"Array",ft="get"+I,Wn="set"+I,k=e[W],De=k||{},Ot=k&&Oe(k),jn=!k||!i.ABV,Ht={},Ee=k&&k.prototype,cu=function(Re,Z){b(Re,Z,{get:function(){return function(tt,nt){var ke=tt._d;return ke.v[ft](nt*O+ke.o,co)}(this,Z)},set:function(tt){return function(nt,ke,Ue){var pt=nt._d;ne&&(Ue=(Ue=Math.round(Ue))<0?0:Ue>255?255:255&Ue),pt.v[Wn](ke*O+pt.o,Ue,co)}(this,Z,tt)},enumerable:!0})};jn?(k=D(function(Re,Z,tt,nt){a(Re,k,W,"_d");var ke,Ue,pt,So,To=0,Kn=0;if(L(Z)){if(!(Z instanceof ve||(So=P(Z))=="ArrayBuffer"||So=="SharedArrayBuffer"))return Ft in Z?Hr(k,Z):Br.call(k,Z);ke=Z,Kn=Fn(tt,O);var Wr=Z.byteLength;if(nt===void 0){if(Wr%O||(Ue=Wr-Kn)<0)throw B("Wrong length!")}else if((Ue=p(nt)*O)+Kn>Wr)throw B("Wrong length!");pt=Ue/O}else pt=v(Z),ke=new ve(Ue=pt*O);for(l(Re,"_d",{b:ke,o:Kn,l:Ue,e:pt,v:new ae(ke)});To<pt;)cu(Re,To++)}),Ee=k.prototype=le(et),l(Ee,"constructor",k)):n(function(){k(1)})&&n(function(){new k(-1)})&&M(function(Re){new k,new k(null),new k(1.5),new k(Re)},!0)||(k=D(function(Re,Z,tt,nt){var ke;return a(Re,k,W),L(Z)?Z instanceof ve||(ke=P(Z))=="ArrayBuffer"||ke=="SharedArrayBuffer"?nt!==void 0?new De(Z,Fn(tt,O),nt):tt!==void 0?new De(Z,Fn(tt,O)):new De(Z):Ft in Z?Hr(k,Z):Br.call(k,Z):new De(v(Z))}),Vt(Ot!==Function.prototype?be(De).concat(be(Ot)):be(De),function(Re){Re in k||l(k,Re,De[Re])}),k.prototype=Ee,Ee.constructor=k);var Yn=Ee[Fr],Gr=!!Yn&&(Yn.name=="values"||Yn.name==null),yo=Gn.values;l(k,ao,!0),l(Ee,Ft,W),l(Ee,iu,!0),l(Ee,Vn,k),(ne?new k(1)[xn]==W:xn in Ee)||b(Ee,xn,{get:function(){return W}}),Ht[W]=k,r(r.G+r.W+r.F*(k!=De),Ht),r(r.S,W,{BYTES_PER_ELEMENT:O}),r(r.S+r.F*n(function(){De.of.call(k,1)}),W,{from:Br,of:au}),"BYTES_PER_ELEMENT"in Ee||l(Ee,"BYTES_PER_ELEMENT",O),r(r.P,W,po),V(W),r(r.P+r.F*su,W,{set:go}),r(r.P+r.F*!Gr,W,Gn),Ee.toString!=gn&&(Ee.toString=gn),r(r.P+r.F*n(function(){new k(1).slice()}),W,{slice:ho}),r(r.P+r.F*(n(function(){return[1,2].toLocaleString()!=new k([1,2]).toLocaleString()})||!n(function(){Ee.toLocaleString.call([1,2])})),W,{toLocaleString:fo}),Ze[W]=Gr?Yn:yo,Gr||l(Ee,Fr,yo)}}else t.exports=function(){}})("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}});var mt=lt(function(t){var e=At("meta"),n=Se.f,r=0,i=Object.isExtensible||function(){return!0},o=!q(function(){return i(Object.preventExtensions({}))}),s=function(u){n(u,e,{value:{i:"O"+ ++r,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(u,l){if(!oe(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!H(u,e)){if(!i(u))return"F";if(!l)return"E";s(u)}return u[e].i},getWeak:function(u,l){if(!H(u,e)){if(!i(u))return!0;if(!l)return!1;s(u)}return u[e].w},onFreeze:function(u){return o&&a.NEED&&i(u)&&!H(u,e)&&s(u),u}}});mt.KEY,mt.NEED,mt.fastKey,mt.getWeak,mt.onFreeze;var La={f:z},vl=Se.f,ml=function(t){var e=Ge.Symbol||(Ge.Symbol=_.Symbol||{});t.charAt(0)=="_"||t in e||vl(e,t,{value:La.f(t)})},dn={f:Object.getOwnPropertySymbols},ps=pn.f,El={}.toString,hs=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],$a={f:function(t){return hs&&El.call(t)=="[object Window]"?function(e){try{return ps(e)}catch{return hs.slice()}}(t):ps(Xe(t))}},yl=mt.KEY,Da=kn.f,$t=Se.f,ka=$a.f,_e=_.Symbol,Rr=_.JSON,Zn=Rr&&Rr.stringify,Ie=z("_hidden"),ds=z("toPrimitive"),Sl={}.propertyIsEnumerable,Sn=ln("symbol-registry"),ct=ln("symbols"),Mn=ln("op-symbols"),He=Object.prototype,sn=typeof _e=="function"&&!!dn.f,fi=_.QObject,Vi=!fi||!fi.prototype||!fi.prototype.findChild,Fi=te&&q(function(){return ut($t({},"a",{get:function(){return $t(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var r=Da(He,e);r&&delete He[e],$t(t,e,n),r&&t!==He&&$t(He,e,r)}:$t,gs=function(t){var e=ct[t]=ut(_e.prototype);return e._k=t,e},Hi=sn&&typeof _e.iterator=="symbol"?function(t){return typeof t=="symbol"}:function(t){return t instanceof _e},Ur=function(t,e,n){return t===He&&Ur(Mn,e,n),ce(t),e=Mt(e,!0),ce(n),H(ct,e)?(n.enumerable?(H(t,Ie)&&t[Ie][e]&&(t[Ie][e]=!1),n=ut(n,{enumerable:It(0,!1)})):(H(t,Ie)||$t(t,Ie,It(1,{})),t[Ie][e]=!0),Fi(t,e,n)):$t(t,e,n)},vs=function(t,e){ce(t);for(var n,r=function(s){var a=Pt(s),u=dn.f;if(u)for(var l,c=u(s),d=Dn.f,p=0;c.length>p;)d.call(s,l=c[p++])&&a.push(l);return a}(e=Xe(e)),i=0,o=r.length;o>i;)Ur(t,n=r[i++],e[n]);return t},ms=function(t){var e=Sl.call(this,t=Mt(t,!0));return!(this===He&&H(ct,t)&&!H(Mn,t))&&(!(e||!H(this,t)||!H(ct,t)||H(this,Ie)&&this[Ie][t])||e)},Ua=function(t,e){if(t=Xe(t),e=Mt(e,!0),t!==He||!H(ct,e)||H(Mn,e)){var n=Da(t,e);return!n||!H(ct,e)||H(t,Ie)&&t[Ie][e]||(n.enumerable=!0),n}},Ma=function(t){for(var e,n=ka(Xe(t)),r=[],i=0;n.length>i;)H(ct,e=n[i++])||e==Ie||e==yl||r.push(e);return r},xa=function(t){for(var e,n=t===He,r=ka(n?Mn:Xe(t)),i=[],o=0;r.length>o;)!H(ct,e=r[o++])||n&&!H(He,e)||i.push(ct[e]);return i};sn||(Le((_e=function(){if(this instanceof _e)throw TypeError("Symbol is not a constructor!");var t=At(arguments.length>0?arguments[0]:void 0),e=function(n){this===He&&e.call(Mn,n),H(this,Ie)&&H(this[Ie],t)&&(this[Ie][t]=!1),Fi(this,t,It(1,n))};return te&&Vi&&Fi(He,t,{configurable:!0,set:e}),gs(t)}).prototype,"toString",function(){return this._k}),kn.f=Ua,Se.f=Ur,pn.f=$a.f=Ma,Dn.f=ms,dn.f=xa,te&&Le(He,"propertyIsEnumerable",ms,!0),La.f=function(t){return gs(z(t))}),C(C.G+C.W+C.F*!sn,{Symbol:_e});for(var Es="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ys=0;Es.length>ys;)z(Es[ys++]);for(var Ss=Pt(z.store),Ts=0;Ss.length>Ts;)ml(Ss[Ts++]);C(C.S+C.F*!sn,"Symbol",{for:function(t){return H(Sn,t+="")?Sn[t]:Sn[t]=_e(t)},keyFor:function(t){if(!Hi(t))throw TypeError(t+" is not a symbol!");for(var e in Sn)if(Sn[e]===t)return e},useSetter:function(){Vi=!0},useSimple:function(){Vi=!1}}),C(C.S+C.F*!sn,"Object",{create:function(t,e){return e===void 0?ut(t):vs(ut(t),e)},defineProperty:Ur,defineProperties:vs,getOwnPropertyDescriptor:Ua,getOwnPropertyNames:Ma,getOwnPropertySymbols:xa});var Tl=q(function(){dn.f(1)});C(C.S+C.F*Tl,"Object",{getOwnPropertySymbols:function(t){return dn.f(Qe(t))}}),Rr&&C(C.S+C.F*(!sn||q(function(){var t=_e();return Zn([t])!="[null]"||Zn({a:t})!="{}"||Zn(Object(t))!="{}"})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(oe(e)||t!==void 0)&&!Hi(t))return yr(e)||(e=function(o,s){if(typeof n=="function"&&(s=n.call(this,o,s)),!Hi(s))return s}),r[1]=e,Zn.apply(Rr,r)}}),_e.prototype[ds]||de(_e.prototype,ds,_e.prototype.valueOf),ot(_e,"Symbol"),ot(Math,"Math",!0),ot(_.JSON,"JSON",!0);var Cs=function(t,e,n){e in t?Se.f(t,e,It(0,n)):t[e]=n};C(C.S+C.F*!$r(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,i,o=Qe(t),s=typeof this=="function"?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=u!==void 0,c=0,d=qi(o);if(l&&(u=ge(u,a>2?arguments[2]:void 0,2)),d==null||s==Array&&Ki(d))for(n=new s(e=Pe(o.length));e>c;c++)Cs(n,c,l?u(o[c],c):o[c]);else for(i=d.call(o),n=new s;!(r=i.next()).done;c++)Cs(n,c,l?ea(i,u,[r.value,c],!0):r.value);return n.length=c,n}});var Cl=wa(!0);ro(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Cl(e,n),this._i+=t.length,{value:t,done:!1})});for(var ws=z("iterator"),As=z("toStringTag"),Is=at.Array,Ps={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Os=Pt(Ps),pi=0;pi<Os.length;pi++){var er,tr=Os[pi],wl=Ps[tr],bs=_[tr],Rt=bs&&bs.prototype;if(Rt&&(Rt[ws]||de(Rt,ws,Is),Rt[As]||de(Rt,As,tr),at[tr]=Is,wl))for(er in xi)Rt[er]||Le(Rt,er,xi[er],!0)}var io=Date.prototype,Al=io.toString,Il=io.getTime;new Date(NaN)+""!="Invalid Date"&&Le(io,"toString",function(){var t=Il.call(this);return t==t?Al.call(this):"Invalid Date"}),te&&/./g.flags!="g"&&Se.f(RegExp.prototype,"flags",{configurable:!0,get:Dr});var hi=/./.toString,Rs=function(t){Le(RegExp.prototype,"toString",t,!0)};function ie(t){return t==null||t===""}function Lt(t){return typeof t=="string"&&!ie(t)}function Ns(t,e){if(!Lt(t))return e&&e(),!1;for(var n=!1,r=(t=t.replace(/,$/gi,"")).split(","),i=0;i<r.length;i++)ie(r[i])?e&&e(i):i===0&&(n=!0);return n}q(function(){return hi.call({source:"a",flags:"b"})!="/a/b"})?Rs(function(){var t=ce(this);return"/".concat(t.source,"/","flags"in t?t.flags:!te&&t instanceof RegExp?Dr.call(t):void 0)}):hi.name!="toString"&&Rs(function(){return hi.call(this)}),kr("match",1,function(t,e,n,r){return[function(i){var o=t(this),s=i?.[e];return s!==void 0?s.call(i,o):new RegExp(i)[e](String(o))},function(i){var o=r(n,i,this);if(o.done)return o.value;var s=ce(i),a=String(this);if(!s.global)return on(s,a);var u=s.unicode;s.lastIndex=0;for(var l,c=[],d=0;(l=on(s,a))!==null;){var p=String(l[0]);c[d]=p,p===""&&(s.lastIndex=to(a,Pe(s.lastIndex),u)),d++}return d===0?null:c}]}),C(C.P,"Array",{fill:no}),Rn("fill");var an=new(function(){function t(){}return t.prototype.create=function(){var e=Math.floor(Math.random()*(Math.pow(2,12)-1-0+1))+0,n=Math.floor(Math.random()*(Math.pow(2,32)-1-0+1))+0,r=Math.floor(Math.random()*(Math.pow(2,16)-1-0+1))+0,i=Math.floor(Math.random()*(Math.pow(2,6)-1-0+1))+0,o=Math.floor(Math.random()*(Math.pow(2,8)-1-0+1))+0,s=(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30);function a(u,l,c){c=c||"0";for(var d=l-(u=String(u)).length;d>0;d>>>=1,c+=c)1&d&&(u=c+u);return u}return[a(n.toString(16),8),a(r.toString(16),4),a((16384|e).toString(16),4),a((128|i).toString(16),2),a(o.toString(16),2),a(s.toString(16),12)].join("")},t}());C(C.S,"Array",{isArray:yr});var Pl=Se.f,Ol=pn.f,ye=_.RegExp,Tn=ye,di=ye.prototype,Nn=/a/g,gi=/a/g,_s=new ye(Nn)!==Nn;if(te&&(!_s||q(function(){return gi[z("match")]=!1,ye(Nn)!=Nn||ye(gi)==gi||ye(Nn,"i")!="/a/i"}))){ye=function(t,e){var n=this instanceof ye,r=Ia(t),i=e===void 0;return!n&&r&&t.constructor===ye&&i?t:Qi(_s?new Tn(r&&!i?t.source:t,e):Tn((r=t instanceof ye)?t.source:t,r&&i?Dr.call(t):e),n?this:di,ye)};for(var bl=function(t){t in ye||Pl(ye,t,{configurable:!0,get:function(){return Tn[t]},set:function(e){Tn[t]=e}})},Ls=Ol(Tn),$s=0;Ls.length>$s;)bl(Ls[$s++]);di.constructor=ye,ye.prototype=di,Le(_,"RegExp",ye)}function kt(t,e,n){if(e===void 0&&(e=[]),n===void 0&&(n=!1),Ct(t)!=="object")return t;if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++)e.indexOf(t[i])===-1&&r.push(kt(t[i]));return r}if(t!=null&&t.constructor!==RegExp){var o={};for(var s in t)(n||typeof t[s]!="function")&&e.indexOf(s)===-1&&(o[s]=kt(t[s]));return o}return t}function un(t,e){return t!=null&&Object.prototype.hasOwnProperty.call(t,e)}function hr(t,e){return t.indexOf(e)!==-1}Lr("RegExp");var N=new(function(){function t(){this.sessionDuration=18e5,this.minSessionDuration=3e4,this.defaultEventParams={},this.expiryTimeInfinity=-1,this.keyList=[],this.dataList={},this.initCompletedAt=0,this.initPromise=null}return t.prototype.init=function(){return S(this,void 0,void 0,function(){var e,n,r,i,o;return T(this,function(s){switch(s.label){case 0:return this.initPromise?[2]:[4,h.hiMigration.migrate()];case 1:return s.sent(),e=this.initKeyNameList(),n=this,[4,this.clearInvalidKey(e)];case 2:n.keyList=s.sent(),r=0,s.label=3;case 3:return r<this.keyList.length?(i=this.keyList[r],[4,h.hiStorage.getSavedObject(i)]):[3,6];case 4:if(o=s.sent()||{},!this.isValidStoredItem(o))return[3,5];this.initNoRefreshKeyList().indexOf(i)!=-1?this.dataList[i]=o:this.saveClientValue(i,o.value),s.label=5;case 5:return r++,[3,3];case 6:return this.initCompletedAt=new Date().getTime(),h.sendTask.processEventsReceivedAfterLaunch(),[2]}})})},t.prototype.clearInvalidKey=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<e.length?(r=e[n],[4,h.hiStorage.isKeyExist(r)]):[3,4];case 2:i.sent()||(e.splice(n,1),n--),i.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},t.prototype.handleSessionValue=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!1);var r=this.getSessionValue(),i=e?an.create()+"_"+new Date().getTime():r||an.create()+"_"+new Date().getTime(),o=h.sendTask.getCurFocusStateSessionDuration(!e&&!ie(r)&&!n);this.saveClientValue(qt,i,o),r!==i&&(h.sendTask.upLoadService.isInit=!1)},t.prototype.getSessionValue=function(){return this.getClientValue(qt)},t.prototype.setSessionDuration=function(e){Number.isInteger(e)&&(this.sessionDuration=e,this.handleSessionValue())},t.prototype.setBackgroundSessionDuration=function(e){Number.isInteger(e)&&(this.minSessionDuration=e,this.handleSessionValue())},t.prototype.getClientExpire=function(e){var n=this;return this.isValidStoredItem(this.dataList[e],function(){ie(n.dataList[e])||n.removeClientValue(e)})?this.dataList[e].expiryTime:0},t.prototype.getClientValue=function(e){var n=this;return this.isValidStoredItem(this.dataList[e],function(){ie(n.dataList[e])||n.removeClientValue(e)})?this.dataList[e].value:""},t.prototype.removeClientValue=function(e){delete this.dataList[e],h.hiStorage.removeItem(e);var n=this.keyList.indexOf(e);n!==-1&&delete this.keyList[n]},t.prototype.isKeyExist=function(e){return!!this.getClientValue(e)},t.prototype.saveClientValue=function(e,n,r){this.dataList[e]={value:n,expiryTime:this.makeExpiryTime(r)},h.hiStorage.saveClientValue(e,n,r),this.keyList.indexOf(e)==-1&&this.keyList.push(e)},t.prototype.isValidStoredItem=function(e,n){return e===null||e===""||(r=typeof e=="string"?JSON.parse(e):e)===void 0||isNaN(r.expiryTime)||un(r,"value")===!1?(n&&n(),!1):!(r.expiryTime!==this.expiryTimeInfinity&&r.expiryTime<new Date().getTime())||(n&&n(),!1);var r},t.prototype.makeExpiryTime=function(e){var n=new Date().getTime()+31536e6;return e&&!isNaN(e)&&e>0&&(n=new Date().getTime()+e),n},t.prototype.initKeyNameList=function(){return["HW_ha_clientOaidFlag","HW_ha_serverOaidFlag","HW_ha_pushTokenFlag","HW_ha_getConfigTime",Zt,"HW_ha_isTestDevice","HW_ha_isNewUser",qt,"HW_ha_appVersion","HW_ha_saltExpire","HW_ha_wxAppId",ht.CN,ht.DE,ht.RU,ht.SG,dt.CN,dt.DE,dt.RU,dt.SG,"HW_ha_eventUploadPolicy","HW_ha_disableEvents","HW_ha_apiChannel","HW_ha_firstOpenTime","HW_ha_existShortcut","HW_ha_existUserId",St,_t,Dt]},t.prototype.initNoRefreshKeyList=function(){return[qt,"HW_ha_saltExpire",ht.CN,ht.DE,ht.RU,ht.SG,dt.CN,dt.DE,dt.RU,dt.SG]},t}());fa("trim",function(t){return function(){return t(this,3)}}),C(C.S,"Date",{now:function(){return new Date().getTime()}});var nr=Object.assign,Rl=!nr||q(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),nr({},t)[n]!=7||Object.keys(nr({},e)).join("")!=r})?function(t,e){for(var n=Qe(t),r=arguments.length,i=1,o=dn.f,s=Dn.f;r>i;)for(var a,u=Xi(arguments[i++]),l=o?Pt(u).concat(o(u)):Pt(u),c=l.length,d=0;c>d;)a=l[d++],te&&!s.call(u,a)||(n[a]=u[a]);return n}:nr;C(C.S+C.F,"Object",{assign:Rl});var rr={code:"CE-001",message:"Cannot find agcgw/url from agconnect-service.json."},Tt={code:"PE-002",message:"Length of $1 exceeds the limit. Max Length is $2."},ir={code:"PE-003",message:"$1 missed."},Ds={code:"PE-004",message:"$1 is reserved."},zt={code:"PE-005",message:"Too many $1 parameters. Max number of parameters is $2."},We={code:"PE-006",message:"$1 is invalid."},Jt={code:"PE-007",message:"The size exceeds the limit, the maximum size is $1."},or={code:"IE-004",message:"Missing agconnect sdk."},Je={code:"IE-006",message:"The Analytics Kit is disabled."},ks={code:"SE-001",message:"Failed to initialize the Analytics Kit."},Nr={code:"SE-002",message:"Failed to obtain AAID from hms core sdk."},Us={code:"SE-003",message:"Failed to obtain token from agconnect sdk."},X=function(){function t(){}return t.checkString=function(e,n,r,i){return ie(r)?(h.hiLog.warn(e,ir.code,ir.message,{$1:n}),!1):!(String(r).length>i)||(h.hiLog.warn(e,Tt.code,Tt.message,{$1:n,$2:i}),!1)},t.checkPattern=function(e,n,r,i){return!!i.test(r)||(h.hiLog.warn(e,We.code,We.message,{$1:n}),!1)},t.checkReserve=function(e,n,r,i){for(var o in i)if(r===i[o])return h.hiLog.warn(e,Ds.code,Ds.message,{$1:n}),!1;return!0},t.checkLength=function(e,n,r,i){return!(r>i)||(h.hiLog.warn(e,zt.code,zt.message,{$1:n,$2:i}),!1)},t.checkSwitchIsOpen=function(e,n){return!!n||(h.hiLog.warn(e,Je.code,Je.message),!1)},t.checkExceedMaxSize=function(e,n,r,i){return!(r>i)||(h.hiLog.warn(e,Jt.code,Jt.message,{$1:n}),!1)},t.checkEmpty=function(e,n,r){return!ie(r)||(h.hiLog.warn(e,ir.code,ir.message,{$1:n}),!1)},t}(),Nl="1.0",_l="web",Ll="hianalytics",R="Analytics",Fe="aaid",Ms="token",$l=hn(5),xs=!0;"find"in[]&&Array(1).find(function(){xs=!1}),C(C.P+C.F*xs,"Array",{find:function(t){return $l(this,t,arguments.length>1?arguments[1]:void 0)}}),Rn("find");var Mr=new(function(){function t(){this.attributesCollectors=[]}return t.prototype.register=function(e){this.attributesCollectors.push(e)},t.prototype.collectAll=function(){return S(this,void 0,void 0,function(){var e,n,r,i;return T(this,function(o){switch(o.label){case 0:e={},n=0,r=this.attributesCollectors,o.label=1;case 1:return n<r.length?[4,r[n].doCollect()]:[3,4];case 2:i=o.sent(),Object.assign(e,i),o.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},t.prototype.collect=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return n={},r={},this.attributesCollectors.some(function(o,s){return o.key===e&&(r=o,!0)}),r.doCollect?[4,r.doCollect()]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return[2,n]}})})},t.prototype.syncCollect=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return n={},(r=this.attributesCollectors.find(function(o){return o.key===e}))&&r.doCollect?[4,r.doCollect()]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return[2,n]}})})},t}()),Va=new(function(){function t(){this.tag="AaidCollector",this.key=Fe,this.cache=null}return t.prototype.doCollect=function(){return S(this,void 0,void 0,function(){var e;return T(this,function(n){switch(n.label){case 0:return this.cache&&this.cache[this.key]?[3,2]:(this.cache=this.cache||{},[4,h.hiAgcUtil.getAaid(this.tag)]);case 1:(e=n.sent())&&(this.cache[this.key]=e),n.label=2;case 2:return[2,this.cache]}})})},t.prototype.getAaid=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.doCollect()];case 1:return e.sent(),[2,this.cache[Fe]||""]}})})},t.prototype.refreshAaid=function(){return S(this,void 0,void 0,function(){var e;return T(this,function(n){switch(n.label){case 0:return delete this.cache[Fe],[4,h.hiAgcUtil.deleteAaid()];case 1:return n.sent(),[4,this.doCollect()];case 2:return(e=n.sent())[Fe]&&(y.addConfig("aaid",e[Fe]),y.setIsTestDevice(),N.removeClientValue("HW_ha_isNewUser")),[2]}})})},t}()),Dl=/"/g,kl=function(t,e,n,r){var i=String(fn(t)),o="<"+e;return n!==""&&(o+=" "+n+'="'+String(r).replace(Dl,"&quot;")+'"'),o+">"+i+"</"+e+">"};(function(t,e){var n={};n[t]=e(kl),C(C.P+C.F*q(function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3}),"String",n)})("anchor",function(t){return function(e){return t(this,"a","name",e)}});var Vs=Object.is||function(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e};kr("search",1,function(t,e,n,r){return[function(i){var o=t(this),s=i?.[e];return s!==void 0?s.call(i,o):new RegExp(i)[e](String(o))},function(i){var o=r(n,i,this);if(o.done)return o.value;var s=ce(i),a=String(this),u=s.lastIndex;Vs(u,0)||(s.lastIndex=0);var l=on(s,a);return Vs(s.lastIndex,u)||(s.lastIndex=u),l===null?-1:l.index}]});var vt=function(t,e){if(!oe(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},Ul=Se.f,Fa=mt.fastKey,Cn=te?"_s":"size",sr=function(t,e){var n,r=Fa(e);if(r!=="F")return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},vi={getConstructor:function(t,e,n,r){var i=t(function(o,s){Et(o,i,e,"_i"),o._t=e,o._i=ut(null),o._f=void 0,o._l=void 0,o[Cn]=0,s!=null&&vr(s,n,o[r],o)});return tn(i.prototype,{clear:function(){for(var o=vt(this,e),s=o._i,a=o._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete s[a.i];o._f=o._l=void 0,o[Cn]=0},delete:function(o){var s=vt(this,e),a=sr(s,o);if(a){var u=a.n,l=a.p;delete s._i[a.i],a.r=!0,l&&(l.n=u),u&&(u.p=l),s._f==a&&(s._f=u),s._l==a&&(s._l=l),s[Cn]--}return!!a},forEach:function(o){vt(this,e);for(var s,a=ge(o,arguments.length>1?arguments[1]:void 0,3);s=s?s.n:this._f;)for(a(s.v,s.k,this);s&&s.r;)s=s.p},has:function(o){return!!sr(vt(this,e),o)}}),te&&Ul(i.prototype,"size",{get:function(){return vt(this,e)[Cn]}}),i},def:function(t,e,n){var r,i,o=sr(t,e);return o?o.v=n:(t._l=o={i:i=Fa(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[Cn]++,i!=="F"&&(t._i[i]=o)),t},getEntry:sr,setStrong:function(t,e,n){ro(t,e,function(r,i){this._t=vt(r,e),this._k=i,this._l=void 0},function(){for(var r=this._k,i=this._l;i&&i.r;)i=i.p;return this._t&&(this._l=i=i?i.n:this._t._f)?br(0,r=="keys"?i.k:r=="values"?i.v:[i.k,i.v]):(this._t=void 0,br(1))},n?"entries":"values",!n,!0),Lr(e)}};(function(t,e,n,r,i,o){var s=_[t],a=s,u=i?"set":"add",l=a&&a.prototype,c={},d=function(P){var L=l[P];Le(l,P,P=="delete"||P=="has"?function(w){return!(o&&!oe(w))&&L.call(this,w===0?0:w)}:P=="get"?function(w){return o&&!oe(w)?void 0:L.call(this,w===0?0:w)}:P=="add"?function(w){return L.call(this,w===0?0:w),this}:function(w,$){return L.call(this,w===0?0:w,$),this})};if(typeof a=="function"&&(o||l.forEach&&!q(function(){new a().entries().next()}))){var p=new a,v=p[u](o?{}:-0,1)!=p,f=q(function(){p.has(1)}),g=$r(function(P){new a(P)}),E=!o&&q(function(){for(var P=new a,L=5;L--;)P[u](L,L);return!P.has(-0)});g||((a=e(function(P,L){Et(P,a,t);var w=Qi(new s,P,a);return L!=null&&vr(L,i,w[u],w),w})).prototype=l,l.constructor=a),(f||E)&&(d("delete"),d("has"),i&&d("get")),(E||v)&&d(u),o&&l.clear&&delete l.clear}else a=r.getConstructor(e,t,i,u),tn(a.prototype,n),mt.NEED=!0;ot(a,t),c[t]=a,C(C.G+C.W+C.F*(a!=s),c),o||r.setStrong(a,t,i)})("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=vi.getEntry(vt(this,"Map"),t);return e&&e.v},set:function(t,e){return vi.def(vt(this,"Map"),t===0?0:t,e)}},vi,!0);var ue,Be,Bi,Gi=function(){function t(){}return t.parse=function(e){var n,r,i,o,s,a,u,l,c,d,p,v;if(typeof URL=="function")return new URL(e);var f={hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",searchParams:new Map,username:""},g=e.match(/^(http:|https:)\/\/(.+[:][^/]+[@])?([^:/]+)([:]\d+)?([^#?]+)?([?])?([^#]+)?([#].+)?$/);return g==null||(g=g.map(function(E){return ie(E)?"":E}),f.hash=(n=t.parseHash(g))!==null&&n!==void 0?n:"",f.host=(r=t.parseHost(g))!==null&&r!==void 0?r:"",f.hostname=(i=t.parseHostName(g))!==null&&i!==void 0?i:"",f.href=(o=t.parseHref(g))!==null&&o!==void 0?o:"",f.origin=(s=t.parseOrigin(g))!==null&&s!==void 0?s:"",f.password=(a=t.parsePassword(g))!==null&&a!==void 0?a:"",f.pathname=(u=t.parsePathname(g))!==null&&u!==void 0?u:"",f.port=(l=t.parsePort(g))!==null&&l!==void 0?l:"",f.protocol=(c=t.parseProtocol(g))!==null&&c!==void 0?c:"",f.search=(d=t.parseSearch(g))!==null&&d!==void 0?d:"",f.searchParams=(p=t.parseSearchParams(g))!==null&&p!==void 0?p:new Map,f.username=(v=t.parseUsername(g))!==null&&v!==void 0?v:""),f},t.parseHash=function(e){return e[8]},t.parseHost=function(e){return e[3]+e[4]},t.parseHostName=function(e){return e[3]},t.parseHref=function(e){return e[0]},t.parseOrigin=function(e){return e[1]+"//"+e[3]+e[4]},t.parsePassword=function(e){return ie(e[2])?"":e[2].replace("@","").split(":")[1]},t.parsePathname=function(e){return e[5]},t.parsePort=function(e){return ie(e[4])?"":e[4].replace(":","")},t.parseProtocol=function(e){return e[1]},t.parseSearch=function(e){return e[6]+e[7]},t.parseSearchParams=function(e){if(ie(e[7]))return new Map;var n=e[7].split("&").map(function(s){return s.split("=")}),r=new Map;for(var i in n){var o=n[i];r.set(o[0],decodeURIComponent(o[1]))}return r},t.parseUsername=function(e){return ie(e[2])?"":e[2].replace("@","").split(":")[0]},t}(),Ye=new(function(){function t(){}return t.prototype.getPageIdByUrl=function(e){if(!y.urlClusteringOptions.enabled){var n=e.indexOf("?");return n===-1?e:e.slice(0,n)}var r=e;if(!/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e))return e;var i=this.getUrlInfos(r),o=y.urlClusteringOptions;if(o.removeProtocol===!0&&(i.protocol=""),o.removeOrigin===!0&&(i.origin="",i.protocol=""),o.removeAnchor===!0&&(i.anchor="",i.anchorParams=""),o.removeAllParams)i.urlParams="",i.anchorParams="";else{var s=this.removeParamValues(o,i);i.urlParams=this.generateParams(s.urlParams),ie(i.anchorParams)?i.anchorParams="":i.anchorParams=this.generateParams(s.anchorParams)}return r=this.generatePageId(i),r=this.matchUrlPatterns(r,o)},t.prototype.removeParamValues=function(e,n){var r=this.getParams(n.urlParams),i=this.getParams(n.anchorParams),o=[],s=[];if(Object.prototype.hasOwnProperty.call(e.removeParams,"params")){var a=e.removeParams.params;for(var u in a)a[u].removeValuesOnly===!0?a[u].position==="search"?r[u]="":a[u].position==="anchor"?i[u]="":a[u].position==="both"&&(r[u]="",i[u]=""):a[u].position==="search"?o.push(u):a[u].position==="anchor"?s.push(u):a[u].position==="both"&&(o.push(u),s.push(u))}if(un(e.removeParams,"removeValuesOnly")&&e.removeParams.removeValuesOnly===!0){for(var u in r)o.indexOf(u)===-1&&(r[u]="");for(var u in i)s.indexOf(u)===-1&&(i[u]="")}return{urlParams:r,anchorParams:i}},t.prototype.generateParams=function(e){var n=[];for(var r in e)n.push(r+"="+e[r]);return n.join("&")},t.prototype.generatePageId=function(e){var n="";return e.protocol&&(n+=e.protocol+"//"),e.origin&&(n+=e.origin),e.path&&(n+=e.path),e.urlParams&&(n+="?"+e.urlParams),e.anchor&&(n+="#"+e.anchor,e.anchorParams&&(n+="?"+e.anchorParams)),n},t.prototype.matchUrlPatterns=function(e,n){var r=n.urlPatterns,i=n.urlSeparators,o=e;i="["+i+"]";var s=new RegExp(i);for(var a in r){for(var u=r[a],l=u.split(/\{\w+\}/g),c=0,d=0,p=!1;;){var v=o.indexOf(l[c],d);if(v===-1){p=!1;break}if(c===0&&v!==0){p=!1;break}if(d=v+l[c].length,l.length>=c&&d>o.length){p=!0;break}var f=o;l.length>c&&(f=l[c+1]);var g=o.indexOf(f,d);if(!(p=o.substr(d,g-d).match(s)===null)){p=!1;break}if(c+1>=l.length){p=!0;break}c++}p&&(o=u)}return o},t.prototype.getUrlInfos=function(e){var n=Gi.parse(e),r={};r.protocol=n.protocol,r.origin=n.host,r.path=n.pathname,r.urlParams=n.search===""?"":n.search.split("?")[1];var i=n.hash===""?"":n.hash.split("#")[1];return r.anchor=i===""?"":i.split("?")[0],r.anchorParams=i===""?"":i.split("?")[1],r},t.prototype.getParams=function(e){var n={};if(e===""||e==null)return n;var r=e.split("&");for(var i in r){var o={key:r[i].split("=")[0],value:r[i].split("=")[1]};n[o.key]=o.value}return n},t}());(function(t){t.OFF="OFF",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"})(ue||(ue={})),function(t){t.CN="CN",t.DE="DE",t.RU="RU",t.SG="SG"}(Be||(Be={})),function(t){t.ISFULLLEVEL="is_full_level",t.ISMEMBER="is_member",t.USERLEVEL="user_level"}(Bi||(Bi={}));var Ml=new(function(){function t(){this.tag="TokenCollector",this.key=Ms,this.cache=null}return t.prototype.doCollect=function(){return S(this,void 0,void 0,function(){var e;return T(this,function(n){switch(n.label){case 0:return this.cache=this.cache||{},[4,h.hiAgcUtil.getToken(this.tag)];case 1:return(e=n.sent())&&(this.cache[this.key]=e),[2,this.cache]}})})},t.prototype.getToken=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.doCollect()];case 1:return e.sent(),[2,this.cache[Ms]||""]}})})},t}()),Xt=new function(){this.debugMode=!1,this.terminalName="",this.logDisabled=!1,this.logLevel=ue.INFO,this.routePolicy=null},Yt="Cannot find valid $1 from agconnect-service.json.",y=new(function(){function t(){this.tag="GlobalSetting",this.clientConfig={},this.serverConfig={},this.externalConfig={},this.userProfiles={},this.prevScreenName="",this.currentScreenName="",this.reportType=-1,this.pageEntryTime=0,this.logLevel=ue.INFO,this.urlClusteringOptions={},this.campaignPushInfo=null,this.isBackground=!1,this.eventUploadPolicy={}}return t.prototype.init=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return this.updateAnalyticsUrl(),[2]})})},t.prototype.initDebugMode=function(e,n){y.addConfig(wt,e),e&&n?((n=n.trim()).length>30&&(h.hiLog.warn(R,Tt.code,Tt.message,{$1:"terminalName",$2:30}),n=n.substring(0,30)),y.addConfig(ri,n)):y.addConfig(ri,"")},t.prototype.initLogLevel=function(e,n){e?y.logLevel=ue.OFF:hr(Object.keys(ue),n.toUpperCase())?y.logLevel=n.toUpperCase():y.logLevel=ue.INFO},t.prototype.initDisableEvents=function(){return S(this,void 0,void 0,function(){var e,n,r,i;return T(this,function(o){switch(o.label){case 0:return[4,h.hiClient.isOnline()];case 1:return o.sent()?(e="",[4,y.getHaSdkToken()]):[2];case 2:return(n=o.sent())?(r=h.hiEncryptSendData.generateDisableEventsHttpHeader({sdkToken:n}),(i={}).method="get",i.url=y.getConfig("analyticsUrl")+"/analytics/api/events/online",h.hiEncryptSendData.getOnlineAndDisableEvents(e,r,i).then(function(s){s.disable_evts&&N.saveClientValue("HW_ha_disableEvents",s.disable_evts)}),[2]):[2]}})})},t.prototype.initServerOaidFlag=function(){return S(this,void 0,void 0,function(){var e,n,r,i;return T(this,function(o){switch(o.label){case 0:return y.getRoutePolicy()!==Be.DE?[2,!0]:(e=N.getClientValue("HW_ha_getConfigTime"),!ie(e)&&Date.now()-Number(e)<=864e5?(n=N.getClientValue("HW_ha_serverOaidFlag")||"false",[2,Promise.resolve(n==="true")]):(r="",[4,y.getHaSdkToken()]));case 1:return(i=o.sent())?[2,new Promise(function(s,a){var u=h.hiEncryptSendData.generateOaidFlagHttpHeader({sdkToken:i}),l={method:"get"};l.url=y.getConfig("analyticsUrl")+"/analytics/api/config?config_key=oaid_flag",h.hiEncryptSendData.getServerOaidFlag(r,u,l).then(function(c){var d;N.saveClientValue("HW_ha_getConfigTime",String(Date.now()));var p=(d=c.configList)!==null&&d!==void 0?d:[],v=p[0]&&p[0].config_value==="true";N.saveClientValue("HW_ha_serverOaidFlag",String(v),864e5),s(v)}).catch(function(){N.saveClientValue("HW_ha_serverOaidFlag",String(!1),864e5),s(!1)})})]:[2,!1]}})})},t.prototype.initPrevScreen=function(){for(var e,n=h.sendTask.eventModels.length-1;n>=0;n--){var r=h.sendTask.eventModels[n];if(r.event===Y.EXIT_SCREEN){e=r;break}}e&&this.setCurrentScreen(e.properties[ga])},t.prototype.getAAID=function(){var e=this.getConfig(Fe);return e||(h.hiLog.error(R,Nr.code,Nr.message),"")},t.prototype.getConfigs=function(){return Object.assign({},this.serverConfig,this.clientConfig,this.externalConfig)},t.prototype.getConfig=function(e){var n,r;return(r=(n=this.externalConfig[e])!==null&&n!==void 0?n:this.clientConfig[e])!==null&&r!==void 0?r:this.serverConfig[e]},t.prototype.addConfig=function(e,n){this.externalConfig[e]=n},t.prototype.removeConfig=function(e){delete this.externalConfig[e]},t.prototype.resolveTerminalName=function(){var e;return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return n="",this.getConfig(wt)?(n=(e=this.getConfig(ri))!==null&&e!==void 0?e:"").length!==0?[3,2]:[4,Va.getAaid()]:[3,2];case 1:(r=i.sent())&&(n=r.substring(0,8)),i.label=2;case 2:return[2,n]}})})},t.prototype.setUserProfile=function(e,n){if(X.checkString(R,"user name",e,je)&&X.checkPattern(R,"user name",e,Ea))if(n!==null){if(X.checkString(R,"user value",n,je))if(un(this.userProfiles,e))this.userProfiles[e]=n;else{var r=Object.keys(this.userProfiles).length+1;X.checkLength(R,"User Profile",r,Kc)&&(this.userProfiles[e]=n)}}else delete this.userProfiles[e]},t.prototype.getUserProfiles=function(e){return S(this,void 0,void 0,function(){var n,r,i,o;return T(this,function(s){switch(s.label){case 0:return n={},e?(i=(r=Object).assign,o=[n],[4,h.hiClientProperty.generateUserCommonProperty()]):[3,2];case 1:return n=i.apply(r,o.concat([s.sent()])),[3,3];case 2:n=Object.assign(n,this.userProfiles),s.label=3;case 3:return[2,n]}})})},t.prototype.pageStart=function(e){if(X.checkString(R,"screenName",e,je)){this.pageEntryTime=new Date().getTime();var n={};n[va]=e.indexOf("?")===-1?"":e.slice(e.indexOf("?")+1),n[Sr]=Ye.getPageIdByUrl(this.currentScreenName),n[yt]=Ye.getPageIdByUrl(e),n[Tr]=n[Sr],n[rn]=n[yt],e!==this.currentScreenName&&(this.prevScreenName=this.currentScreenName,this.currentScreenName=e),U.onEvent(Y.ENTER_SCREEN,n,{immediately:!1,isReserved:!0})}},t.prototype.setPrevScreenName=function(e){this.prevScreenName=e},t.prototype.setCurrentScreen=function(e){this.currentScreenName=e},t.prototype.setPageEntryTime=function(e){this.pageEntryTime=e},t.prototype.getPageEntryTime=function(){return this.pageEntryTime},t.prototype.pageEnd=function(e){if(X.checkString(R,"screenName",e,je)&&this.getPageEntryTime()){var n=new Date().getTime()-this.getPageEntryTime(),r={};r[ma]=n,r[yt]=Ye.getPageIdByUrl(e),r[rn]=r[yt],U.onEvent(Y.EXIT_SCREEN,r,{immediately:!1,isReserved:!0})}},t.prototype.setReportType=function(e){this.reportType=e},t.prototype.getReportType=function(){return this.reportType},t.prototype.generateClientKey=function(e){return("HW_"+e+"_"+this.getConfig("appId")).replace(/\./g,"_")},t.prototype.checkRoutePolicy=function(e){var n=h.hiAgcUtil.getConfig().service.analytics;if(!y.getConfig(it))return h.hiLog.warn(R,"","Invalid routePolicy!"),!1;if(!Ns(n.collector_url,function(a){a==null?!e&&h.hiLog.warn(R,rr.code,"Cannot find valid service/analytics/collector_url from agconnect-service.json."):!e&&h.hiLog.warn(R,rr.code,"Cannot find valid service/analytics/collector_url[$1] from agconnect-service.json.",{$1:a})}))return!1;if(y.getConfig("routePolicyUsed")){var r=Object.keys(Be),i=function(a){var u="collector_url_"+r[a].toLowerCase();if(!Ns(n[u],function(l){l==null?e&&n[u]!=null||h.hiLog.warn(R,rr.code,"Cannot find valid service/analytics/$1 from agconnect-service.json.",{$1:u}):e&&n[u]!=null||h.hiLog.warn(R,rr.code,"Cannot find valid service/analytics/$1[$2] from agconnect-service.json.",{$1:u,$2:l})}))return{value:!1}};for(var o in r){var s=i(o);if(Ct(s)==="object")return s.value}}return!0},t.prototype.getHaSdkToken=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2,Ml.getToken()]})})},t.prototype.setRoutePolicy=function(e,n){return(e=(e=e??"").toUpperCase())===""?y.addConfig(it,"UNKNOWN"):un(Be,e)?y.addConfig(it,e):y.addConfig(it,null),y.addConfig("routePolicyUsed",e!==""),!!this.checkRoutePolicy(n)},t.prototype.getRoutePolicy=function(){var e,n=this.getConfig(it);return n==="UNKNOWN"?(e=h.hiAgcUtil.getConfig().region)!==null&&e!==void 0?e:"":n},t.prototype.updateAnalyticsUrl=function(){var e;return S(this,void 0,void 0,function(){var n,r,i;return T(this,function(o){switch(o.label){case 0:return n=this,[4,Mr.syncCollect("serverConfig")];case 1:return n.serverConfig=o.sent(),r=this.serverConfig.analyticsUrl,(i=y.getConfig(it))==null?r="":i!=="UNKNOWN"&&(r=(e=this.serverConfig.collectorUrls[i.toUpperCase()])!==null&&e!==void 0?e:""),y.addConfig("analyticsUrl",r),h.hiSendData.setUrl(r),[2]}})})},t.prototype.checkAgcConfig=function(){var e,n,r,i,o,s,a=h.hiAgcUtil.getConfig();Lt((n=(e=a?.service)===null||e===void 0?void 0:e.analytics)===null||n===void 0?void 0:n.resource_id)||h.hiLog.warn(R,"",Yt,{$1:"service/analytics/resource_id"}),Lt((r=a?.client)===null||r===void 0?void 0:r.product_id)||h.hiLog.warn(R,"",Yt,{$1:"client/product_id"}),Lt((i=a?.client)===null||i===void 0?void 0:i.app_id)||h.hiLog.warn(R,"",Yt,{$1:"client/app_id"}),Lt((o=a?.client)===null||o===void 0?void 0:o.client_id)||h.hiLog.warn(R,"",Yt,{$1:"client/client_id"});var u=(s=a?.client)===null||s===void 0?void 0:s.package_name;u==null||Lt(u)||h.hiLog.warn(R,"",Yt,{$1:"client/package_name"});var l=a?.region;return l==null||Lt(l)&&Be[l]||h.hiLog.warn(R,"",Yt,{$1:"region"}),y.setRoutePolicy(Xt.routePolicy,!1)},t.prototype.getNewUserFlag=function(){if(N.getClientValue("HW_ha_isNewUser")==="false")return 0;var e=Number(N.getClientValue("HW_ha_firstOpenTime")),n=new Date(e).toDateString()===new Date().toDateString();return n||N.saveClientValue("HW_ha_isNewUser","false"),n?1:0},t.prototype.setIsTestDevice=function(){var e=y.getConfig(wt),n=N.getClientValue("HW_ha_isTestDevice")==="true"||e?"true":"false";n==="true"&&N.saveClientValue("HW_ha_isTestDevice",n)},t.prototype.isTestDevice=function(){return N.getClientValue("HW_ha_isTestDevice")==="true"?1:0},t}()),Wi={ON_SCHEDULED_TIME_POLICY:5,ON_CACHE_THRESHOLD_POLICY:30},xl=function(){function t(){this.reportPolicyDefault=Wi}return t.prototype.eventUploadPolicyLaunch=function(){h.sendTask.uploadData(!0,Y.LaunchApp)},t.prototype.eventUploadPolicyThreshold=function(){var e=this.getEventUploadPolicy();if(e.ON_CACHE_THRESHOLD_POLICY){if(e.ON_CACHE_THRESHOLD_POLICY<Ar||e.ON_CACHE_THRESHOLD_POLICY>Ir)return;h.sendTask.eventModels.filter(function(n){return n.event!==Y.STOP_ANALYTICS_COLLECTION&&n.sendState===xe||n.sendState===Ve}).length>=e.ON_CACHE_THRESHOLD_POLICY&&h.sendTask.uploadData(!1,"")}},t.prototype.eventUploadPolicyScheduleTime=function(){var e,n=this.getEventUploadPolicy();if(y.getConfig(wt))e=1e3;else{if(!n.ON_SCHEDULED_TIME_POLICY||n.ON_SCHEDULED_TIME_POLICY<Cr||n.ON_SCHEDULED_TIME_POLICY>wr)return;e=1e3*n.ON_SCHEDULED_TIME_POLICY}h.sendTask.setHeartbeatFunc(e)},t.prototype.eventUploadPolicyBackground=function(){},t.prototype.logUploadPolicyLaunch=function(){var e=this.getEventUploadPolicy();h.hiAutoReport.isLaunchUpload()&&e.ON_APP_LAUNCH_POLICY&&e.ON_APP_LAUNCH_POLICY>0&&h.sendLogTask.uploadData()},t.prototype.logUploadPolicyThreshold=function(){var e=this.getEventUploadPolicy();if(e.ON_CACHE_THRESHOLD_POLICY){if(e.ON_CACHE_THRESHOLD_POLICY<Ar||e.ON_CACHE_THRESHOLD_POLICY>Ir)return;h.sendLogTask.logRecords.filter(function(n){return n.sendState===xe||n.sendState===Ve}).length>=e.ON_CACHE_THRESHOLD_POLICY&&h.sendLogTask.uploadData()}},t.prototype.logUploadPolicyScheduleTime=function(){var e,n=this.getEventUploadPolicy();if(y.getConfig(wt))e=1e3;else{if(!n.ON_SCHEDULED_TIME_POLICY||n.ON_SCHEDULED_TIME_POLICY<Cr||n.ON_SCHEDULED_TIME_POLICY>wr)return;e=1e3*n.ON_SCHEDULED_TIME_POLICY}h.sendLogTask.setHeartbeatFunc(e)},t.prototype.logUploadPolicyBackground=function(){},t.prototype.getUploadMaxCount=function(){var e=this.getEventUploadPolicy();return e.ON_CACHE_THRESHOLD_POLICY===-1?300:Math.min(300,e.ON_CACHE_THRESHOLD_POLICY)},t.prototype.getEventUploadPolicy=function(){var e=N.getClientValue("HW_ha_eventUploadPolicy");return ie(e)&&(e=this.reportPolicyDefault,N.saveClientValue("HW_ha_eventUploadPolicy",e)),e},t}(),Vl=function(){function t(){}return t.prototype.queryAllModels=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,this.generateEventModels()]})})},t.prototype.queryModels=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2,this.generateEventModels(void 0,e)]})})},t.prototype.saveModel=function(e,n){return S(this,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:return r=kt(n,["sendState","collectionUrl","routePolicy"]),i=JSON.stringify(r),[4,h.hiDBStorage.saveClientValue(e,i,!0)];case 1:return o.sent(),[2]}})})},t.prototype.removeModel=function(e){h.hiDBStorage.removeItem(e,!0)},t.prototype.removeModels=function(e){h.hiDBStorage.removeItems(e,!0)},t.prototype.removeAllModels=function(){h.hiDBStorage.removeAllItems(!0)},t.prototype.generateEventModels=function(e,n){return S(this,void 0,void 0,function(){var r,i,o,s,a,u;return T(this,function(l){switch(l.label){case 0:return[4,h.hiDBStorage.getAllClientValue(!0)];case 1:for(r=l.sent(),i=[],o=0;o<r.length;o++)s=r[o],a=s,(u=JSON.parse(a)).id!=null&&i.push(u);return[2,i]}})})},t}(),Fl=function(){function t(){}return t.prototype.getDatabase=function(){},t.prototype.getAllClientValue=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,Promise.resolve([""])]})})},t.prototype.getClientValues=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2,Promise.resolve([""])]})})},t.prototype.getClientValue=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2,Promise.resolve("")]})})},t.prototype.isKeyExist=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2,Promise.resolve(!1)]})})},t.prototype.saveClientValue=function(e,n,r){return S(this,void 0,void 0,function(){return T(this,function(i){return[2]})})},t.prototype.removeItem=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2]})})},t.prototype.removeItems=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2]})})},t.prototype.removeAllItems=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2]})})},t}(),h=new(function(){function t(){this.hiAnalytics={},this.hiLog={},this.hiAutoReport={},this.hiEncryptSendData={},this.hiSendData={},this.hiClient={},this.hiClientProperty={},this.hiStorage={},this.hiDBStorage={},this.hiFileStorage={},this.hiMigration={},this.sendLogTask={},this.sendTask={},this.sendPolicy={},this.hiEncrypt={},this.hiKeyStore={},this.hiAgcUtil={},this.hiEventModelsAdapter={},this.setSendPolicy(new xl),this.setHiEventModelsAdapter(new Vl),this.setHiDBStorage(new Fl)}return t.prototype.setHiAnalytics=function(e){this.hiAnalytics=e},t.prototype.setHiLog=function(e){this.hiLog=e},t.prototype.setHiAutoReport=function(e){this.hiAutoReport=e},t.prototype.setHiEncryptSendData=function(e){this.hiEncryptSendData=e,this.setHiSendData(e)},t.prototype.setHiSendData=function(e){this.hiSendData=e},t.prototype.setHiClient=function(e){this.hiClient=e},t.prototype.setHiClientProperty=function(e){this.hiClientProperty=e},t.prototype.setHiStorage=function(e){this.hiStorage=e},t.prototype.setHiDBStorage=function(e){this.hiDBStorage=e},t.prototype.setHiFileStorage=function(e){this.hiFileStorage=e},t.prototype.setHiMigration=function(e){this.hiMigration=e},t.prototype.setSendLogTask=function(e){this.sendLogTask=e},t.prototype.setSendTask=function(e){this.sendTask=e},t.prototype.setSendPolicy=function(e){this.sendPolicy=e},t.prototype.setHiEncrypt=function(e){this.hiEncrypt=e},t.prototype.setHiKeyStore=function(e){this.hiKeyStore=e},t.prototype.setHiAgcUtil=function(e){this.hiAgcUtil=e},t.prototype.setHiEventModelsAdapter=function(e){this.hiEventModelsAdapter=e},t}()),U=new(function(){function t(){this.eventsReceived=[],this.initialized=!1,this.reportFlag=!0}return t.prototype.init=function(){var e=N.getClientValue(St);e==null||e.length===0?N.saveClientValue(St,String(this.reportFlag)):this.reportFlag=e===String(!0)},t.prototype.setAnalyticsEnabled=function(e){if(this.reportFlag!==e&&(this.reportFlag=e,N.saveClientValue(St,String(e)),!e)){var n=N.getClientValue(Dt);n!=="true"&&n!=="false"||N.saveClientValue(Dt,String(!0));var r=N.getClientValue(_t);r!=="true"&&r!=="false"||N.saveClientValue(_t,String(!0)),h.hiEventModelsAdapter.removeAllModels(),this.onEvent(Y.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0})}},t.prototype.setRestrictionEnabled=function(e){if(this.reportFlag&&(N.saveClientValue(Dt,String(e)),e)){this.onEvent(Y.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0});var n=N.getClientValue(_t);n!=="true"&&n!=="false"||N.saveClientValue(_t,String(e))}},t.prototype.isRestrictionEnabled=function(){var e=N.getClientValue(St),n=N.getClientValue(Dt);return n!==""?n==="true":e!=="true"},t.prototype.setRestrictionShared=function(e){this.reportFlag?y.getRoutePolicy()===Be.CN?this.isRestrictionEnabled()?h.hiLog.warn(R,"","Cannot set restriction_shared because restriction_enabled is true!"):N.saveClientValue(_t,String(e)):h.hiLog.warn(R,"","Cannot set restriction_shared because routePolicy is not CN!"):h.hiLog.warn(R,"","Cannot set restriction_shared because analytics_enabled is false!")},t.prototype.isRestrictionShared=function(){return y.getRoutePolicy()!==Be.CN||!this.reportFlag||y.getRoutePolicy()!==Be.CN||!!this.isRestrictionEnabled()||N.getClientValue(_t)==="true"},t.prototype.checkEventLength=function(e){return!!X.checkString(R,"eventId",e,je)},t.prototype.checkIsPredineEvents=function(e){var n=!1,r=ze;for(var i in r)if(e===r[i]){n=!0;break}return n},t.prototype.getEventParams=function(e,n){n===void 0&&(n={});var r={};for(var i in this.putEventParams(r,n,e,!1),this.putEventParams(r,N.defaultEventParams,e,!0),r)r[i]==null&&delete r[i];var o=Object.keys(r);if(o.length>oi){h.hiLog.warn(R,zt.code,zt.message,{$1:"Event",$2:oi});for(var s=o.slice(oi),a=0;a<s.length;a++)delete r[i=s[a]]}return r},t.prototype.putEventParams=function(e,n,r,i){if(i&&r)return e;for(var o in n)i&&un(e,o)||X.checkString(R,"params key",o,je)&&(r||X.checkPattern(R,"params key",o,as))&&(e[o]=n[o]);return e},t.prototype.checkEventIsValid=function(e,n){return!!this.checkEventLength(e)&&!(!n&&!X.checkReserve(R,"eventId",e,Y))&&!!(this.checkIsPredineEvents(e)||n||X.checkPattern(R,"eventId",e,qc))&&(!this.isDisableEvent(e)||(h.hiLog.info("The event is disabled: "+e),!1))},t.prototype.processEventsReceived=function(){var e=this;this.eventsReceived.length!==0&&(this.reportFlag?this.eventsReceived.forEach(function(n){var r=n.eventId,i=n.param,o=n.config;o.isReserved=Ca.some(function(s){return s===r}),e.onEvent(r,i,o)}):h.hiLog.warn(R,Je.code,Je.message),this.eventsReceived.length=0)},t.prototype.onEventCallback=function(e,n,r){n===void 0&&(n={}),r===void 0&&(r={}),this.initialized?this.reportFlag?this.onEvent(e,n,r):h.hiLog.warn(R,Je.code,Je.message):(this.eventsReceived.length>=300&&(this.eventsReceived.length=0),this.eventsReceived.push({eventId:e,param:n,config:r}))},t.prototype.onEvent=function(e,n,r){n===void 0&&(n={}),r===void 0&&(r={});var i=r.isReserved||!1,o=r.forceReport||!1;if(this.checkEventIsValid(e,i)&&(o||X.checkSwitchIsOpen(R,this.reportFlag))){var s=this.getEventParams(i,n),a=ss/1024+"KB",u=JSON.stringify(s).length;if(X.checkExceedMaxSize(R,a,u,ss)){s.$TaskId="";var l={};l[Mc]=Ye.getPageIdByUrl(y.prevScreenName),l[ga]=Ye.getPageIdByUrl(y.currentScreenName),this.putEventParams(s,l,i,!1);var c=r.eventtime||new Date().getTime();h.sendTask.onEvent(e,s,"oper",c,r)}}},t.prototype.addDefaultEventParams=function(e){if(e!=null)if(Ct(e)==="object"){var n={};for(var r in e)(i=e[r])==null?delete N.defaultEventParams[r]:n[r]=i;for(var r in n){var i=n[r];if(this.validateDefaultParam(r,i)){if(!un(N.defaultEventParams,r)){var o=Object.keys(N.defaultEventParams).length+1;if(!X.checkLength(R,"default event",o,Yc))continue}N.defaultEventParams[r]=i}}}else h.hiLog.warn(R,We.code,We.message,{$1:"default event params"});else N.defaultEventParams={}},t.prototype.validateDefaultParam=function(e,n){return!!X.checkString(R,"default event params key",e,je)&&!!X.checkPattern(R,"default event params key",e,as)&&(!(typeof n=="string"&&n.length>je)||(h.hiLog.warn(R,Tt.code,Tt.message,{$1:"default event params value",$2:je}),!1))},t.prototype.isDisableEvent=function(e){var n=N.getClientValue("HW_ha_disableEvents");return Ct(n)==="object"&&n instanceof Array&&n.indexOf(e)!==-1},t.prototype.writeLog=function(e,n){return S(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,p;return T(this,function(v){return e==null||ie(n)?(h.hiLog.warn(R,We.code,We.message,{$1:e==null?"logConfig":"content"}),[2]):typeof n!="string"?(h.hiLog.warn(R,We.code,We.message,{$1:"content"}),[2]):(r=e.region,i=e.projectId,o=e.groupId,s=e.streamId,a=e.tags,X.checkString(R,"region",r,Qn)&&X.checkString(R,"projectId",i,Qn)&&X.checkString(R,"groupId",o,Qn)&&X.checkString(R,"streamId",s,Qn)?(a!=null&&Ct(a)==="object"||(h.hiLog.warn(R,We.code,We.message,{$1:"tags"}),a={}),u={},(l=Object.entries(a||{}).filter(function(f){var g=f[0],E=f[1];return!!X.checkString(R,"tag key",g,Wc)&&!!X.checkPattern(R,"tag key",g,Ea)&&!!X.checkString(R,"tag value",E,je)})).length>si&&h.hiLog.warn(R,zt.code,zt.message,{$1:"tags",$2:si}),l.slice(0,si).forEach(function(f){var g=f[0],E=f[1];u[g]=E}),n.length>ii&&(h.hiLog.warn(R,Tt.code,Tt.message,{$1:"content",$2:ii}),n=n.substring(0,ii)),c=y.getConfig(it),d=h.hiAgcUtil.getConfig().region||"",p={region:r,projectId:i,groupId:o,streamId:s,tags:u,id:an.create(),content:n,type:"maint",eventtime:new Date().getTime(),collectionUrl:y.getConfig("analyticsUrl"),routePolicy:c==="UNKNOWN"?d:c,sendState:ya},h.sendLogTask.writeLog(p),[2]):[2])})})},t.prototype.onReport=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return h.sendTask.uploadData(!1,""),h.sendLogTask.uploadData(),[2]})})},t}()),dr=new(function(){function t(){this.userId="",this.clientId=""}return t.prototype.init=function(){},t.prototype.setUserId=function(e){var n=this.isValidUserId(e);n&&N.saveClientValue("HW_ha_existUserId",e!=null?zc:Ta),(e=n&&e!=null?String(e):"")!==this.userId&&N.handleSessionValue(),this.userId=e||""},t.prototype.isValidUserId=function(e){return e==null||(typeof e!="string"&&typeof e!="number"?(h.hiLog.warn(R,"",We.message,{$1:"userId"}),!1):!!X.checkString(R,"userId",e,je))},t.prototype.setSessionDuration=function(e){return e<Wt.value&&(h.hiLog.warn(R,Jt.code,"session duration less than minimum $1.",{$1:Wt.label}),e=Wt.value),e>jt.value&&(h.hiLog.warn(R,Jt.code,"session duration greater than maximum $1.",{$1:jt.label}),e=jt.value),N.setSessionDuration(e)},t.prototype.setBackgroundSessionDuration=function(e){return e<Wt.value&&(h.hiLog.warn(R,Jt.code,"min session duration less than minimum $1.",{$1:Wt.label}),e=Wt.value),e>jt.value&&(h.hiLog.warn(R,Jt.code,"min session duration greater than maximum $1.",{$1:jt.label}),e=jt.value),N.setBackgroundSessionDuration(e)},t.prototype.getUserInfo=function(e){var n=(e===void 0?{}:e).routePolicy,r=n===void 0?"":n;return S(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,p,v;return T(this,function(f){switch(f.label){case 0:return i=y.getAAID(),[4,h.hiClient.getSystemOaidFlag()];case 1:return o=f.sent(),(a=o)?[4,h.hiClient.getClientOaidFlag()]:[3,3];case 2:a=f.sent(),f.label=3;case 3:return s=a,(u=o)?[4,h.hiClient.getServerOaidFlag(r)]:[3,5];case 4:u=f.sent(),f.label=5;case 5:return l={systemOaidFlag:o,clientOaidFlag:s,serverOaidFlag:u},d={aaid:i,userid:this.userId},[4,h.hiClientProperty.generateUserCommonProperty(l)];case 6:return d.properties=f.sent(),d.events_global_properties=y.userProfiles,c=d,[3,11];case 7:return(void 0).oaid=f.sent(),p=c,[4,h.hiClient.getOaidSource()];case 8:return p.oaid_source=f.sent(),[3,10];case 9:c.oaid="",c.oaid_source="",f.label=10;case 10:case 11:return[3,15];case 12:return(void 0).oaid=f.sent(),v=c,[4,h.hiClient.getOaidSource()];case 13:return v.oaid_source=f.sent(),[3,15];case 14:c.oaid="",c.oaid_source="",f.label=15;case 15:return[2,c]}})})},t}()),Me=new(function(){function t(){this.autoReport={},this.hiStorage={},this.hiClient={}}return t.prototype.init=function(){this.autoReport=h.hiAutoReport,this.hiStorage=h.hiStorage,this.hiClient=h.hiClient},t.prototype.reportFirstOpenEvent=function(e){e===void 0&&(e=!1);var n=new Date().getTime();N.saveClientValue("HW_ha_firstOpenTime",String(n));var r={eventtime:n,immediately:!1,isReserved:!0},i={},o=e?"clearCachedData":h.hiClient.getStartType();o!=null&&(i[is]=o);var s=h.hiClient.getStartScene();s!=null&&(i[os]=s),U.onEvent(Y.FIRST_OPEN,i,r)},t.prototype.reportLaunchAppEvent=function(e){e===void 0&&(e=!1);var n={},r=e?"clearCachedData":h.hiClient.getStartType();r!=null&&(n[is]=r);var i=h.hiClient.getStartScene();i!=null&&(n[os]=i),U.onEvent(Y.LaunchApp,n,{immediately:!1,isReserved:!0})},t.prototype.reportPageEntryEvent=function(){this.reportPageEntryEventAsync()},t.prototype.reportPageEntryEventAsync=function(){return S(this,void 0,void 0,function(){var e,n,r,i,o;return T(this,function(s){switch(s.label){case 0:return[4,h.hiAnalytics.initPromise];case 1:return s.sent(),e={},n=new Date().getTime(),y.setPageEntryTime(n),r=y.currentScreenName,i=h.hiClient.getHref(),y.setPrevScreenName(y.currentScreenName),y.setCurrentScreen(i),e[va]=i.indexOf("?")===-1?"":i.slice(i.indexOf("?")+1),e[Sr]=r,e[yt]=Ye.getPageIdByUrl(i),e[Tr]=e[Sr],e[rn]=e[yt],o={immediately:!1,isReserved:!0},U.onEvent(Y.ENTER_SCREEN,e,o),[2]}})})},t.prototype.reportPageExitEvent=function(){var e=y.getPageEntryTime();if(e){var n={},r=new Date().getTime()-e;n[yt]=Ye.getPageIdByUrl(y.currentScreenName),n[rn]=n[yt],n[ma]=r,U.onEvent(Y.EXIT_SCREEN,n,{immediately:!0,isReserved:!0})}},t.prototype.reportCampaignPushInfoEvent=function(){var e=y.campaignPushInfo;if(e){var n={};n.$CampaignPushInfo=JSON.stringify(e),n.$JobId=e.jobId,n.$ActivityId=e.activityId,U.onEvent(Y.CampaignPushClick,n,{immediately:!1,isReserved:!0})}},t.prototype.computeLoadTime=function(){},t.prototype.stateChanged=function(){},t}()),Fs=new(function(){function t(){this.eventListeners=[]}return t.prototype.addListener=function(e){this.eventListeners.push(e)},t.prototype.init=function(){return S(this,void 0,void 0,function(){var e,n;return T(this,function(r){switch(r.label){case 0:e=0,n=this.eventListeners,r.label=1;case 1:return e<n.length?[4,n[e].init()]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t}()),Hl=new(function(){function t(){}return t.prototype.init=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){return e&&e.forEach(function(i){Mr.register(i)}),n&&n.forEach(function(i){Fs.addListener(i)}),Fs.init(),[2]})})},t}()),Bl=new(function(){function t(){this.key="serverConfig",this.cache=null}return t.prototype.doCollect=function(){return S(this,void 0,void 0,function(){var e,n,r;return T(this,function(i){if(!this.cache){for(r in e=h.hiAgcUtil.getConfig(),n={},Be)n[r]=this.getUrl(e.service.analytics["collector_url_"+r.toLowerCase()]);this.cache={productId:e.client.product_id,appId:e.client.app_id,clientId:e.client.client_id,packageName:e.client.package_name||e.client.app_id,resourceId:e.service.analytics.resource_id,collectorUrls:n,analyticsUrl:this.getUrl(e.service.analytics.collector_url)}}return[2,this.cache]})})},t.prototype.getUrl=function(e){if(e!=null&&typeof e!="string")return"";var n=(e??"").split(",")[0];return/^https?:\/\//.test(n)||(n="https://"+n),n!==""&&h.sendTask.isServerWebV3()&&(n+="/webv3"),n},t}()),Gl=new(function(){function t(){}return t.prototype.init=function(){Me.init(),U.init()},t.prototype.onEvent=function(){},t}()),Ha=new function(){this.enabled=!1,this.removeProtocol=!0,this.removeOrigin=!1,this.removeAllParams=!0,this.removeParams={removeValuesOnly:!0,params:{}},this.removeAnchor=!0,this.urlPatterns=[],this.urlSeparators=":/.?=&#"},Wl=function(){function t(e,n){var r=this;h.setHiAnalytics(this),this.preConfigPromise=this.preConfig(e,n),this.preStoragePromise=N.init(),this.initPromise=this.initSDK(e),this.initPromise.then(function(){h.hiLog.info("init success"),r.initDone()}).catch(function(i){h.hiLog.warn(R,ks.code,ks.message)})}return t.prototype.preConfig=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return[4,h.hiAgcUtil.init()];case 1:return r.sent(),y.initDebugMode(Xt.debugMode,Xt.terminalName),y.initLogLevel(Xt.logDisabled,Xt.logLevel),y.urlClusteringOptions=JSON.parse(JSON.stringify(Ha)),y.addConfig("launchAppTime",new Date().getTime()),[2,y.checkAgcConfig()]}})})},t.prototype.initDone=function(){U.initialized=!0,U.processEventsReceived(),h.sendPolicy.eventUploadPolicyScheduleTime(),h.sendPolicy.logUploadPolicyScheduleTime(),setTimeout(function(){h.sendPolicy.eventUploadPolicyLaunch(),h.sendPolicy.logUploadPolicyLaunch()},50),setInterval(function(){h.sendPolicy.eventUploadPolicyThreshold(),h.sendPolicy.logUploadPolicyThreshold()},1e3)},t.prototype.initSDK=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return h.hiAutoReport.initAutoEvents(),[4,this.preConfigPromise];case 1:return i.sent()?[4,this.preStoragePromise]:[2,Promise.reject()];case 2:return i.sent(),y.campaignPushInfo=h.hiClient.getCampaignPushInfo(),[4,Hl.init([Bl,Va],[Gl])];case 3:return i.sent(),[4,y.init()];case 4:return i.sent(),dr.init(),[4,h.sendTask.init()];case 5:return i.sent(),[4,h.sendLogTask.init()];case 6:return i.sent(),y.initPrevScreen(),h.hiAutoReport.initEventTriggers(),[4,Mr.collect(Fe)];case 7:return(n=i.sent())[Fe]&&(y.addConfig("aaid",n[Fe]),y.setIsTestDevice()),(r=N.getClientValue(Zt))==null||r===""?(Me.reportFirstOpenEvent(),N.saveClientValue(Zt,"true")):r==="true"&&N.saveClientValue(Zt,"false"),y.getNewUserFlag(),N.getSessionValue()||Me.reportLaunchAppEvent(),Me.reportCampaignPushInfoEvent(),[2]}})})},t.prototype.destroySDK=function(){},t.prototype.setAnalyticsEnabled=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.setAnalyticsEnabled(e),[2]}})})},t.prototype.setRestrictionEnabled=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.setRestrictionEnabled(e),[2]}})})},t.prototype.isRestrictionEnabled=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,U.isRestrictionEnabled()]}})})},t.prototype.setRestrictionShared=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.setRestrictionShared(e),[2]}})})},t.prototype.isRestrictionShared=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,U.isRestrictionShared()]}})})},t.prototype.setUserId=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.reportFlag?(dr.setUserId(e),[2]):[2]}})})},t.prototype.setUserProfile=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return[4,this.initPromise];case 1:return r.sent(),U.reportFlag?(y.setUserProfile(e,n),[2]):[2]}})})},t.prototype.getUserProfiles=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.reportFlag?[2,y.getUserProfiles(e)]:[2,{}]}})})},t.prototype.pageStart=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.reportFlag?(y.pageStart(e),[2]):[2]}})})},t.prototype.pageEnd=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.reportFlag?(y.pageEnd(e),[2]):[2]}})})},t.prototype.setSessionDuration=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.preConfigPromise];case 1:return n.sent(),U.reportFlag?(Number.isInteger(e)&&dr.setSessionDuration(e),[2]):[2]}})})},t.prototype.onEvent=function(e,n){return S(this,void 0,void 0,function(){var r;return T(this,function(i){switch(i.label){case 0:return[4,this.initPromise];case 1:return i.sent(),U.reportFlag?(r={isReserved:Ca.some(function(o){return o===e})},U.onEvent(e,n,r),[2]):(h.hiLog.warn(R,Je.code,Je.message),[2])}})})},t.prototype.setAppVersion=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.preConfigPromise];case 1:return n.sent(),U.reportFlag?X.checkString(R,"app version",e,jc)?(y.addConfig("appVersion",e),[2]):[2]:[2]}})})},t.prototype.getAAID=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,y.getAAID()]}})})},t.prototype.addDefaultEventParams=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),U.reportFlag?(U.addDefaultEventParams(e),[2]):[2]}})})},t.prototype.writeLog=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return[4,this.initPromise];case 1:return r.sent(),U.reportFlag?(U.writeLog(e,n),[2]):(h.hiLog.warn(R,Je.code,Je.message),[2])}})})},t.prototype.setRoutePolicy=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return[4,this.initPromise];case 1:return i.sent(),n=y.getRoutePolicy(),y.setRoutePolicy(e),r=y.getRoutePolicy(),n===r?[2]:(U.reportFlag||h.sendTask.clearData(n),[4,y.updateAnalyticsUrl()]);case 2:return i.sent(),[2]}})})},t.prototype.setReportPolicies=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return[4,this.preConfigPromise];case 1:return r.sent(),n={},typeof e.ON_SCHEDULED_TIME_POLICY!="number"?n.ON_SCHEDULED_TIME_POLICY=Wi.ON_SCHEDULED_TIME_POLICY:e.ON_SCHEDULED_TIME_POLICY<Cr?n.ON_SCHEDULED_TIME_POLICY=Cr:e.ON_SCHEDULED_TIME_POLICY>wr?n.ON_SCHEDULED_TIME_POLICY=wr:n.ON_SCHEDULED_TIME_POLICY=e.ON_SCHEDULED_TIME_POLICY,typeof e.ON_CACHE_THRESHOLD_POLICY!="number"?n.ON_CACHE_THRESHOLD_POLICY=Wi.ON_CACHE_THRESHOLD_POLICY:e.ON_CACHE_THRESHOLD_POLICY<Ar?n.ON_CACHE_THRESHOLD_POLICY=Ar:e.ON_CACHE_THRESHOLD_POLICY>Ir?n.ON_CACHE_THRESHOLD_POLICY=Ir:n.ON_CACHE_THRESHOLD_POLICY=e.ON_CACHE_THRESHOLD_POLICY,N.saveClientValue("HW_ha_eventUploadPolicy",n),[2]}})})},t.prototype.onReport=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.preConfigPromise];case 1:return e.sent(),[2,U.onReport()]}})})},t}(),mi=function(t,e,n,r){r&&(r.$1&&(n=n.replace("$1",r.$1)),r.$2&&(n=n.replace("$2",r.$2)));var i=[];return t&&i.push(t),e&&i.push(e),n&&i.push(n),jl+" => "+i.join("|")},jl="OpennessSDK",Yl=new(function(){function t(){}return t.prototype.info=function(e,n){if(hr(this.generateLevels(y.logLevel),ue.INFO)){var r=mi(null,null,e,n);this.printInfo(r)}},t.prototype.warn=function(e,n,r,i){if(hr(this.generateLevels(y.logLevel),ue.WARN)){var o=mi(e,n,r,i);this.printWarn(o),i&&i.$error&&this.printError(i.$error)}},t.prototype.error=function(e,n,r,i){if(hr(this.generateLevels(y.logLevel),ue.ERROR)){var o=mi(e,n,r,i);this.printError(o),i&&i.$error&&this.printError(i.$error)}},t.prototype.generateLevels=function(e){return e===ue.INFO?[ue.INFO,ue.WARN,ue.ERROR]:e===ue.WARN?[ue.WARN,ue.ERROR]:e===ue.ERROR?[ue.ERROR]:[]},t.prototype.printInfo=function(e){console.info(e)},t.prototype.printWarn=function(e){console.warn(e)},t.prototype.printError=function(e){console.error(e)},t}()),Hs=[].slice,Ei={},Kl=function(t,e,n){if(!(e in Ei)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Ei[e]=Function("F,a","return new F("+r.join(",")+")")}return Ei[e](t,n)},ql=Function.bind||function(t){var e=en(this),n=Hs.call(arguments,1),r=function(){var i=n.concat(Hs.call(arguments));return this instanceof r?Kl(e,i.length,i):ta(e,i,t)};return oe(e.prototype)&&(r.prototype=e.prototype),r};C(C.P,"Function",{bind:ql});var zl=new(function(){function t(){}return t.prototype.initAutoEvents=function(){this.attachEventListener(window,"DOMContentLoaded",Me.reportPageEntryEvent.bind(Me)),this.attachEventListener(window,"beforeunload",Me.reportPageExitEvent.bind(Me)),this.attachEventListener(window,"load",Me.computeLoadTime.bind(Me)),this.attachEventListener(document,"visibilitychange",Me.stateChanged.bind(Me))},t.prototype.attachEventListener=function(e,n,r){var i=this;e.attachEvent?e.attachEvent("on"+n,function(){r.apply(i)}):e.addEventListener(n,function(){r.apply(i)},!1)},t.prototype.initEventTriggers=function(){},t.prototype.isLaunchUpload=function(){return!1},t}()),Jl=new(function(){function t(){this.url="",this.sendFun={},this.sendFun[On.AJAX]=this.sendByAjax,this.sendFun[On.BEACON]=this.sendByBeacon,this.sendFun[On.IMG]=this.sendByImg}return t.prototype.onEvent=function(e,n,r){(r=r||{}).async=r.async||!0;var i=r&&r.mode;return i&&this.sendFun[i]?this.sendFun[i].call(this,e,n,r):this.smartSend(e,n,r)},t.prototype.smartSend=function(e,n,r){return typeof fetch<"u"&&r?.async?this.sendByBeacon(e,n,r):window.XMLHttpRequest?this.sendByAjax(e,n,r):this.sendByImg(e,n,r)},t.prototype.sendByBeacon=function(e,n,r){if(typeof fetch<"u"){var i=r?.url||this.url,o=new Headers(n);return new Promise(function(s,a){fetch(i,{method:"POST",body:JSON.stringify(e),headers:o}).then(function(u){u.ok?s():a(u.statusText)}).catch(function(u){a(u)})})}return Promise.reject(new Error("missing fetch method"))},t.prototype.sendByAjax=function(e,n,r){var i=this;return n===void 0&&(n={}),new Promise(function(o,s){var a=r?.url||i.url;if(window.XMLHttpRequest&&a){var u=new XMLHttpRequest;if(u.onabort=function(){s(new Error("The request was aborted!"))},u.onerror=function(){s(new Error("An error occurred during the transaction!"))},u.ontimeout=function(){s(new Error("Timeout!"))},u.onload=function(){o()},r&&String(r.method).toLocaleLowerCase()==="get"){for(var l in u.open("GET",a+"?"+e,!0),n)u.setRequestHeader(l,n[l]);u.send()}else{var c=r&&r.async;for(var l in u.open("POST",a,c==null||c),n)u.setRequestHeader(l,n[l]);u.send(JSON.stringify(e))}}else s(new Error("url is missing"))})},t.prototype.sendByImg=function(e,n,r){return Promise.reject(new Error("not supported"))},t.prototype.setUrl=function(e){this.url=e},t}()),Xl=new(function(){function t(){}return t.prototype.getReferrer=function(){return document&&document.referrer},t.prototype.getHref=function(){return window&&window.location.href},t.prototype.getHost=function(){return window&&window.location.host},t.prototype.getDefaultTitle=function(){return document&&document.title},t.prototype.getUAType=function(){var e=navigator.userAgent;return e.match(/AppleWebKit.*Mobile.*/)?e.indexOf(" wv")!==-1?2:1:0},t.prototype.getStartType=function(){var e;try{var n=y.campaignPushInfo;return(e=n?.source)!==null&&e!==void 0?e:Gi.parse(this.getReferrer()).origin}catch{return""}},t.prototype.getStartScene=function(){return null},t.prototype.getLibType=function(){return"Web"},t.prototype.getOaid=function(){return Promise.resolve("")},t.prototype.getOaidSource=function(){return Promise.resolve("")},t.prototype.getClientOaidFlag=function(){return Promise.resolve(!1)},t.prototype.getServerOaidFlag=function(){return Promise.resolve(!1)},t.prototype.getSystemOaidFlag=function(){return Promise.resolve(!1)},t.prototype.getCampaignPushInfo=function(){try{var e=Gi.parse(this.getHref());if(!e?.searchParams)return null;var n=e.searchParams.get("$CampaignPushInfo");if(!n)return null;var r=JSON.parse(n);return r&&Object.keys(r).length!==0?r:null}catch(i){return h.hiLog.warn(R,"",i.message),null}},t.prototype.isOnline=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2,!0]})})},t}()),Ql=Se.f,Bs=Function.prototype,Zl=/^\s*function ([^ (]*)/;"name"in Bs||te&&Ql(Bs,"name",{configurable:!0,get:function(){try{return(""+this).match(Zl)[1]}catch{return""}}});var ef=new(function(){function t(){this.infoMap={browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera"],os:["Windows","Linux","Mac OS","Android","HarmonyOS","Ubuntu","iOS"]}}return t.prototype.getMatchMap=function(e){return{Windows:e.indexOf("windows")>-1,Linux:e.indexOf("linux")>-1||e.indexOf("x11")>-1,"Mac OS":e.indexOf("macintosh")>-1,Android:e.indexOf("android")>-1||e.indexOf("adr")>-1,HarmonyOS:e.indexOf("harmonyos")>-1,Ubuntu:e.indexOf("ubuntu")>-1,iOS:e.indexOf("like mac os x")>-1}},t.prototype.getMatchInfo=function(e){var n="",r=this.getMatchMap(e);for(var i in this.infoMap)for(var o=0;o<this.infoMap[i].length;o++){var s=this.infoMap[i][o];r[s]&&(n=s)}return n},t.prototype.getOSName=function(e){return this.getMatchInfo(e)},t.prototype.getOsVersion=function(e){var n="",r={Windows:function(){var o=e.replace(/^.*windows nt ([\d.]+);.*$/,"$1"),s=[{version:"6.4",name:"10"},{version:"6.3",name:"8.1"},{version:"6.2",name:"8"},{version:"6.1",name:"7"},{version:"6.0",name:"Vista"},{version:"5.2",name:"XP"},{version:"5.1",name:"XP"},{version:"5.0",name:"2000"}].find(function(a){return a.version===o});return s&&s.name||o},Android:function(){return e.replace(/^.*android ([\d.]+);.*$/,"$1")},HarmonyOS:function(){return e.replace(/^.*harmonyos ([\d.]+);.*$/,"$1")},iOS:function(){return e.replace(/^.*os ([\d_]+) like.*$/,"$1").replace(/_/g,".")},"Mac OS":function(){return e.replace(/^.*mac os x ([\d_]+).*$/,"$1").replace(/_/g,".")}},i=this.getOSName(e);return r[i]&&(n=r[i]())===e&&(n=""),n},t.prototype.getBrowserInfo=function(){var e,n={},r=navigator.userAgent.toLowerCase();return(e=r.match(/edge\/([\d.]+)/))?n.edge=e[1]:(e=r.match(/rv:([\d.]+)\) like gecko/))||(e=r.match(/msie ([\d.]+)/))?n.ie=e[1]:(e=r.match(/firefox\/([\d.]+)/))?n.firefox=e[1]:(e=r.match(/chrome\/([\d.]+)/))?n.chrome=e[1]:(e=r.match(/opera.([\d.]+)/))?n.opera=e[1]:(e=r.match(/version\/([\d.]+).*safari/))&&(n.safari=e[1]),n.chrome?{broswer:Hc,version:n.chrome}:n.opera?{broswer:Bc,version:n.opera}:n.safari?{broswer:Gc,version:n.safari}:n.edge?{broswer:xc,version:n.edge}:n.ie?{broswer:Vc,version:n.ie}:n.firefox?{broswer:Fc,version:n.firefox}:{broswer:"",version:"0"}},t.prototype.generateUserCommonProperty=function(){return S(this,void 0,void 0,function(){var e,n,r,i,o;return T(this,function(s){switch(s.label){case 0:return this.immutableProperties||(e=navigator.userAgent.toLowerCase(),n=navigator.language.split("-").join("_").toLocaleUpperCase(),r=this.getBrowserInfo(),this.immutableProperties={_model:r.broswer,_lib_ver:"6.9.9-301",_lib_name:"hianalytics",_lib_type:h.hiClient.getLibType(),_sys_language:n,_os:this.getOSName(e),_os_ver:this.getOsVersion(e),_screen_height:window&&window.screen.height||0,_screen_width:window&&window.screen.width||0,_browser:r.broswer,_browser_version:r.version,_browser_language:n,_first_open_time:N.getClientValue("HW_ha_firstOpenTime"),_is_testdevice:y.isTestDevice(),_package_name:y.getConfig("appId")||""}),o={_new_user_flag:y.getNewUserFlag(),_signed:Number(N.getClientValue("HW_ha_existUserId")||Ta),_restriction_enabled:String(U.isRestrictionEnabled())},[4,y.resolveTerminalName()];case 1:return o._terminal_name=s.sent(),o._app_ver=y.getConfig("appVersion")||"1.0.0",i=o,y.getRoutePolicy()===Be.CN&&(i._restriction_shared=String(U.isRestrictionShared())),[2,Object.assign(i,this.immutableProperties)]}})})},t}()),tf=new(function(){function t(){}return t.prototype.getClientValue=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return[4,this.getSavedObject(e)];case 1:return n=r.sent(),Object.keys(n).length===0?[2,Promise.resolve("")]:[2,Promise.resolve(n.value)]}})})},t.prototype.getSavedObject=function(e){return S(this,void 0,void 0,function(){var n,r,i=this;return T(this,function(o){return(n=localStorage.getItem(e))===null?[2,Promise.resolve({})]:N.isValidStoredItem(n,function(){return S(i,void 0,void 0,function(){return T(this,function(s){return localStorage.getItem(e)&&localStorage.removeItem(e),[2]})})})?Ct(r=JSON.parse(n))!=="object"?[2,Promise.resolve({})]:[2,Promise.resolve(r)]:[2,Promise.resolve({})]})})},t.prototype.getSavedString=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,Promise.resolve(localStorage.getItem(e)||"")]})})},t.prototype.isKeyExist=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return[4,this.getClientValue(e)];case 1:return n=r.sent(),[2,Promise.resolve(!!n)]}})})},t.prototype.saveClientValue=function(e,n,r){return S(this,void 0,void 0,function(){var i;return T(this,function(o){return i=N.makeExpiryTime(r),localStorage.setItem(e,JSON.stringify({value:n,expiryTime:i})),[2,Promise.resolve()]})})},t.prototype.removeItem=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return[4,this.getClientValue(e)];case 1:return n.sent()!==""&&localStorage.removeItem(e),[2]}})})},t}()),ar="ID",Kt="CONTENT",nf=new(function(){function t(){}return t.prototype.getDatabase=function(){return S(this,void 0,void 0,function(){var e=this;return T(this,function(n){return[2,new Promise(function(r,i){if(e.database)r(e.database);else{var o=window.indexedDB.open("EventModels.db",1);o.onerror=function(s){h.hiLog.error(R,"","open indexedDB failed")},o.onsuccess=function(s){try{e.database=s.target.result,r(e.database)}catch(a){i(a)}},o.onupgradeneeded=function(s){e.database=s.target.result;try{e.database.objectStoreNames.contains("EVENTS")||e.database.createObjectStore("EVENTS",{keyPath:ar})}catch(a){i(a)}}}})]})})},t.prototype.getAllClientValue=function(e){return S(this,void 0,void 0,function(){var n=this;return T(this,function(r){switch(r.label){case 0:return[4,this.getDatabase()];case 1:return r.sent()==null?[2,[]]:[2,new Promise(function(i,o){var s=[];n.database.transaction("EVENTS").objectStore("EVENTS").openCursor().onsuccess=function(a){var u=a.target.result;if(u){var l=u.value;ie(l[Kt])&&n.removeItem(l[ar],e),s.push(l[Kt]),u.continue()}else i(s)}})]}})})},t.prototype.getClientValues=function(e,n){return S(this,void 0,void 0,function(){var r=this;return T(this,function(i){switch(i.label){case 0:return[4,this.getDatabase()];case 1:return i.sent()==null?[2,[]]:[2,new Promise(function(o,s){var a=[];r.database.transaction("EVENTS").objectStore("EVENTS").getAll(e).onsuccess=function(u){var l=u.target.result;if(l){var c=l.value;ie(c[Kt])&&r.removeItem(c[ar],n),a.push(c[Kt]),l.continue()}else o(a)}})]}})})},t.prototype.getClientValue=function(e,n){return S(this,void 0,void 0,function(){var r=this;return T(this,function(i){switch(i.label){case 0:return[4,this.getDatabase()];case 1:return i.sent()==null?[2,""]:[2,new Promise(function(o,s){var a=r.database.transaction("EVENTS").objectStore("EVENTS").get(e);a.onerror=function(u){return o("")},a.onsuccess=function(u){var l;return o(((l=a?.result)===null||l===void 0?void 0:l.content)||"")}})]}})})},t.prototype.isKeyExist=function(e,n){return S(this,void 0,void 0,function(){var r;return T(this,function(i){switch(i.label){case 0:return[4,this.getClientValue(e,n)];case 1:return r=i.sent(),[2,Promise.resolve(!!r)]}})})},t.prototype.saveClientValue=function(e,n,r){return S(this,void 0,void 0,function(){var i,o,s;return T(this,function(a){switch(a.label){case 0:return[4,this.getDatabase()];case 1:return a.sent()==null?[2]:((i={})[ar]=e,i[Kt]=n,o=this.database.transaction(["EVENTS"],"readwrite").objectStore("EVENTS"),(s=o.get(e)).onsuccess=function(u){var l=s.result,c=l!=null&&Kt in l?o.put(i):o.add(i);c.onsuccess=function(){return Promise.resolve()},c.onerror=function(d){return Promise.reject(d.target.error)}},s.onerror=function(u){return Promise.reject(u.target.error)},[2,Promise.resolve()])}})})},t.prototype.removeItem=function(e,n){return S(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return[4,this.getDatabase()];case 1:return r.sent()==null||this.database.transaction(["EVENTS"],"readwrite").objectStore("EVENTS").delete(e),[2]}})})},t.prototype.removeItems=function(e,n){return S(this,void 0,void 0,function(){var r;return T(this,function(i){switch(i.label){case 0:return[4,this.getDatabase()];case 1:if(i.sent()==null)return[2];for(r=0;r<e.length;r++)this.removeItem(e[r],n);return[2]}})})},t.prototype.removeAllItems=function(e){return S(this,void 0,void 0,function(){var n=this;return T(this,function(r){switch(r.label){case 0:return[4,this.getDatabase()];case 1:return r.sent()==null?[2]:[2,new Promise(function(i,o){n.database.transaction("EVENTS","readwrite").objectStore("EVENTS").clear()})]}})})},t}()),Ba=function(){function t(e){this.type="",this.event="",this.properties={},this.eventtime=0,this.event_session_name="",this.first_session_event="",this.id="",this.sendState=ya,this.collectionUrl="",this.routePolicy="",this.id=e??an.create()}return t.toMemoryEventModel=function(e){return kt(e,["properties","eventtime","event_session_name","first_session_event"])},t.toStorageEventModel=function(e){return kt(e,["sendState"])},t}(),wn=new(function(){function t(){this.headAppId="",this.timestamp=0,this.serviceTag=da,this.serviceId="hmshioperqrt",this.reqID="",this.productId=""}return t.prototype.setHeadAppId=function(e){this.headAppId=e},t.prototype.setTimestamp=function(e){this.timestamp=e},t.prototype.setServiceTag=function(e){this.serviceTag=e},t.prototype.setServiceId=function(e){this.serviceId=e},t.prototype.setReqID=function(e){this.reqID=e},t.prototype.setProductId=function(e){this.productId=e},t.prototype.getEventHead=function(){return{protocol_version:"1",serviceid:this.serviceId,appid:this.headAppId,timestamp:this.timestamp,servicetag:this.serviceTag,requestid:this.reqID,productid:this.productId}},t}()),rf=Nl,of=_l,sf=Ll,Ga=function(){function t(){this.sessionFlag="",this.eventUploadData={},this.isInit=!1}return t.prototype.getEvent=function(e,n,r,i,o){var s,a,u,l=new Ba;l.properties=n,l.event=e,l.eventtime=i,l.type=r,l.first_session_event=String(!this.isInit),l.event_session_name=(ie(u=N.getSessionValue())&&(N.handleSessionValue(!0,!1),u=N.getSessionValue()),u),l.sendState=xe,l.collectionUrl=(s=o.url)!==null&&s!==void 0?s:y.getConfig("analyticsUrl");var c=(a=o.region)!==null&&a!==void 0?a:y.getConfig(it),d=h.hiAgcUtil.getConfig().region||"";l.routePolicy=c==="UNKNOWN"?d:c;var p=h.hiAgcUtil.getABTestProvider();if(p){var v=l,f={tag:R,type:r,source:ns};p.onEvent(e,v,f)}return this.isInit||(this.isInit=!0),l},t.prototype.generateHttpHeader=function(e){var n=e===void 0?{}:e,r=n.reqId,i=r===void 0?"":r,o=n.logRegion,s=o===void 0?"":o,a=n.sdkToken,u=a===void 0?"":a,l=n.supportDebugMode,c=l===void 0||l,d={};return d[Ic]=y.getConfig("appId"),d[kc]=y.getConfig("productId"),d[Dc]=y.getConfig("resourceId"),d[Pc]=rf,d[bc]=of,d[Rc]=s?rs:da,d[Nc]=y.getConfig("packageName"),d[ha]=i,d[Oc]=sf,d[Uc]=y.getConfig("clientId"),s&&(d[$c]=encodeURIComponent(s)),c&&(d[_c]=String(y.getConfig(wt))),d[Lc]=u,d},t.prototype.generateEventUploadData=function(e,n){var r;return S(this,void 0,void 0,function(){var i,o,s,a;return T(this,function(u){switch(u.label){case 0:return wn.setHeadAppId(y.getConfig("appId")),wn.setProductId(y.getConfig("productId")),wn.setTimestamp(new Date().getTime()),wn.setReqID(n),i=wn.getEventHead(),(o={})[Ac]=e.map(function(l){return kt(l,["id","sendState","collectionUrl","routePolicy"])}),s=(r=e?.[0])===null||r===void 0?void 0:r.routePolicy,[4,dr.getUserInfo({routePolicy:s})];case 1:return a=u.sent(),o[wc]=a,this.eventUploadData[Cc]=i,this.eventUploadData[ns]=o,[2,this.eventUploadData]}})})},t.prototype.generateLogPayload=function(e,n){var r={protocol_version:"1",serviceid:"hmshimaintqrt",appid:y.getConfig("appId"),timestamp:new Date().getTime(),servicetag:rs,requestid:n,productid:y.getConfig("productId")},i=[];return e.forEach(function(o){var s,a,u=i.find(function(l){var c=l.events_common;return c.projectId===o.projectId&&c.groupId===o.groupId&&c.streamId===o.streamId});u?(u.events_common.tags=o.tags,u.events.push({eventtime:String(o.eventtime),event:"$WriteLog",properties:(s={},s[Tr]=Ye.getPageIdByUrl(y.prevScreenName),s[rn]=Ye.getPageIdByUrl(y.currentScreenName),s.$Content=o.content,s)})):i.push({events_common:{projectId:o.projectId,groupId:o.groupId,streamId:o.streamId,tags:o.tags},events:[{eventtime:String(o.eventtime),event:"$WriteLog",properties:(a={},a[Tr]=Ye.getPageIdByUrl(y.prevScreenName),a[rn]=Ye.getPageIdByUrl(y.currentScreenName),a.$Content=o.content,a)}]})}),{header:r,event:i}},t.prototype.getUploadEventModels=function(e,n){var r;r=e===Y.STOP_ANALYTICS_COLLECTION?h.sendTask.eventModels.filter(function(a){return a.event===Y.STOP_ANALYTICS_COLLECTION&&a.sendState===xe}):e===Y.LaunchApp?n?h.sendTask.eventModels.filter(function(a){var u=a.sendState===xe,l=a.sendState===Ve;return[Y.LaunchApp,Y.FIRST_OPEN,Y.ENTER_SCREEN,Y.EXIT_SCREEN].indexOf(a.event)!=-1&&(u||l)}):h.sendTask.eventModels.filter(function(a){var u=a.sendState===xe,l=a.sendState===Ve,c=a.event!==Y.STOP_ANALYTICS_COLLECTION;return a.event===e&&(c&&u||l)}):n?h.sendTask.eventModels.filter(function(a){var u=a.sendState===xe,l=a.sendState===Ve,c=a.event!==Y.STOP_ANALYTICS_COLLECTION;return a.event===e&&(c&&u||l)}):h.sendTask.eventModels.filter(function(a){var u=a.sendState===xe,l=a.sendState===Ve;return a.event!==Y.STOP_ANALYTICS_COLLECTION&&u||l});var i=y.getConfig("analyticsUrl"),o="",s=r.filter(function(a){var u=a.collectionUrl,l=u!==i&&(o===""||u===o);return l&&o===""&&(o=a.collectionUrl),l});return s.length>0&&(r=s),r=r.filter(function(a){var u=!0;return U.isDisableEvent(a.event)&&(u=!1,h.sendTask.eventModels=h.sendTask.eventModels.filter(function(l){return l.id!==a.id}),h.hiEventModelsAdapter.removeModel(a.id)),u})},t.prototype.getUploadLogModels=function(){var e=h.sendLogTask.logRecords.filter(function(o){return o.sendState===xe||o.sendState===Ve}),n=y.getConfig("analyticsUrl"),r="",i=e.filter(function(o){var s=o.collectionUrl!==n&&(r===""||o.collectionUrl===r);return s&&r===""&&(r=o.collectionUrl),s});return i.length>0&&(e=i),e},t}(),ur=!1,af=new(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return $i(e,t),e.prototype.saveEventModel=function(n){return n.event===Y.EXIT_SCREEN&&h.hiEventModelsAdapter.saveModel(n.id,n),Promise.resolve()},e.prototype.dtmProcessAspect=function(n,r,i){i===void 0&&(i={});var o=!1;if(i.isCallBack)return o;if(typeof window<"u"&&window.hmscore_dtm)if(i.isReserved){var s=window.hmscore_dtm.logAutoEvent;typeof s=="function"&&s(n,r)}else{var a=window.hmscore_dtm.logEvent;typeof a=="function"&&a(n,r)&&(o=!0)}return o},e}(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return $i(e,t),e.prototype.init=function(){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return[4,h.hiEventModelsAdapter.queryAllModels(!0)];case 1:return(n=r.sent()).length==0||this.generateEventModels(n),[2]}})})},e.prototype.generateEventModels=function(n){this.eventModels=this.eventModels.concat(n.map(function(r){var i=new Ba;Object.assign(i,r),i.sendState=xe,i.collectionUrl=y.getConfig("analyticsUrl");var o=y.getConfig(it),s=h.hiAgcUtil.getConfig().region||"";return i.routePolicy=o==="UNKNOWN"?s:o,i}))},e.prototype.doEventSendDone=function(n,r){r===void 0&&(r=!1),t.prototype.doEventSendDone.call(this,n,r);var i=this.eventModels.filter(function(o){return o.sendState===bn}).map(function(o){return o.id});h.hiEventModelsAdapter.removeModels(i)},e.prototype.doEventSendFail=function(n,r){if(t.prototype.doEventSendFail.call(this,n,r),r||y.getConfig(wt)){var i=this.eventModels.filter(function(o){return o.sendState===Ve}).map(function(o){return o.id});h.hiEventModelsAdapter.removeModels(i)}},e.prototype.saveEventModel=function(n){return h.hiEventModelsAdapter.saveModel(n.id,n)},e.prototype.removeAllEventModels=function(){h.hiEventModelsAdapter.removeAllModels()},e.prototype.removeEventModels=function(n){var r=this.eventModels.filter(function(i){return n==null||i.routePolicy===n}).map(function(i){return i.id});h.hiEventModelsAdapter.removeModels(r)},e.prototype.generateFinalUploadEventData=function(n){return S(this,void 0,void 0,function(){return T(this,function(r){return[2,n]})})},e.prototype.isServerWebV3=function(){return!0},e}(function(){function t(){this.eventModels=[],this.upLoadService=new Ga}return t.prototype.init=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2]})})},t.prototype.uploadData=function(e,n){return e===void 0&&(e=!1),S(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c=this;return T(this,function(d){switch(d.label){case 0:return[4,h.hiClient.isOnline()];case 1:return d.sent()&&(U.reportFlag||e&&n===Y.STOP_ANALYTICS_COLLECTION)?this.eventModels.length===0?[2]:[4,this.getAaidAndAuthInfo()]:[2];case 2:return r=d.sent(),i=r.isValid,r.aaid,o=r.authInfo,i&&o?[4,this.generateFinalUploadInfos(e,n,o)]:[2];case 3:if((s=d.sent()).length===0)return[2];for(a=function(p){p===0?u.sendEventData(e,s[p]):setTimeout(function(){c.sendEventData(e,s[p])},200*p)},u=this,l=0;l<s.length;l++)a(l);return[2]}})})},t.prototype.sendEventData=function(e,n){var r=this,i=n.finalUploadEventData,o=n.uploadEventDataEventModels,s=n.isOtherCollectionUrl,a=n.config,u=n.uploadDataHeader;h.hiSendData.onEvent(i,u,a).then(function(l){h.hiLog.info("resultCode: 200"),r.setEventModelsStatus(o,bn),r.doEventSendDone(o,e),r.eventModels=r.eventModels.filter(function(c){return c.sendState!==bn})}).catch(function(){r.setEventModelsStatus(o,Ve),r.doEventSendFail(o,s),(s||y.getConfig(wt))&&(r.eventModels=r.eventModels.filter(function(l){return l.sendState!==Ve}))})},t.prototype.chunkEventModels=function(e){for(var n=[],r=h.sendPolicy.getUploadMaxCount(),i=Math.ceil(e.length/r),o=0;o<i;o++){var s=e.slice(o*r,(o+1)*r);n.push(s)}return n},t.prototype.generateFinalUploadInfos=function(e,n,r){return e===void 0&&(e=!1),S(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,p,v,f,g,E;return T(this,function(P){switch(P.label){case 0:if(i=[],(o=this.upLoadService.getUploadEventModels(n,e)).length===0)return[2,i];s=this.backupEventModelStatus(o),this.setEventModelsStatus(o,Sa),a=this.upLoadService.generateHttpHeader({reqId:"",sdkToken:r}),u=this.chunkEventModels(o),l=0,P.label=1;case 1:return l<u.length?[4,this.getUploadEventDataEventModels(u[l])]:[3,6];case 2:return c=P.sent(),this.revertEventModelStatus(c,u[l],s),d=c[0],p=y.getConfig("analyticsUrl")!==d.collectionUrl,v={mode:y.getReportType(),url:d.collectionUrl,async:!e},f=an.create(),[4,this.upLoadService.generateEventUploadData(c,f)];case 3:return g=P.sent(),this.uploadDataAppendEventHeader(g,d),[4,this.generateFinalUploadEventData(g)];case 4:if(typeof(E=P.sent())=="string"&&ie(E))return[3,5];a[ha]=f,i.push(kt({finalUploadEventData:E,uploadEventDataEventModels:c,config:v,isOtherCollectionUrl:p,uploadDataHeader:a})),P.label=5;case 5:return l++,[3,1];case 6:return[2,i]}})})},t.prototype.backupEventModelStatus=function(e){for(var n={},r=0;r<e.length;r++){var i=e[r];n[i.id]=i.sendState}return n},t.prototype.revertEventModelStatus=function(e,n,r){if(e.length!==n.length)for(var i=e.map(function(a){return a.id}),o=0;o<n.length;o++){var s=n[o];i.indexOf(s.id)===-1&&this.setEventModelsStatus([s],r[s.id])}},t.prototype.getUploadEventDataEventModels=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,e]})})},t.prototype.getAaidAndAuthInfo=function(){return S(this,void 0,void 0,function(){var e,n,r;return T(this,function(i){switch(i.label){case 0:return(e=y.getAAID())?[3,2]:[4,Mr.collect(Fe)];case 1:if(!(n=i.sent())[Fe])return[2,{isValid:!1}];y.addConfig("aaid",n[Fe]),y.setIsTestDevice(),e=y.getAAID(),i.label=2;case 2:return[4,y.getHaSdkToken()];case 3:return(r=i.sent())?[2,{aaid:e,authInfo:r,isValid:!0}]:[2,{isValid:!1}]}})})},t.prototype.uploadDataAppendEventHeader=function(e,n){},t.prototype.generateFinalUploadEventData=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,e]})})},t.prototype.doEventSendDone=function(e,n){},t.prototype.doEventSendFail=function(e,n){},t.prototype.dtmProcessAspect=function(e,n,r){return!1},t.prototype.onEvent=function(e,n,r,i,o){var s,a=this;o===void 0&&(o={}),n=n||{};var u=o.immediately||!1;if(!this.dtmProcessAspect(e,n,o)&&((s=o.url)!==null&&s!==void 0?s:y.getConfig("analyticsUrl"))!==""){var l=this.upLoadService.getEvent(e,n,r,i,o);this.pushEventModel(l);var c=this.saveEventModel(l);u&&c.then(function(){a.uploadData(u,e).then(function(d){}).catch(function(d){})})}},t.prototype.setHeartbeatFunc=function(e){var n=this;this.timer=setTimeout(function(){ur||(ur=!0,n.uploadData(!1,"").then(function(r){ur=!1,h.sendPolicy.eventUploadPolicyScheduleTime()}).catch(function(r){ur=!1,h.sendPolicy.eventUploadPolicyScheduleTime()}))},e)},t.prototype.setEventModelsStatus=function(e,n,r){var i=e.map(function(o){return o.id});this.eventModels.forEach(function(o){i.indexOf(o.id)!==-1&&(r!==void 0&&o.sendState!==r||(o.sendState=n))})},t.prototype.processEventsReceivedAfterLaunch=function(){N.getClientValue(St)==="false"&&(this.eventModels.length=0,this.removeAllEventModels())},t.prototype.clearData=function(e){this.removeEventModels(e),this.eventModels=this.eventModels.filter(function(n){return e!=null&&n.routePolicy!==e})},t.prototype.getCurFocusStateSessionDuration=function(e){return y.isBackground?N.minSessionDuration:N.sessionDuration},t.prototype.pushEventModel=function(e){this.eventModels.push(e)},t.prototype.saveEventModel=function(e){return Promise.resolve()},t.prototype.removeEventModels=function(e){},t.prototype.removeAllEventModels=function(){},t.prototype.isServerWebV3=function(){return!0},t.prototype.isServerWebEvent=function(){return!1},t}()))),Gs=new(function(){function t(){}return t.prototype.getClientValue=function(e){var n=new RegExp("(^|;)[ ]*"+e+"=([^;]*)").exec(document.cookie);return Promise.resolve(n?decodeURIComponent(n[2]):"")},t.prototype.getSavedObject=function(e){return S(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return[4,this.getClientValue(e)];case 1:return n=i.sent(),r=N.makeExpiryTime(31536e6),[2,Promise.resolve({value:n,expiryTime:r})]}})})},t.prototype.getSavedString=function(e){return S(this,void 0,void 0,function(){return T(this,function(n){return[2,this.getClientValue(e)]})})},t.prototype.isKeyExist=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return[4,this.getClientValue(e)];case 1:return n=r.sent(),[2,Promise.resolve(!!n)]}})})},t.prototype.saveClientValue=function(e,n,r,i,o,s){var a=new Date;return e!==St&&e!==Dt||(r=31536e6),r&&a.setTime(a.getTime()+r),document.cookie=e+"="+encodeURIComponent(n)+(r?";expires="+a.toUTCString():"")+";path="+(i||"/")+(o?";domain="+o:"")+(s?";secure":""),Promise.resolve()},t.prototype.removeItem=function(e){return document.cookie=e+"=;path=/;expires="+new Date(0).toUTCString(),Promise.resolve()},t.prototype.getAllItems=function(){return S(this,void 0,void 0,function(){var e,n;return T(this,function(r){return e=document.cookie.split(/;\s/g),n={},e.forEach(function(i){var o=i.split("=")[0].trim();o.search(new RegExp("^HW_"))!==-1&&(n[o]=i.split("=")[1])}),[2,Promise.resolve(n)]})})},t}()),uf=new(function(){function t(){}return t.prototype.migrate=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.migrateCookie2LocalStorage()];case 1:return e.sent(),[2,Promise.resolve()]}})})},t.prototype.migrateCookie2LocalStorage=function(){return S(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return T(this,function(u){switch(u.label){case 0:return[4,Gs.getAllItems()];case 1:for(r in e=u.sent(),n=[],e)n.push(r);i=0,u.label=2;case 2:return i<n.length?(o=n[i],s=this.getSavedKey(o),a=s===Zt?"true":e[o],[4,h.hiStorage.saveClientValue(s,a,this.getDuration(o))]):[3,5];case 3:u.sent(),Gs.removeItem(o),u.label=4;case 4:return i++,[3,2];case 5:return[2]}})})},t.prototype.getSavedKey=function(e){var n=h.hiAgcUtil.getConfig().client.app_id,r=e;return r==="HW_ha_"+n?r=Zt:r==="HW_hid_"+n?r=qt:r==="HW_analytics_enabled"?r=St:r==="HW_ha_restriction_enabled"&&(r=Dt),r},t.prototype.getDuration=function(e){var n=31536e6;return e===qt&&(n=N.sessionDuration),n},t}()),cr=!1,cf=function(){function t(){this.logRecords=[],this.timerId=0,this.upLoadService=new Ga}return t.prototype.init=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2]})})},t.prototype.uploadData=function(){return S(this,void 0,void 0,function(){var e,n,r,i=this;return T(this,function(o){switch(o.label){case 0:return[4,h.hiClient.isOnline()];case 1:return o.sent()&&U.reportFlag?this.logRecords.length===0?[2]:[4,y.getHaSdkToken()]:[2];case 2:return(e=o.sent())?(n={mode:y.getReportType(),url:y.getConfig("analyticsUrl")},r={},this.logRecords.forEach(function(s){var a=s.sendState;if(a===xe||a===Ve){var u=s.region;r[u]=r[u]||[],r[u].push(s)}}),Object.entries(r).forEach(function(s){for(var a=s[0],u=s[1],l=i.chunkLogDatas(u),c=function(v){var f=l[v];if(f.length===0)return{value:void 0};var g=an.create(),E=i.upLoadService.generateLogPayload(f,g),P=i.generateFinalUploadLogData(E);if(typeof P=="string"&&ie(P))return{value:void 0};var L=i.upLoadService.generateHttpHeader({reqId:g,logRegion:a,supportDebugMode:!1,sdkToken:e});f.forEach(function(w){return w.sendState=Sa}),h.hiSendData.onEvent(P,L,n).then(function(){h.hiLog.info("upload log successfully, resultCode: 200"),f.forEach(function(w){return w.sendState=bn}),i.doLogSendDone(f),i.logRecords=i.logRecords.filter(function(w){return w.sendState!==bn})},function(){f.forEach(function(w){return w.sendState=Ve}),i.doLogSendFail(f)})},d=0;d<l.length;d++){var p=c(d);if(Ct(p)==="object")return p.value}}),[2]):[2]}})})},t.prototype.chunkLogDatas=function(e){var n=h.sendPolicy.getUploadMaxCount();return[e.slice(0,n)]},t.prototype.generateFinalUploadLogData=function(e){return e},t.prototype.setHeartbeatFunc=function(e){var n=this;this.timerId=setTimeout(function(){cr||(cr=!0,n.uploadData().then(function(r){cr=!1,h.sendPolicy.logUploadPolicyScheduleTime()}).catch(function(r){cr=!1,h.sendPolicy.logUploadPolicyScheduleTime()}))},e)},t.prototype.writeLog=function(e){e.sendState=xe,this.logRecords.push(e),this.saveLogModel(e)},t.prototype.doLogSendDone=function(e){},t.prototype.doLogSendFail=function(e){},t.prototype.saveLogModel=function(e){},t}(),Nt,Ae,lf=new(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return $i(e,t),e}(cf));(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));var ff=function(){function t(){var e=this;this.moduleName="",this.logLevel=Ae.VERBOSE,this.userLogProvider=null,this.logProvider=function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(!(r<e.logLevel)){var s=t.consoleType[r];if(!s)throw new Error("invalid logType: "+r);console[s]("[Module:"+n+"] ["+new Date().toISOString()+"] | ",i.toString())}}}return t.createLogger=function(e){for(var n=0,r=t.logInstanceArray;n<r.length;n++){var i=r[n];if(i.moduleName==e)return i}var o=new t;return o.moduleName=e,t.logInstanceArray.push(o),o},t.prototype.setLogProvider=function(e){if(typeof e!="function")throw new Error("logProvider must be set as a function");this.logProvider=e},t.prototype.setUserLogProvider=function(e){this.userLogProvider=e},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(Ae.DEBUG,e)},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(Ae.VERBOSE,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(Ae.INFO,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(Ae.WARN,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.doLog(Ae.ERROR,e)},t.prototype.doLog=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.userLogProvider&&this.userLogProvider(this.moduleName,e,n),this.logProvider(this.moduleName,e,n)},t.consoleType=((Nt={})[Ae.DEBUG]="log",Nt[Ae.VERBOSE]="log",Nt[Ae.SILENT]="log",Nt[Ae.INFO]="info",Nt[Ae.WARN]="warn",Nt[Ae.ERROR]="error",Nt),t.logInstanceArray=[],t}(),Wa=function(t,e){return(Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yi(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function Si(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var Ti=function(){function t(){this.TWO_MINUTES_EARLY=12e4,this.ONE_HOUR=36e5,this.expiration=0,this.tokenString="",this.issuedAt="0",this.notBefore="0",this.lastRefreshTime=0}return t.prototype.constructFromJson=function(e){this.expiration=e.expiration,this.issuedAt=e.issuedAt,this.tokenString=e.tokenString,this.notBefore=e.notBefore,this.lastRefreshTime=e.lastRefreshTime},t.prototype.isValid=function(){var e=new Date().getTime(),n=this.lastRefreshTime+1e3*this.expiration-this.TWO_MINUTES_EARLY;return this.tokenString!=null&&e<=n},t.prototype.allowRefresh=function(){return new Date().getTime()-this.lastRefreshTime>this.ONE_HOUR},t}(),pf=function(t){function e(n){var r=t.call(this,n)||this;return r.REQUEST_URL="/agc/apigw/oauth2/v1/token",r.useJwt=0,r}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}Wa(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,t),e.prototype.getBody=function(){return{grant_type:"client_credentials",client_id:this.getHeaderClientId(),client_secret:this.getClientSecret(),useJwt:this.getUseJwt()}},e.prototype.getUrl=function(){return this.getAgcgwUrl()+this.REQUEST_URL},e.prototype.setUseJwt=function(n){this.useJwt=n},e.prototype.getUseJwt=function(){return this.useJwt},e}(function(){function t(e){this.sdkPlatform="",this.sdkPlatformVersion="",this.sdkType="JS",this.packageName="",this.appVersion="",this.headerProductId="",this.headerAppId="",this.headerClientId="",this.clientSecret="",this.agcgwUrl="",this.agcgwBackUrl="",this.agcConfig=null,this.instance=null,this.sdkServiceName="agconnect-credential",this.sdkVersion="1.3.1",this.setAGCInstance(e)}return t.prototype.setAGCInstance=function(e){if(!e)throw new F(j.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");this.instance=e,this.agcConfig=null},t.prototype.getHeaderClientId=function(){return this.initConfig()?this.headerClientId:""},t.prototype.getClientSecret=function(){return this.initConfig()?this.clientSecret:""},t.prototype.getAgcgwUrl=function(){return this.initConfig()?this.agcgwUrl:""},t.prototype.getHeader=function(){if(!this.initConfig())return"";var e=this.instance.getService("AGCPlatformInfoService");return e&&(this.sdkPlatform=e.getPlatform(),this.sdkPlatformVersion=e.getPlatformVersion(),this.packageName=e.getPackageName(),this.appVersion=e.getAppVersion()),{sdkVersion:this.sdkVersion,sdkPlatform:this.sdkPlatform,sdkServiceName:this.sdkServiceName,sdkPlatformVersion:this.sdkPlatformVersion,sdkType:this.sdkType,packageName:this.packageName,appVersion:this.appVersion,app_id:this.headerAppId,client_id:this.headerClientId,productId:this.headerProductId,"Content-Type":"application/json;charset=UTF-8"}},t.prototype.initConfig=function(){if(!this.instance)throw new F(j.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");return this.agcConfig==null&&(this.agcConfig=this.instance.config(),this.headerProductId=this.agcConfig.client.product_id,this.headerClientId=this.agcConfig.client.client_id,this.headerAppId=this.agcConfig.client.app_id,this.clientSecret=this.agcConfig.client.client_secret,this.agcgwUrl=this.instance.getGwUrl(),this.agcgwBackUrl=this.instance.getGwBackUrl()),!0},t}()),Ws=function(){function t(){}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getStorage=function(e){var n=e.getService("AGCStorageService");if(n!=null)return n.getStorageInstance(0,e.getCryptImp());ji.error("Get AGC storage Service failed.")},t}(),ji=ff.createLogger("CredentialsService"),hf=function(){function t(e){this.instance=e||ee.instance()}return t.prototype.removeToken=function(){if(this.instance.getCustomCredentialsProvider())return Promise.resolve();var e=this.getCredentialStoreKey(),n=Ws.getInstance().getStorage(this.instance);return n?n.remove(e).catch(function(r){return r instanceof F?Promise.reject(r):Promise.reject(new F(j.REMOVE_TOKEN_FAILED,r,"CredentialsService"))}):Promise.reject(new F(j.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))},t.prototype.getToken=function(e){return yi(this,void 0,void 0,function(){var n,r,i,o,s,a=this;return Si(this,function(u){switch(u.label){case 0:return this.instance.getCustomCredentialsProvider()?(n=new Ti,[4,this.instance.getCustomCredentialsProvider().getToken(!!e)]):[3,2];case 1:return(r=u.sent())&&r.tokenString&&r.expiration?isNaN(Number(r.expiration))||Number(r.expiration)<=0?(ji.error("the customCredentialsProvider getToken must return valid expiration."),[2,Promise.reject(new F(j.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken must return valid expiration"},"CredentialsService"))]):(n.tokenString=r.tokenString,n.expiration=r.expiration,n.lastRefreshTime=new Date().getTime(),[2,Promise.resolve(n)]):(ji.error("the customCredentialsProvider getToken method must contain return value: tokenString, expiration."),[2,Promise.reject(new F(j.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken method must contain return value: tokenString, expiration"},"CredentialsService"))]);case 2:return i=this.getCredentialStoreKey(),(o=Ws.getInstance().getStorage(this.instance))?(s=new Ti,[2,o.get(i).then(function(l){return yi(a,void 0,void 0,function(){var c,d;return Si(this,function(p){switch(p.label){case 0:return l?s.constructFromJson(JSON.parse(l)):s=null,s&&s.isValid()?e&&s.allowRefresh()?[4,this.requestToken()]:[3,3]:[3,4];case 1:return c=p.sent(),[4,o.set(i,JSON.stringify(c))];case 2:return p.sent(),[2,Promise.resolve(c)];case 3:return[2,Promise.resolve(s)];case 4:return[4,this.requestToken()];case 5:return d=p.sent(),[4,o.set(i,JSON.stringify(d))];case 6:return p.sent(),[2,Promise.resolve(d)]}})})}).catch(function(l){return l instanceof F?Promise.reject(l):Promise.reject(new F(j.GET_TOKEN_FAILED,l,"CredentialsService"))})]):[2,Promise.reject(new F(j.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))]}})})},t.prototype.getCredentialStoreKey=function(){return this.instance.name()===_r?"agcClientToken:"+this.instance.config().client.client_id:"agcClientToken_"+this.instance.name()+":"+this.instance.config().client.client_id},t.prototype.requestToken=function(){return yi(this,void 0,void 0,function(){var e,n;return Si(this,function(r){return(e=this.instance.getService("AGCNetworkService"))?((n=new pf(this.instance)).setUseJwt(1),[2,e.post(n.getUrl(),n.getBody(),n.getHeader()).then(function(i){if(i.data.ret&&i.data.ret.code!=0)return Promise.reject(new F({code:i.data.ret.code,message:i.data.ret.msg},null,"CredentialsService"));var o=new Ti;return o.tokenString=i.data.access_token,o.expiration=i.data.expires_in,o.lastRefreshTime=new Date().getTime(),Promise.resolve(o)})]):[2,Promise.reject(new F(j.FAIL_TO_GET_NETWORK_SERVICE,null,"CredentialsService"))]})})},t}();ee.registerInternalService({name:"CredentialsService",serviceFactory:function(t){return new hf(t)}});var df=new(function(){function t(){}return t.prototype.init=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2]})})},t.prototype.getConfig=function(){return ee.instance().config()},t.prototype.getToken=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:if(!(n=ee.instance().getService("CredentialsService")))return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.getToken()];case 2:return[2,r.sent().tokenString];case 3:return r.sent(),h.hiLog.error(e,Us.code,Us.message),[2,""];case 4:return[3,6];case 5:return h.hiLog.warn(e,or.code,or.message),[2,""];case 6:return[2]}})})},t.prototype.getAaid=function(e){return S(this,void 0,void 0,function(){var n;return T(this,function(r){try{return(n=ee.instance().getService("ClientInfoService"))!=null?[2,n.getAaid()]:(h.hiLog.warn(e,or.code,or.message),[2,""])}catch{return h.hiLog.error(e,Nr.code,Nr.message),[2,""]}return[2]})})},t.prototype.deleteAaid=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2]})})},t.prototype.getPushToken=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2,""]})})},t.prototype.getOaid=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2,""]})})},t.prototype.getOaidFlag=function(){return S(this,void 0,void 0,function(){return T(this,function(e){return[2,!0]})})},t.prototype.getABTestProvider=function(){var e=ee.instance().getService("ABTestService");if(e!==null)return e.getABtestInstance("REMOTE_CONFIG")?e:null},t}());h.setHiLog(Yl),h.setHiSendData(Jl),h.setSendLogTask(lf),h.setSendTask(af),h.setHiAutoReport(zl),h.setHiStorage(tf),h.setHiDBStorage(nf),h.setHiClientProperty(ef),h.setHiClient(Xl),h.setHiMigration(uf),h.setHiAgcUtil(df);var gf=function(){function t(){}return t.prototype.onEventCallback=function(e,n){var r={eventtime:new Date().getTime(),isCallBack:!0};U.onEventCallback(e,n,r)},t}(),vf=new js(function(){return new Wl}),mf=new js(function(){return new gf}),Ef={InitSettings:Xt,RoutePolicy:Be,LogLevel:ue,UrlClusteringOptions:Ha,UserProfileType:Bi,EventName:ze,ParamName:{STORENAME:"$StoreName",BRAND:"$Brand",CATEGORY:"$Category",PRODUCTID:"$ProductId",PRODUCTNAME:"$ProductName",PRODUCTFEATURE:"$ProductFeature",PRICE:"$Price",QUANTITY:"$Quantity",REVENUE:"$Revenue",CURRNAME:"$CurrName",PLACEID:"$PlaceId",DESTINATION:"$Destination",ENDDATE:"$EndDate",BOOKINGDAYS:"$BookingDays",PASSENGERSNUMBER:"$PassengersNumber",BOOKINGROOMS:"$BookingRooms",ORIGINATINGPLACE:"$OriginatingPlace",BEGINDATE:"$BeginDate",TRANSACTIONID:"$TransactionId",CLASS:"$Class",CLICKID:"$ClickId",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",EXTENDPARAM:"$ExtendParam",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot",MEDIUM:"$Medium",SOURCE:"$Source",KEYWORDS:"$Keywords",OPTION:"$Option",STEP:"$Step",VIRTUALCURRNAME:"$VirtualCurrName",VOUCHER:"$Voucher",PLACE:"$Place",SHIPPING:"$Shipping",TAXFEE:"$TaxFee",USERGROUPID:"$UserGroupId",LEVELNAME:"$LevelName",RESULT:"$Result",ROLENAME:"$RoleName",LEVELID:"$LevelId",CHANNEL:"$Channel",SCORE:"$Score",SEARCHKEYWORDS:"$SearchKeywords",CONTENTTYPE:"$ContentType",ACHIEVEMENTID:"$AchievementId",FLIGHTNO:"$FlightNo",POSITIONID:"$PositionId",PRODUCTLIST:"$ProductList",ACOUNTTYPE:"$AcountType",EVTRESULT:"$EvtResult",PREVLEVEL:"$PrevLevel",CURRVLEVEL:"$CurrvLevel",VOUCHERS:"$Vouchers",MATERIALSLOTTYPE:"$MaterialSlotType",LISTID:"$ListId",FILTERS:"$Filters",SORTS:"$Sorts",ORDERID:"$OrderId",PAYTYPE:"$PayType",REASON:"$Reason",EXPIREDATE:"$ExpireDate",VOUCHERTYPE:"$VoucherType",SERVICETYPE:"$ServiceType",DETAILS:"$Details",COMMENTTYPE:"$CommentType",REGISTMETHOD:"$RegistMethod",FEATURE:"$Feature",ROOMS:"$Rooms",SALEPRICE:"$SalePrice",RENTFEE:"$RentFee",RENTTYPE:"$RentType",ACTIVITYNAME:"$ActivityName",ACTIVITYTYPE:"$ActivityType",AMOUNT:"$Amount",BALANCE:"$Balance",BATTLENAME:"$BattleName",BATTLETYPE:"$BattleType",CARDLIST:"$CardList",CLASSLIMIT:"$ClassLimit",COMBAT:"$Combat",CUTSCENENAME:"$CutsceneName",DAMAGE:"$Damage",DIFFICULTY:"$Difficulty",DISCOUNT:"$Discount",DUNGEONNAME:"$DungeonName",DURATION:"$Duration",ENHANCETYPE:"$EnhanceType",EQUIPMENTID:"$EquipmentId",EQUIPMENTLEVEL:"$EquipmentLevel",EQUIPMENTNAME:"$EquipmentName",FIRSTCREATE:"$FirstCreate",FIRSTPAY:"$FirstPay",FIRSTSIGNIN:"$FirstSignIn",FRIENDNUMBER:"$FriendNumber",GIFTNAME:"$GiftName",GIFTTYPE:"$GiftType",INVITER:"$Inviter",ISFREE:"$IsFree",ISTOPLEVEL:"$IsTopLevel",ITEMLIST:"$ItemList",LEFTPULLSFORGUARANTEE:"$LeftPullsForGuarantee",LEVELBEFORE:"$LevelBefore",LEVELLIMIT:"$LevelLimit",MEMBERS:"$Members",MESSAGETITLE:"$MessageTitle",MESSAGETYPE:"$MessageType",MOUNTDEFAULTNAME:"$MountDefaultName",MOUNTID:"$MountId",MOUNTLEVEL:"$MountLevel",MVP:"$MVP",NEWCLASS:"$NewClass",NEWVALUE:"$NewValue",NUMBEROFCARDS:"$NumberOfCards",NUMBEROFDRAWING:"$NumberOfDrawing",OLDCLASS:"$OldClass",OLDVALUE:"$OldValue",OPERATION:"$Operation",PACKAGETYPE:"$PackageType",PARTICIPANTS:"$Participants",PETDEFAULTNAME:"$PetDefaultName",PETID:"$PetId",PETLEVEL:"$PetLevel",QUALITY:"$Quality",RANKING:"$Ranking",REWARD:"$Reward",ROLECLASS:"$RoleClass",ROLECOMBAT:"$RoleCombat",ROLEGENDER:"$RoleGender",SERVER:"$Server",SKILLLEVEL:"$SkillLevel",SKILLLEVELBEFORE:"$SkillLevelBefore",SKILLNAME:"$SkillName",TASKNAME:"$TaskName",TASKTYPE:"$TaskType",TOTALAFTERCHANGE:"$TotalAfterChange",TYPE:"$Type",USERGROUPLEVEL:"$UserGroupLevel",USERGROUPNAME:"$UserGroupName",VIDEONAME:"$VideoName",VIDEOTYPE:"$VideoType",VIPLEVEL:"$VIPLevel",WINREASON:"$WinReason",VIPTYPE:"$VIPType",VIPSTATUS:"$VIPStatus",VIPEXPIREDATE:"$VIPExpireDate",ENTER:"$Enter",STARTDATE:"$StartDate",EFFECTIVETIME:"$EffectiveTime",NAME:"$Name",MODE:"$Mode",SUBJECT:"$Subject",ACCURACY:"$Accuracy",CONTENTLENGTH:"$ContentLength",REMARK:"$Remark",DAYS:"$Days",POSTID:"$PostId",ENTRY:"$Entry",INFORMATIONTYPE:"$InformationType",INFORMATION:"$Information",TASKID:"$TaskId",LEVEL:"$Level",CONTENTNAME:"$ContentName",PAGENAME:"$PageName",PROPS:"$Props",PURCHASEENTRY:"$PurchaseEntry",ARRIVALDATE:"$ArrivalDate",BINDDURATION:"$BindDuration",BUYERTYPE:"$BuyerType",CONFIGURATION:"$Configuration",DEALERNAME:"$DealerName",DEVICETYPE:"$DeviceType",DEVICENAME:"$DeviceName",ENERGY:"$Energy",ISLOAN:"$IsLoan",LOANCHANNEL:"$LoanChannel",LOANPRODUCTNAME:"$LoanProductName",MODEL:"$Model",OCCURREDDATE:"$OccurredDate",REPAYMENTMETHOD:"$RepaymentMethod",SEAT:"$Seat",SERIES:"$Series",ACTION:"$Action",PAGE:"$Page",INDEX:"$Index",MODULE:"$Module",SOURCEPAGENAME:"$SourcePageName",CITY:"$City",FROMCITY:"$FromCity",TOCITY:"$ToCity",DEPARTUREDATE:"$DepartureDate",RETURNDATE:"$ReturnDate",TRIPTYPE:"$TripType",SEARCHHOTEL:"$SearchHotel",SPECIALTICKET:"$SpecialTicket",HASBABY:"$HasBaby",HASCHILDREN:"$HasChildren",COUNTRY:"$Country",STAR:"$Star",CHECKINDATE:"$CheckinDate",CHECKOUTDATE:"$CheckoutDate",ALDULTCOUNT:"$AldultCount",BABYCOUNT:"$BabyCount",CHILDRENCOUNT:"$ChildrenCount",FROM:"$From",CARMODE:"$CarMode",CARTIME:"$CarTime",FLIGHTID:"$FlightID",SEARCHRESULT:"$SearchResult",PRODUCT:"$Product",DEPARTURETIME:"$DepartureTime",ARRIVETIME:"$ArriveTime",DEPARTUREAIRPORT:"$DepartureAirport",ARRIVEEAIRPORT:"$ArriveeAirport",AIRLINE:"$Airline",FLIGHTTYPE:"$FlightType",DIRECTFLIGHT:"$DirectFlight",TRAINTYPE:"$TrainType",FROMSTATION:"$FromStation",BEDTYPE:"$BedType",BREAKFAST:"$Breakfast",ARRIVEDATE:"$ArriveDate",TRAINID:"$TrainID",HOTELID:"$HotelID",HOTELNAME:"$HotelName",TRIPTAG:"$TripTag",HOTELTYPE:"$HotelType",CABIN:"$Cabin",ROOMTYPE:"$RoomType",CARTYPE:"$CarType",SUPPLIER:"$Supplier",STUDENTCOUNT:"$StudentCount",ROOMCOUNT:"$RoomCount",PERSONCOUNT:"$PersonCount",VOUCHERID:"$VoucherID",VOUCHERNAME:"$VoucherName",VOUCHERPRICE:"$VoucherPrice",USERTYPE:"$UserType",TARGET:"$Target",ISCOMPELETED:"$IsCompeleted",USERLEVEL:"$UserLevel",TIME:"$Time",DISTANCE:"$Distance",CALORIECONSUMED:"$CalorieConsumed",PROGRESS:"$Progress",SOURCEPAGE:"$SourcePage",MULTIPLEACCOUNTS:"$MultipleAccounts",ACCOUNTTYPE:"$AccountType",FAILUREREASON:"$FailureReason",AUTHORITY:"$Authority",CARDTYPE:"$CardType",ISSUEBANK:"$IssueBank",TRANSFORMAMOUNT:"$TransformAmount",BANKNAME:"$BankName",ANK_NAME:"bank_name",SOURCEMODULE:"$SourceModule",STOCKCODE:"$Stockcode",STOCKNAME:"$Stockname",MARKETCODE:"$MarketCode",MARKETNAME:"$MarketName",VIEWTYPE:"$ViewType",TRENDCYCLE:"$TrendCycle",TRANSACTIONTYPE:"$TransactionType",CURRENCY:"$Currency",MONEY:"$Money",FINANCEID:"$FinanceId",FINANCENAME:"$FinanceName",FINANCETYPE:"$FinanceType",FINANCERATE:"$FinanceRate",FINANCETIMELIMIT:"$FinanceTimeLimit",FINANCEAMOUNTMIN:"$FinanceAmountMin",FINANCERISKLEV:"$FinanceRiskLev",PURCHASEAMOUNT:"$PurchaseAmount",HANDLINGFEES:"$HandlingFees",REDEMPTIONAMOUNT:"$RedemptionAmount",RETURNAMOUNT:"$ReturnAmount",FUNDCODE:"$FundCode",FUNDTYPE:"$FundType",FUNDNAME:"$FundName",FUNDRISKLEV:"$FundRiskLev",CHARGERATE:"$ChargeRate",PAYMENTMETHOD:"$PaymentMethod",FIXEDCYCLE:"$FixedCycle",ENTRANCE:"$Entrance",CODE:"$code",NEWSTOPIC:"$NewsTopic",INFORMATIONSOURCE:"$InformationSource",COMMENTSNUMBER:"$CommentsNumber",FORWARDINGNUMBER:"$forwardingNumber",LIKES:"$Likes",TITLE:"$Title",SEARCHTYPE:"$SearchType",SOURCELOCATION:"$SourceLocation",LOCATION:"$Location",ID:"$Id",PLAYMODE:"$PlayMode",LISTS:"$Lists",ADLOCATION:"$Adlocation",ADCATEGORY:"$AdCategory",ADTHEME:"$AdTheme",BUTTONNAME:"$ButtonName",USERID:"$UserID",PAGECATEGORY:"$PageCategory",RATING:"$Rating",PERFORMANCE:"$Performance",TRADINGRULES:"$TradingRules",PORTFOLIO:"$Portfolio",INVESTMENTMANAGER:"$InvestmentManager",FUNDSIZE:"$FundSize",VIPMONEY:"$VipMoney",VIPLOCATION:"$VipLocation",VIPFAILED:"$VipFailed",SECTION:"$Section"}};ee.registerApiProvider("analytics",function(){return vf.get()},Ef),function(t){t.registerApiProvider("hmscore_analytics",function(){return mf.get()})}(ee);ee.analytics.UrlClusteringOptions.enabled=!1;ee.analytics.UrlClusteringOptions.removeProtocol=!0;ee.analytics.UrlClusteringOptions.removeOrigin=!1;ee.analytics.UrlClusteringOptions.removeAllParams=!0;ee.analytics.UrlClusteringOptions.removeParams={removeValuesOnly:!0,params:{key1:{removeValuesOnly:!1,position:"both"}}};ee.analytics.UrlClusteringOptions.removeAnchor=!0;ee.analytics.UrlClusteringOptions.urlPatterns=[];ee.analytics.UrlClusteringOptions.urlSeparators=":/.?=&#";ee.analytics();(function(t,e,n,r,i){t[r]=t[r]||[],t[r].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var o=e.getElementsByTagName(n)[0],s=e.createElement(n),a=r!="dataLayer"?"&l="+r:"";s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+i+a,o.parentNode.insertBefore(s,o)})(window,document,"script","dataLayer","GTM-54VV455");function yf({button:t,content:e,animated:n=!1,closeAt:r=-1}){e.id&&t.setAttribute("aria-controls",e.id),r>0&&window.matchMedia(`(min-width: ${r}px)`).addEventListener("change",l=>{l.matches&&o(!1)});const[i,o]=lu(!1);Co(()=>{t.setAttribute("aria-expanded",String(i())),i()&&e.style.removeProperty("display"),!i()&&!n&&(e.style.display="none"),i()&&document.documentElement.classList.add("disclosure-open"),requestAnimationFrame(()=>{i()?e.dataset.open="true":delete e.dataset.open})}),e.addEventListener("transitionstart",()=>{}),n&&e.addEventListener("transitionend",()=>{i()||(e.style.display="none",document.documentElement.classList.remove("disclosure-open"))}),t.addEventListener("click",()=>{o(!i())}),e.addEventListener("keydown",u=>{u.key==="Escape"&&(o(!1),t.focus())});const s=u=>{e.contains(u.target)||u.target!==t&&u.stopPropagation()},a=u=>{i()&&!e.contains(u.target)&&!t.contains(u.target)&&(o(!1),t.focus())};Co(()=>{i()?(window.addEventListener("click",a),window.addEventListener("focusin",s)):(window.removeEventListener("click",a),window.removeEventListener("focusin",s))})}yf({button:document.querySelector("#astro-header-drawer-button"),content:document.querySelector("#astro-header-drawer"),animated:!0,closeAt:1024});fu("[data-home-link]",HTMLAnchorElement).addEventListener("contextmenu",t=>{t.preventDefault(),window.location.href="/press#assets"});const Ci=document.querySelector("#resources-menu");Ci.addEventListener("focusout",()=>{Ci.matches(":focus-within")||setTimeout(()=>{Ci.open=!1},200)});const Sf=document.querySelector('link[rel="icon"]');document.addEventListener("visibilitychange",()=>{const t=document.hidden;Sf.setAttribute("href",`/favicon${t?"-hidden":""}.svg`)});export{pu as c,wf as g};
